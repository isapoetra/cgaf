/*
* jQuery timepicker addon
* By: Trent Richardson [http://trentrichardson.com]
* Version 1.0.0
* Last Modified: 02/05/2012
*
* Copyright 2012 Trent Richardson
* Dual licensed under the MIT and GPL licenses.
* http://trentrichardson.com/Impromptu/GPL-LICENSE.txt
* http://trentrichardson.com/Impromptu/MIT-LICENSE.txt
*
* HERES THE CSS:
* .ui-timepicker-div .ui-widget-header { margin-bottom: 8px; }
* .ui-timepicker-div dl { text-align: left; }
* .ui-timepicker-div dl dt { height: 25px; margin-bottom: -25px; }
* .ui-timepicker-div dl dd { margin: 0 10px 10px 65px; }
* .ui-timepicker-div td { font-size: 90%; }
* .ui-tpicker-grid-label { background: none; border: none; margin: 0; padding: 0; }
*/(function($){function extendRemove(a,b){$.extend(a,b);for(var c in b)if(b[c]===null||b[c]===undefined)a[c]=b[c];return a}function Timepicker(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",ampm:!1,amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"hh:mm tt",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone"},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,showTimepicker:!0,timezoneIso8609:!1,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null},$.extend(this._defaults,this.regional[""])}$.ui.timepicker=$.ui.timepicker||{};$.ui.timepicker.version||($.extend($.ui,{timepicker:{version:"1.0.0"}}),$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,setDefaults:function(a){extendRemove(this._defaults,a||{});return this},_newInst:function($input,o){var tp_inst=new Timepicker,inlineSettings={};for(var attrName in this._defaults){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,{beforeShow:function(a,b){if($.isFunction(o.beforeShow))return o.beforeShow(a,b,tp_inst)},onChangeMonthYear:function(a,b,c){tp_inst._updateDateTime(c),$.isFunction(o.onChangeMonthYear)&&o.onChangeMonthYear.call($input[0],a,b,c,tp_inst)},onClose:function(a,b){tp_inst.timeDefined===!0&&$input.val()!=""&&tp_inst._updateDateTime(b),$.isFunction(o.onClose)&&o.onClose.call($input[0],a,b,tp_inst)},timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(a){return a.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(a){return a.toUpperCase()});if(tp_inst._defaults.timezoneList===null){var timezoneList=[];for(var i=-11;i<=12;i++)timezoneList.push((i>=0?"+":"-")+("0"+Math.abs(i).toString()).slice(-2)+"00");tp_inst._defaults.timezoneIso8609&&(timezoneList=$.map(timezoneList,function(a){return a=="+0000"?"Z":a.substring(0,3)+":"+a.substring(3)})),tp_inst._defaults.timezoneList=timezoneList}tp_inst.hour=tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec,tp_inst.ampm="",tp_inst.$input=$input,o.altField&&(tp_inst.$altInput=$(o.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")}));if(tp_inst._defaults.minDate==0||tp_inst._defaults.minDateTime==0)tp_inst._defaults.minDate=new Date;if(tp_inst._defaults.maxDate==0||tp_inst._defaults.maxDateTime==0)tp_inst._defaults.maxDate=new Date;tp_inst._defaults.minDate!==undefined&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),tp_inst._defaults.minDateTime!==undefined&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),tp_inst._defaults.maxDate!==undefined&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),tp_inst._defaults.maxDateTime!==undefined&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime()));return tp_inst},_addTimePicker:function(a){var b=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(b),this._limitMinMaxDateTime(a,!1),this._injectTimePicker()},_parseTime:function(a,b){var c=this._defaults.timeFormat.toString().replace(/h{1,2}/ig,"(\\d?\\d)").replace(/m{1,2}/ig,"(\\d?\\d)").replace(/s{1,2}/ig,"(\\d?\\d)").replace(/l{1}/ig,"(\\d?\\d?\\d)").replace(/t{1,2}/ig,this._getPatternAmpm()).replace(/z{1}/ig,"(z|[-+]\\d\\d:?\\d\\d)?").replace(/\s/g,"\\s?")+this._defaults.timeSuffix+"$",d=this._getFormatPositions(),e="",f;this.inst||(this.inst=$.datepicker._getInst(this.$input[0]));if(b||!this._defaults.timeOnly){var g=$.datepicker._get(this.inst,"dateFormat"),h=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");c="^.{"+g.length+",}?"+this._defaults.separator.replace(h,"\\$&")+c}f=a.match(new RegExp(c,"i"));if(f){d.t!==-1&&(f[d.t]===undefined||f[d.t].length===0?(e="",this.ampm=""):(e=$.inArray(f[d.t].toUpperCase(),this.amNames)!==-1?"AM":"PM",this.ampm=this._defaults[e=="AM"?"amNames":"pmNames"][0])),d.h!==-1&&(e=="AM"&&f[d.h]=="12"?this.hour=0:e=="PM"&&f[d.h]!="12"?this.hour=(parseFloat(f[d.h])+12).toFixed(0):this.hour=Number(f[d.h])),d.m!==-1&&(this.minute=Number(f[d.m])),d.s!==-1&&(this.second=Number(f[d.s])),d.l!==-1&&(this.millisec=Number(f[d.l]));if(d.z!==-1&&f[d.z]!==undefined){var i=f[d.z].toUpperCase();switch(i.length){case 1:i=this._defaults.timezoneIso8609?"Z":"+0000";break;case 5:this._defaults.timezoneIso8609&&(i=i.substring(1)=="0000"?"Z":i.substring(0,3)+":"+i.substring(3));break;case 6:this._defaults.timezoneIso8609?i.substring(1)=="00:00"&&(i="Z"):i=i=="Z"||i.substring(1)=="00:00"?"+0000":i.replace(/:/,"")}this.timezone=i}return!0}return!1},_getPatternAmpm:function(){var a=[],b=this._defaults;b.amNames&&$.merge(a,b.amNames),b.pmNames&&$.merge(a,b.pmNames),a=$.map(a,function(a){return a.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")});return"("+a.join("|")+")?"},_getFormatPositions:function(){var a=this._defaults.timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z)/g),b={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};if(a)for(var c=0;c<a.length;c++)b[a[c].toString().charAt(0)]==-1&&(b[a[c].toString().charAt(0)]=c+1);return b},_injectTimePicker:function(){var a=this.inst.dpDiv,b=this._defaults,c=this,d=parseInt(b.hourMax-(b.hourMax-b.hourMin)%b.stepHour,10),e=parseInt(b.minuteMax-(b.minuteMax-b.minuteMin)%b.stepMinute,10),f=parseInt(b.secondMax-(b.secondMax-b.secondMin)%b.stepSecond,10),g=parseInt(b.millisecMax-(b.millisecMax-b.millisecMin)%b.stepMillisec,10),h=this.inst.id.toString().replace(/([^A-Za-z0-9_])/g,"");if(a.find("div#ui-timepicker-div-"+h).length===0&&b.showTimepicker){var i=' style="display:none;"',j='<div class="ui-timepicker-div" id="ui-timepicker-div-'+h+'"><dl>'+'<dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_'+h+'"'+(b.showTime?"":i)+">"+b.timeText+"</dt>"+'<dd class="ui_tpicker_time" id="ui_tpicker_time_'+h+'"'+(b.showTime?"":i)+"></dd>"+'<dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_'+h+'"'+(b.showHour?"":i)+">"+b.hourText+"</dt>",k=0,l=0,m=0,n=0,o=null;j+='<dd class="ui_tpicker_hour"><div id="ui_tpicker_hour_'+h+'"'+(b.showHour?"":i)+"></div>";if(b.showHour&&b.hourGrid>0){j+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var p=b.hourMin;p<=d;p+=parseInt(b.hourGrid,10)){k++;var q=b.ampm&&p>12?p-12:p;q<10&&(q="0"+q),b.ampm&&(p==0?q="12a":p<12?q+="a":q+="p"),j+="<td>"+q+"</td>"}j+="</tr></table></div>"}j+="</dd>",j+='<dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_'+h+'"'+(b.showMinute?"":i)+">"+b.minuteText+"</dt>"+'<dd class="ui_tpicker_minute"><div id="ui_tpicker_minute_'+h+'"'+(b.showMinute?"":i)+"></div>";if(b.showMinute&&b.minuteGrid>0){j+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var r=b.minuteMin;r<=e;r+=parseInt(b.minuteGrid,10))l++,j+="<td>"+(r<10?"0":"")+r+"</td>";j+="</tr></table></div>"}j+="</dd>",j+='<dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_'+h+'"'+(b.showSecond?"":i)+">"+b.secondText+"</dt>"+'<dd class="ui_tpicker_second"><div id="ui_tpicker_second_'+h+'"'+(b.showSecond?"":i)+"></div>";if(b.showSecond&&b.secondGrid>0){j+='<div style="padding-left: 1px"><table><tr>';for(var s=b.secondMin;s<=f;s+=parseInt(b.secondGrid,10))m++,j+="<td>"+(s<10?"0":"")+s+"</td>";j+="</tr></table></div>"}j+="</dd>",j+='<dt class="ui_tpicker_millisec_label" id="ui_tpicker_millisec_label_'+h+'"'+(b.showMillisec?"":i)+">"+b.millisecText+"</dt>"+'<dd class="ui_tpicker_millisec"><div id="ui_tpicker_millisec_'+h+'"'+(b.showMillisec?"":i)+"></div>";if(b.showMillisec&&b.millisecGrid>0){j+='<div style="padding-left: 1px"><table><tr>';for(var t=b.millisecMin;t<=g;t+=parseInt(b.millisecGrid,10))n++,j+="<td>"+(t<10?"0":"")+t+"</td>";j+="</tr></table></div>"}j+="</dd>",j+='<dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_'+h+'"'+(b.showTimezone?"":i)+">"+b.timezoneText+"</dt>",j+='<dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_'+h+'"'+(b.showTimezone?"":i)+"></dd>",j+="</dl></div>",$tp=$(j),b.timeOnly===!0&&($tp.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+b.timeOnlyTitle+"</div>"+"</div>"),a.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),this.hour_slider=$tp.find("#ui_tpicker_hour_"+h).slider({orientation:"horizontal",value:this.hour,min:b.hourMin,max:d,step:b.stepHour,slide:function(a,b){c.hour_slider.slider("option","value",b.value),c._onTimeChange()}}),this.minute_slider=$tp.find("#ui_tpicker_minute_"+h).slider({orientation:"horizontal",value:this.minute,min:b.minuteMin,max:e,step:b.stepMinute,slide:function(a,b){c.minute_slider.slider("option","value",b.value),c._onTimeChange()}}),this.second_slider=$tp.find("#ui_tpicker_second_"+h).slider({orientation:"horizontal",value:this.second,min:b.secondMin,max:f,step:b.stepSecond,slide:function(a,b){c.second_slider.slider("option","value",b.value),c._onTimeChange()}}),this.millisec_slider=$tp.find("#ui_tpicker_millisec_"+h).slider({orientation:"horizontal",value:this.millisec,min:b.millisecMin,max:g,step:b.stepMillisec,slide:function(a,b){c.millisec_slider.slider("option","value",b.value),c._onTimeChange()}}),this.timezone_select=$tp.find("#ui_tpicker_timezone_"+h).append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(b.timezoneList,function(a,b){return $("<option />").val(typeof a=="object"?a.value:a).text(typeof a=="object"?a.label:a)})),this.timezone_select.val(typeof this.timezone!="undefined"&&this.timezone!=null&&this.timezone!=""?this.timezone:b.timezone),this.timezone_select.change(function(){c._onTimeChange()}),b.showHour&&b.hourGrid>0&&(o=100*k*b.hourGrid/(d-b.hourMin),$tp.find(".ui_tpicker_hour table").css({width:o+"%",marginLeft:o/(-2*k)+"%",borderCollapse:"collapse"}).find("td").each(function(a){$(this).click(function(){var a=$(this).html();if(b.ampm){var d=a.substring(2).toLowerCase(),e=parseInt(a.substring(0,2),10);d=="a"?e==12?a=0:a=e:e==12?a=12:a=e+12}c.hour_slider.slider("option","value",a),c._onTimeChange(),c._onSelectHandler()}).css({cursor:"pointer",width:100/k+"%",textAlign:"center",overflow:"hidden"})})),b.showMinute&&b.minuteGrid>0&&(o=100*l*b.minuteGrid/(e-b.minuteMin),$tp.find(".ui_tpicker_minute table").css({width:o+"%",marginLeft:o/(-2*l)+"%",borderCollapse:"collapse"}).find("td").each(function(a){$(this).click(function(){c.minute_slider.slider("option","value",$(this).html()),c._onTimeChange(),c._onSelectHandler()}).css({cursor:"pointer",width:100/l+"%",textAlign:"center",overflow:"hidden"})})),b.showSecond&&b.secondGrid>0&&$tp.find(".ui_tpicker_second table").css({width:o+"%",marginLeft:o/(-2*m)+"%",borderCollapse:"collapse"}).find("td").each(function(a){$(this).click(function(){c.second_slider.slider("option","value",$(this).html()),c._onTimeChange(),c._onSelectHandler()}).css({cursor:"pointer",width:100/m+"%",textAlign:"center",overflow:"hidden"})}),b.showMillisec&&b.millisecGrid>0&&$tp.find(".ui_tpicker_millisec table").css({width:o+"%",marginLeft:o/(-2*n)+"%",borderCollapse:"collapse"}).find("td").each(function(a){$(this).click(function(){c.millisec_slider.slider("option","value",$(this).html()),c._onTimeChange(),c._onSelectHandler()}).css({cursor:"pointer",width:100/n+"%",textAlign:"center",overflow:"hidden"})});var u=a.find(".ui-datepicker-buttonpane");u.length?u.before($tp):a.append($tp),this.$timeObj=$tp.find("#ui_tpicker_time_"+h);if(this.inst!==null){var v=this.timeDefined;this._onTimeChange(),this.timeDefined=v}var w=function(){c._onSelectHandler()};this.hour_slider.bind("slidestop",w),this.minute_slider.bind("slidestop",w),this.second_slider.bind("slidestop",w),this.millisec_slider.bind("slidestop",w);if(this._defaults.addSliderAccess){var x=this._defaults.sliderAccessArgs;setTimeout(function(){if($tp.find(".ui-slider-access").length==0){$tp.find(".ui-slider:visible").sliderAccess(x);var a=$tp.find(".ui-slider-access:eq(0)").outerWidth(!0);a&&$tp.find("table:visible").each(function(){var b=$(this),c=b.outerWidth(),d=b.css("marginLeft").toString().replace("%",""),e=c-a,f=d*e/c+"%";b.css({width:e,marginLeft:f})})}},0)}}},_limitMinMaxDateTime:function(a,b){var c=this._defaults,d=new Date(a.selectedYear,a.selectedMonth,a.selectedDay);if(!!this._defaults.showTimepicker){if($.datepicker._get(a,"minDateTime")!==null&&$.datepicker._get(a,"minDateTime")!==undefined&&d){var e=$.datepicker._get(a,"minDateTime"),f=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0);if(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null||this.millisecMinOriginal===null)this.hourMinOriginal=c.hourMin,this.minuteMinOriginal=c.minuteMin,this.secondMinOriginal=c.secondMin,this.millisecMinOriginal=c.millisecMin;a.settings.timeOnly||f.getTime()==d.getTime()?(this._defaults.hourMin=e.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=e.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=e.getSeconds()):this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=e.getMilliseconds()):(this.millisec<this._defaults.millisecMin&&(this.millisec=this._defaults.millisecMin),this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)}if($.datepicker._get(a,"maxDateTime")!==null&&$.datepicker._get(a,"maxDateTime")!==undefined&&d){var g=$.datepicker._get(a,"maxDateTime"),h=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,0,0);if(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null)this.hourMaxOriginal=c.hourMax,this.minuteMaxOriginal=c.minuteMax,this.secondMaxOriginal=c.secondMax,this.millisecMaxOriginal=c.millisecMax;a.settings.timeOnly||h.getTime()==d.getTime()?(this._defaults.hourMax=g.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=g.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=g.getSeconds()):this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=g.getMilliseconds()):(this.millisec>this._defaults.millisecMax&&(this.millisec=this._defaults.millisecMax),this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)}if(b!==undefined&&b===!0){var i=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),j=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),k=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),l=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);this.hour_slider&&this.hour_slider.slider("option",{min:this._defaults.hourMin,max:i}).slider("value",this.hour),this.minute_slider&&this.minute_slider.slider("option",{min:this._defaults.minuteMin,max:j}).slider("value",this.minute),this.second_slider&&this.second_slider.slider("option",{min:this._defaults.secondMin,max:k}).slider("value",this.second),this.millisec_slider&&this.millisec_slider.slider("option",{min:this._defaults.millisecMin,max:l}).slider("value",this.millisec)}}},_onTimeChange:function(){var a=this.hour_slider?this.hour_slider.slider("value"):!1,b=this.minute_slider?this.minute_slider.slider("value"):!1,c=this.second_slider?this.second_slider.slider("value"):!1,d=this.millisec_slider?this.millisec_slider.slider("value"):!1,e=this.timezone_select?this.timezone_select.val():!1,f=this._defaults;typeof a=="object"&&(a=!1),typeof b=="object"&&(b=!1),typeof c=="object"&&(c=!1),typeof d=="object"&&(d=!1),typeof e=="object"&&(e=!1),a!==!1&&(a=parseInt(a,10)),b!==!1&&(b=parseInt(b,10)),c!==!1&&(c=parseInt(c,10)),d!==!1&&(d=parseInt(d,10));var g=f[a<12?"amNames":"pmNames"][0],h=a!=this.hour||b!=this.minute||c!=this.second||d!=this.millisec||this.ampm.length>0&&a<12!=($.inArray(this.ampm.toUpperCase(),this.amNames)!==-1)||e!=this.timezone;h&&(a!==!1&&(this.hour=a),b!==!1&&(this.minute=b),c!==!1&&(this.second=c),d!==!1&&(this.millisec=d),e!==!1&&(this.timezone=e),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),f.ampm&&(this.ampm=g),this.formattedTime=$.datepicker.formatTime(this._defaults.timeFormat,this,this._defaults),this.$timeObj&&this.$timeObj.text(this.formattedTime+f.timeSuffix),this.timeDefined=!0,h&&this._updateDateTime()},_onSelectHandler:function(){var a=this._defaults.onSelect,b=this.$input?this.$input[0]:null;a&&b&&a.apply(b,[this.formattedDateTime,this])},_formatTime:function(a,b){a=a||{hour:this.hour,minute:this.minute,second:this.second,millisec:this.millisec,ampm:this.ampm,timezone:this.timezone};var c=(b||this._defaults.timeFormat).toString();c=$.datepicker.formatTime(c,a,this._defaults);if(arguments.length)return c;this.formattedTime=c},_updateDateTime:function(a){a=this.inst||a;var b=$.datepicker._daylightSavingAdjust(new Date(a.selectedYear,a.selectedMonth,a.selectedDay)),c=$.datepicker._get(a,"dateFormat"),d=$.datepicker._getFormatConfig(a),e=b!==null&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(c,b===null?new Date:b,d);var f=this.formattedDate;a.lastVal!==undefined&&a.lastVal.length>0&&this.$input.val().length===0||(this._defaults.timeOnly===!0?f=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||e)&&(f+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=f,this._defaults.showTimepicker?this.$altInput&&this._defaults.altFieldTimeOnly===!0?(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):this.$altInput?(this.$altInput.val(f),this.$input.val(f)):this.$input.val(f):this.$input.val(this.formattedDate),this.$input.trigger("change"))}}),$.fn.extend({timepicker:function(a){a=a||{};var b=arguments;typeof a=="object"&&(b[0]=$.extend(a,{timeOnly:!0}));return $(this).each(function(){$.fn.datetimepicker.apply($(this),b)})},datetimepicker:function(a){a=a||{},tmp_args=arguments;return typeof a=="string"?a=="getDate"?$.fn.datepicker.apply($(this[0]),tmp_args):this.each(function(){var a=$(this);a.datepicker.apply(a,tmp_args)}):this.each(function(){var b=$(this);b.datepicker($.timepicker._newInst(b,a)._defaults)})}}),$.datepicker.formatTime=function(a,b,c){c=c||{},c=$.extend($.timepicker._defaults,c),b=$.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},b);var d=a,e=c.amNames[0],f=parseInt(b.hour,10);c.ampm&&(f>11&&(e=c.pmNames[0],f>12&&(f=f%12)),f===0&&(f=12)),d=d.replace(/(?:hh?|mm?|ss?|[tT]{1,2}|[lz])/g,function(a){switch(a.toLowerCase()){case"hh":return("0"+f).slice(-2);case"h":return f;case"mm":return("0"+b.minute).slice(-2);case"m":return b.minute;case"ss":return("0"+b.second).slice(-2);case"s":return b.second;case"l":return("00"+b.millisec).slice(-3);case"z":return b.timezone;case"t":case"tt":if(c.ampm){a.length==1&&(e=e.charAt(0));return a.charAt(0)=="T"?e.toUpperCase():e.toLowerCase()}return""}}),d=$.trim(d);return d},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(a,b){var c=this._getInst($(a)[0]),d=this._get(c,"timepicker");d?(d._limitMinMaxDateTime(c,!0),c.inline=c.stay_open=!0,this._base_selectDate(a,b),c.inline=c.stay_open=!1,this._notifyChange(c),this._updateDatepicker(c)):this._base_selectDate(a,b)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(a){var b=a.input[0];if(!$.datepicker._curInst||$.datepicker._curInst==a||!$.datepicker._datepickerShowing||$.datepicker._lastInput==b)if(typeof a.stay_open!="boolean"||a.stay_open===!1){this._base_updateDatepicker(a);var c=this._get(a,"timepicker");c&&c._addTimePicker(a)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(a){var b=$.datepicker._getInst(a.target),c=$.datepicker._get(b,"timepicker");if(c&&$.datepicker._get(b,"constrainInput")){var d=c._defaults.ampm,e=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),f=c._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,d?"APM":"").replace(/Tt/g,d?"AaPpMm":"").replace(/tT/g,d?"AaPpMm":"").replace(/T/g,d?"AP":"").replace(/tt/g,d?"apm":"").replace(/t/g,d?"ap":"")+" "+c._defaults.separator+c._defaults.timeSuffix+(c._defaults.showTimezone?c._defaults.timezoneList.join(""):"")+c._defaults.amNames.join("")+c._defaults.pmNames.join("")+e,g=String.fromCharCode(a.charCode===undefined?a.keyCode:a.charCode);return a.ctrlKey||g<" "||!e||f.indexOf(g)>-1}return $.datepicker._base_doKeyPress(a)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(a){var b=$.datepicker._getInst(a.target),c=$.datepicker._get(b,"timepicker");if(c&&c._defaults.timeOnly&&b.input.val()!=b.lastVal)try{$.datepicker._updateDatepicker(b)}catch(d){$.datepicker.log(d)}return $.datepicker._base_doKeyUp(a)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(a){var b=this._getInst($(a)[0]),c=b.dpDiv;this._base_gotoToday(a);var d=new Date,e=this._get(b,"timepicker");if(e&&e._defaults.showTimezone&&e.timezone_select){var f=d.getTimezoneOffset(),g=f>0?"-":"+";f=Math.abs(f);var h=f%60;f=g+("0"+(f-h)/60).slice(-2)+("0"+h).slice(-2),e._defaults.timezoneIso8609&&(f=f.substring(0,3)+":"+f.substring(3)),e.timezone_select.val(f)}this._setTime(b,d),$(".ui-datepicker-today",c).click()},$.datepicker._disableTimepickerDatepicker=function(a,b,c){var d=this._getInst(a),e=this._get(d,"timepicker");$(a).datepicker("getDate"),e&&(e._defaults.showTimepicker=!1,e._updateDateTime(d))},$.datepicker._enableTimepickerDatepicker=function(a,b,c){var d=this._getInst(a),e=this._get(d,"timepicker");$(a).datepicker("getDate"),e&&(e._defaults.showTimepicker=!0,e._addTimePicker(d),e._updateDateTime(d))},$.datepicker._setTime=function(a,b){var c=this._get(a,"timepicker");if(c){var d=c._defaults,e=b?b.getHours():d.hour,f=b?b.getMinutes():d.minute,g=b?b.getSeconds():d.second,h=b?b.getMilliseconds():d.millisec;if(e<d.hourMin||e>d.hourMax||f<d.minuteMin||f>d.minuteMax||g<d.secondMin||g>d.secondMax||h<d.millisecMin||h>d.millisecMax)e=d.hourMin,f=d.minuteMin,g=d.secondMin,h=d.millisecMin;c.hour=e,c.minute=f,c.second=g,c.millisec=h,c.hour_slider&&c.hour_slider.slider("value",e),c.minute_slider&&c.minute_slider.slider("value",f),c.second_slider&&c.second_slider.slider("value",g),c.millisec_slider&&c.millisec_slider.slider("value",h),c._onTimeChange(),c._updateDateTime(a)}},$.datepicker._setTimeDatepicker=function(a,b,c){var d=this._getInst(a),e=this._get(d,"timepicker");if(e){this._setDateFromField(d);var f;b&&(typeof b=="string"?(e._parseTime(b,c),f=new Date,f.setHours(e.hour,e.minute,e.second,e.millisec)):f=new Date(b.getTime()),f.toString()=="Invalid Date"&&(f=undefined),this._setTime(d,f))}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(a,b){var c=this._getInst(a),d=b instanceof Date?new Date(b.getTime()):b;this._updateDatepicker(c),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(a,d,!0)},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(a,b){var c=this._getInst(a),d=this._get(c,"timepicker");if(d){this._setDateFromField(c,b);var e=this._getDate(c);e&&d._parseTime($(a).val(),d.timeOnly)&&e.setHours(d.hour,d.minute,d.second,d.millisec);return e}return this._base_getDateDatepicker(a,b)},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(a,b,c){var d;try{d=this._base_parseDate(a,b,c)}catch(e){if(e.indexOf(":")>=0)d=this._base_parseDate(a,b.substring(0,b.length-(e.length-e.indexOf(":")-2)),c);else throw e}return d},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(a,b,c,d){var e=this._get(a,"timepicker");if(e){e._updateDateTime(a);return e.$input.val()}return this._base_formatDate(a)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(a,b,c){var d=this._getInst(a),e=this._get(d,"timepicker");if(e){var f=null,g=null,h=null;typeof b=="string"?b==="minDate"||b==="minDateTime"?f=c:b==="maxDate"||b==="maxDateTime"?g=c:b==="onSelect"&&(h=c):typeof b=="object"&&(b.minDate?f=b.minDate:b.minDateTime?f=b.minDateTime:b.maxDate?g=b.maxDate:b.maxDateTime&&(g=b.maxDateTime)),f?(f==0?f=new Date:f=new Date(f),e._defaults.minDate=f,e._defaults.minDateTime=f):g?(g==0?g=new Date:g=new Date(g),e._defaults.maxDate=g,e._defaults.maxDateTime=g):h&&(e._defaults.onSelect=h)}if(c===undefined)return this._base_optionDatepicker(a,b);return this._base_optionDatepicker(a,b,c)},$.timepicker=new Timepicker,$.timepicker.version="1.0.0")})(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b+c;return-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b+c;return d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b+c;return-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b*b+c;return d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){if(b==0)return c;if(b==e)return c+d;if((b/=e/2)<1)return d/2*Math.pow(2,10*(b-1))+c;return d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){if((b/=e/2)<1)return-d/2*(Math.sqrt(1-b*b)-1)+c;return d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);if(b<1)return-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c;return h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){f==undefined&&(f=1.70158);return d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){f==undefined&&(f=1.70158);return d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){f==undefined&&(f=1.70158);if((b/=e/2)<1)return d/2*b*b*(((f*=1.525)+1)*b-f)+c;return d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){if(b<e/2)return jQuery.easing.easeInBounce(a,b*2,0,d,e)*.5+c;return jQuery.easing.easeOutBounce(a,b*2-e,0,d,e)*.5+d*.5+c}}),function(a){function b(b,c){function q(b){function G(){m.removeClass("dragger_pressed")}function F(){m.addClass("dragger_pressed")}if(e.config.scrollType=="horizontal"){var c=f.width();p.css("width",999999),f.data("totalContent",j.width()),p.css("width",f.data("totalContent"));if(j.width()>c){b!="resize"&&j.width()!=f.data("contentWidth")&&(m.css("left",0),j.css("left",0),f.data("contentWidth",j.width())),l.css("display","block"),o.css("display","inline-block"),n.css("display","inline-block");var d=k.width(),g=f.data("minDraggerWidth"),h=l.width();function i(){if(e.config.draggerDimType=="auto"){var a=Math.round(d-(d-c)*1.3);a<=e.config.minDraggerWidth?m.css("width",e.config.minDraggerWidth+"px"):a>=e.config.draggerContainerWidth?m.css("width",e.config.draggerContainerWidth-10+"px"):m.css("width",a+"px")}}i();var q=0,r=m.width();m.draggable({axis:"x",containment:"parent",drag:function(a,b){v()},stop:function(a,b){G()}}),l.click(function(b){var c=a(this),d=b.pageX-c.offset().left;if(d<m.position().left||d>m.position().left+m.width()){var e=d+m.width();e<l.width()?(m.css("left",d),v()):(m.css("left",l.width()-m.width()),v())}}),a(function(a){e.config.mouseWheelSupport=="yes"&&(f.unbind("mousewheel"),f.bind("mousewheel",function(a,b){var c=Math.abs(b*10);m.css("left",m.position().left-b*c),v(),m.position().left<0&&(m.css("left",0),j.stop(),v()),m.position().left>l.width()-m.width()&&(m.css("left",l.width()-m.width()),j.stop(),v());return!1}))});if(e.config.scrollBtnsSupport=="yes"){o.mouseup(function(){t()}).mousedown(function(){s("down")}).mouseout(function(){t()}),n.mouseup(function(){t()}).mousedown(function(){s("up")}).mouseout(function(){t()}),o.click(function(a){a.preventDefault()}),n.click(function(a){a.preventDefault()}),btnsScrollTimerX=0;function s(a){if(a=="down"){var b=
l.width()-m.width(),c=Math.abs(m.position().left-b)*(100/e.config.scrollBtnsSpeed);m.stop().animate({left:b},c,"linear")}else{var b=0,c=Math.abs(m.position().left-b)*(100/e.config.scrollBtnsSpeed);m.stop().animate({left:-b},c,"linear")}clearInterval(btnsScrollTimerX),btnsScrollTimerX=setInterval(v,20)}function t(){clearInterval(btnsScrollTimerX),m.stop()}}var u=(d-c)/(h-r);function v(){var a=m.position().left,b=-a*u,c=j.position().left-b;j.stop().animate({left:"-="+c},e.config.animSpeed,e.config.easeType)}}else m.css("left",0).css("display","none"),j.css("left",0),l.css("display","none"),o.css("display","none"),n.css("display","none")}else{var w=f.height();if(j.height()>w){b!="resize"&&j.height()!=f.data("contentHeight")&&(m.css("top",0),j.css("top",0),f.data("contentHeight",j.height())),l.css("display","block"),o.css("display","inline-block"),n.css("display","inline-block");var d=k.height(),x=f.data("minDraggerHeight"),y=l.height();function z(){if(e.config.draggerDimType=="auto"){var a=Math.round(d-(d-w)*1.3);a<=x?m.css("height",x+"px").css("line-height",x+"px"):a>=y?m.css("height",y-10+"px").css("line-height",y-10+"px"):m.css("height",a+"px").css("line-height",a+"px")}}z();var A=0,B=m.height();m.draggable({axis:"y",containment:"parent",drag:function(a,b){E()},stop:function(a,b){G()}}),l.click(function(b){var c=a(this),d=b.pageY-c.offset().top;if(d<m.position().top||d>m.position().top+m.height()){var e=d+m.height();e<l.height()?(m.css("top",d),E()):(m.css("top",l.height()-m.height()),E())}}),a(function(a){e.config.mouseWheelSupport=="yes"&&(f.unbind("mousewheel"),f.bind("mousewheel",function(a,b){var c=Math.abs(b*10);m.css("top",m.position().top-b*c),E(),m.position().top<0&&(m.css("top",0),j.stop(),E()),m.position().top>l.height()-m.height()&&(m.css("top",l.height()-m.height()),j.stop(),E());return!1}))});if(e.config.scrollBtnsSupport=="yes"){o.mouseup(function(){D()}).mousedown(function(){C("down")}).mouseout(function(){D()}),n.mouseup(function(){D()}).mousedown(function(){C("up")}).mouseout(function(){D()}),o.click(function(a){a.preventDefault()}),n.click(function(a){a.preventDefault()}),btnsScrollTimer=0;function C(a){if(a=="down"){var b=l.height()-m.height(),c=Math.abs(m.position().top-b)*(100/e.config.scrollBtnsSpeed);m.stop().animate({top:b},c,"linear")}else{var b=0,c=Math.abs(m.position().top-b)*(100/e.config.scrollBtnsSpeed);m.stop().animate({top:-b},c,"linear")}clearInterval(btnsScrollTimer),btnsScrollTimer=setInterval(E,20)}function D(){clearInterval(btnsScrollTimer),m.stop()}}e.config.bottomSpace<1&&(e.config.bottomSpace=1);var u=(d-w/e.config.bottomSpace)/(y-B);function E(){var a=m.position().top,b=-a*u,c=j.position().top-b;j.stop().animate({top:"-="+c},e.config.animSpeed,e.config.easeType)}}else m.css("top",0).css("display","none"),j.css("top",0),l.css("display","none"),o.css("display","none"),n.css("display","none")}m.mouseup(function(){G()}).mousedown(function(){F()})}this.config=c=a.extend({scrollType:"vertical",animSpeed:900,easeType:"easeOutCirc",bottomSpace:1.05,draggerDimType:"manual",mouseWheelSupport:"yes",scrollBtnsSupport:"yes",scrollBtnsSpeed:0,upDownBtnsSupport:!1,upDownBtnsSize:14},c||{});var d=a(b).addClass("scroll-container"),e=this,f=d.find(".scroll-box"),g=d.height();if(f.length==0){var h=d.html(),i='<div class="scroll-box">  <div class="container">    <div class="content">'+h+"    </div>"+"  </div>"+'  <div class="dragger_container">'+'    <div class="dragger"></div>'+"  </div>"+"</div>"+(c.upDownBtnsSupport?'<a href="#" class="scrollUpBtn" style="display: inline-block; ">up</a>':"")+(c.upDownBtnsSupport?'<a href="#" class="scrollDownBtn" style="display: inline-block; ">down</a>':"");d.empty().append(i),f=d.find(".scroll-box")}d.trigger("resize");var j=f.find(".container"),k=f.find(".content"),l=d.find(".dragger_container"),m=l.find(".dragger"),n=d.find(".scrollUpBtn"),o=d.find(".scrollDownBtn"),p=f.find(".horWrapper");j.width(d.width()-(m.width()+20)),l.height(g-(c.upDownBtnsSupport?c.upDownBtnsSize*2+6:0)),l.css({top:c.upDownBtnsSupport?c.upDownBtnsSize+3:0}),c.upDownBtnsSupport&&(d.find(".scrollUpBtn,.scrollDownBtn").css({width:c.upDownBtnsSize+"px",height:c.upDownBtnsSize+"px"}),d.find(".scrollUpBtn").css({top:"0px",position:"absolute"}),d.find(".scrollDownBtn").css({bottom:"0px",position:"absolute"})),f.data("minDraggerHeight")||f.data("minDraggerHeight",m.height()),f.data("minDraggerWidth")||f.data("minDraggerWidth",m.width()),f.data("contentHeight")||f.data("contentHeight",j.height()),f.data("contentWidth")||f.data("contentWidth",j.width()),q(),a(window).resize(function(){e.config.scrollType=="horizontal"?m.position().left>l.width()-m.width()&&m.css("left",l.width()-m.width()):m.position().top>l.height()-m.height()&&m.css("top",l.height()-m.height()),q("resize")})}a.fx.prototype.cur=function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a=parseFloat(jQuery.css(this.elem,this.prop));return typeof a=="undefined"?0:a},a.fn.mCustomScrollbar=function(c){return this.each(function(){var d=a(this),e=d.data("mCustomScrollbar"),f=typeof c=="object"&&c;e||d.data("mCustomScrollbar",e=new b(this,f)),typeof c=="string"&&e[c](arg);return d.data("dockable")})}}(jQuery),function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery),function(a){function b(b,c){c=a.extend(this.defaults,c),this.init(b,c);return this}b.prototype={defaults:{location:"left",url:null,renderTo:"body"},location:function(a){},init:function(b,c){this.options=c;if(b)this.$el=a(b);else{var d='<div class="dockable" id="'+c.id+'">'+'\t<div class="handle">'+'\t\t<div class="handle-icon-container">'+'\t\t\t<div class="handle-icon">'+'\t\t\t\t<i class="icon"></i>'+"\t\t\t</div>"+"\t\t</div>"+'\t\t<div class="delim"></div>'+"\t</div>"+'\t<div class="content"></div>'+"</div>";this.$el=a(d).appendTo(c.renderTo),c.id&&this.$el.attr("id",c.id)}this.options=a.extend(c||{},this.defaults||{}),this.$title=this.$el.find(".handle .handle-icon"),this.$title.click(a.proxy(this.toggle,this)),this.$content=this.$el.find(".content"),this.$delim=this.$el.find(".handle .delim"),this.calculatePosition(),this.reloadContent()},reloadContent:function(){this.options.url&&(this.$content.html("Loading..."),a(this).addClass("loading"),this.$content.load(this.options.url,function(){a(this).removeClass("loading")}))},width:function(){return this.$el.width()},getPropertyFromAttr:function(a,b){var c=this.$el.attr("data-dockable-"+a);return c?c:b?b:this.options[a]},calculatePosition:function(){var a=this.getPropertyFromAttr("location");this.$el.addClass(a);switch(a){case"top":this.$content.remove().prependTo(this.$el),this.$delim.remove().prependTo(this.$el.find(".handle"))}},getId:function(){return this.$el.attr("id")},trigger:function(a){this.options.on&&this.options.on[a]&&this.options.on[a].call(this,a)},hide:function(){this.trigger("beforehide"),this.$el.removeClass("active"),this.trigger("hide")},setContent:function(a){typeof a=="function"&&(a=a.call()),this.$content.html(a)},show:function(){this.trigger("beforeshow"),this.$el.addClass("active"),this.trigger("show")},toggle:function(){this.$el.hasClass("active")?this.hide():this.show()}},a.dockable=function(a){return new b(null,a)},a.fn.dockable=function(c,d){return this.each(function(){var e=a(this),f=e.data("dockable"),g=typeof c=="object"&&c;f||e.data("dockable",f=new b(this,g)),typeof c=="string"&&f[c](d);return e.data("dockable")})}}(jQuery),function(a){var b=[],c={groups:"all",hideAllGroupOnExpand:!0,hideHeaderOnExpand:!1,header:null,body:null,expanded:!1,style:"expandable",floatui:!1};a.fn.expandable=function(d){d=d||{};var e=a.extend(c,d);this.each(function(){var c=e;b.push(new a.expandable(this,c))});return this},a.expandable=function(b,d){if(!b)return this;d=a.extend(c,d||{});var e=a(b),f=this;e.attr("id")||e.attr("id","expandable-"+Math.floor(Math.random()*16).toString(16).toUpperCase()),this.options=a.extend({body:"#"+e.attr("id")+"-expander-body"},d),this.options.body||(this.options.body="#"+e.attr("id")+"-expander-body"),this.expanded=this.options.expanded,this.groups=d.groups,this.content=null,d.style&&e.addClass("expandable"),e.addClass("rounded");if(d.header)this.head=e.find(d.header),this.head.find("button .button-expander")&&(tpl='<a class="button-expander" href="javascript:void(0)"><i class="icon"></i></a>',a(tpl).appendTo(this.head));else{var g=e.find(".expandable-header");g.length===0&&(g=a('<div class="expandable-header"><a class="button-expander" href="javascript:void(0)"><i class="icon"></i></a></div>').prependTo(e)),d.title=d.title||e.attr("title"),d.title&&(title=a("<div/>").html(d.title).text(),tpl='<div class="expander-content">'+title+"</div>",a(tpl).appendTo(g)),this.head=g}this.button=this.head.find(".button-expander");var h=!1,i=undefined;if(e.find(this.options.body).length===0)try{i=a("#"+this.options.body),h=i.length>0}catch(b){try{i=a(this.options.body),h=i.length>0}catch(b){}}else i=e.find(this.options.body),h=i.length>0;h||(i=a('<div id="'+this.options.body+'">'+this.options.content+"</div>").appendTo(e),i.hide()),this.options.style&&i.addClass(this.options.style+"-body ui-widget-content"),this.options.floatui&&i.css({position:"absolute",top:e.offset().top+this.head.height(),left:0,right:0,bottom:0,"z-index":1001}),this.content=i,this.self=e,this.head.bind("dblclick",function(){f.toggle()}),this.button.bind("click",function(){f.toggle()}),this.setup(b),h&&!this.options.contentUrl&&(this.options.expanded?this.expand(!0):this.collapse(!0))};var d=a.expandable;d.fn=d.prototype={expandable:"version 1.0b"},d.fn.extend=d.extend=a.extend,d.fn.extend({setup:function(a){},setExpanded:function(a){a?(this.self.addClass("on"),this.head.addClass("off"),this.button.addClass("on"),this.content.addClass("on")):(this.self.removeClass("on"),this.head.removeClass("off"),this.button.removeClass("on"),this.content.removeClass("on")),this.expanded=a},collapse:function(a){if(!!a||!!this.expanded)this.onAction=!0,this.options.hideHeaderOnExpand&&this.head.find(".expander-content").show(),this.content.slideUp().hide(),this.setExpanded(!1)},loading:function(){var b=this.head.find(".loading-small");b.length==0&&(b=a('<div class="loading-small"></div>').prependTo(this.head));return b},expand:function(c){if(!!c||!this.expanded)this.onAction=!0,this.options.hideAllGroupOnExpand&&a.each(b,function(a,b){b.groups===self.groups&&b.collapse()}),this.options.hideHeaderOnExpand&&this.head.find(".expander-content").hide(),this.content.html()===""?this.options.contentUrl?this.load(this.options.contentUrl):this.content.html(""):(this.content.slideDown().show(),this.setExpanded(!0))},load:function(a){this.loading().show();var b=this;this.content.load(a,function(a,c,d){b.loading().hide(),b.content.slideDown().show(),b.setExpanded(!0)})},toggle:function(){this.expanded?this.collapse():this.expand(),this.self.resize()}})}(jQuery),function(a){function d(a,b){this.init(a,b);return this}function b(b,c){this.$table=b;var d='<td  class="btn-group"><a class="btn" data-grid-action="refresh"><i class="icon icon-refresh"></i></a></td>';d+='<td  class="btn-group navigation">',d+='<a data-grid-action="pagination" data-grid-param="prev" class="btn prev">Prev</a>';for(var e=0;e<Math.round(c.rowCount/c.rowPerPage);e++)d+='<a data-grid-action="pagination" data-grid-param="'+e+'" class="btn" href="javascript:void(0)">'+(e+1).toString()+"</a>";d+='<a data-grid-action="pagination" data-grid-param="next" class="btn next" href="javascript:void(0)">Next</a>',d+="</td>";var f=this;this.$el=b.$foot.append(d),this.$el.find("[data-grid-action]").click(function(b){b.preventDefault();var c=a(this).attr("data-grid-action");if(!a(this).hasClass("disabled"))switch(c){case"refresh":f.reload();break;case"pagination":switch(a(this).attr("data-grid-param")){case"prev":f.prev();break;case"next":f.next();break;default:f.gotoPage(a(this).attr("data-grid-param"))}}}),this.update()}a._gridInstances={},b.prototype={reload:function(){this.$table.loadPage(this.$table.configs.pagination.currentPage)},next:function(){this.$table.loadPage(this.$table.configs.pagination.currentPage++)},prev:function(){this.$table.loadPage(this.$table.configs.pagination.currentPage--)},update:function(){var a=Math.round(this.$table.configs.rowCount/this.$table.configs.rowPerPage);console.log(a),this.$table.configs.pagination.currentPage<=0?this.$el.find(".prev").addClass("disabled"):this.$el.find(".prev").removeClass("disabled"),a===0&&this.$el.find(".next").addClass("disabled")},gotoPage:function(a){this.$table.loadPage(a)},setVisible:function(a){a?this.$el.show():this.$el.hide()}},d.prototype={defaults:{sort:{field:null,order:null},dataUrl:null,pagination:{currentPage:0},renderTo:"body"},getId:function(){return this.$el.attr("id")},init:function(b,d){var e=this;this.configs=a.extend(this.defaults,d||{});var f='<table class="table table-bordered grid"><thead></thead><tbody></tbody><tfoot><tr><td class="grid-action"colspan="'+this.configs.columns.length+'"><table><tr></tr></table></td></tr>'+"</tfoot></table>";this.$el=a(f).appendTo(b),this.$head=this.$el.find(">thead"),f="<tr>";for(var g=0;c=this.configs.columns[g];g++)f+='<th data-sortable="true" data-field="'+c.field+'">'+c.title+'<span class="sort-icon"><span class="up"></span><span class="down"></span></span></th>';f+="</tr>",a(f).appendTo(this.$head),this.$head.find('[data-sortable="true"]').click(function(b){b.preventDefault();var c=a(this);e.configs.sort.field=a(this).attr("data-field"),e.configs.sort.order=e.configs.sort.order==="asc"?"desc":"asc",e.loadPage(null,function(){var a=c.find(".sort-icon");this.configs.sort.order=="desc"?(a.find("down").addClass("disabled"),a.find("up").removeClass("disabled")):(a.find("down").removeClass("disabled"),a.find("up").addClass("disabled"))})}),this.$body=this.$el.find(">tbody"),this.$foot=this.$el.find(">tfoot table tr"),this.reloadPagination(),this.loadPage(this.configs.pagination.currentPage)},reloadPagination:function(){this.pagination=new b(this,this.configs),this.pagination.setVisible(this.configs.pagination.visible)},bindRows:function(b){this.$body.empty();for(var d=0;item=b[d];d++){var e="<tr>";for(var f=0;c=this.configs.columns[f];f++)e+="<td>",typeof item[c.field]!="undefined"?e+=item[c.field]:e+="&nbsp;",e+="</td>";e+="</tr>",a(e).appendTo(this.$body)}},loadPage:function(a,b){this.$body.addClass("loading");var c=this;this.configs.pagination.currentPage=a||this.configs.pagination.currentPage,cgaf.getJSON(this.configs.dataUrl,{_cp:a,_rpp:this.configs.rowPerPage,_sidx:this.configs.sort.field||"",_sord:this.configs.sort.order||"asc"},function(a){c.bindRows(a),b&&b.call(c),c.$body.removeClass("loading")})}},a.fn.grid=function(b){return this.each(function(){var c=a(this),e=c.data("grid"),f=typeof b=="object"&&b;e||(c.data("grid",e=new d(this,f)),a._gridInstances[c.attr("id")]=e),typeof b=="string"&&e[b](arg);return c.data("grid")})}}(jQuery),function(a){"use strict";var b=function(b,c){c=a.extend(c||{},a.fn.popupDialog.defaults),this.options=c,b&&this.init(b);return this};b.prototype={constructor:b,init:function(b,c){if(!this.initialized){this.initialized=!0,this.$element=a(b),this.enabled=!0,this.$container=a("#popup-dialog"),this.$container.length===0&&(this.$container=a('<div id="popup-dialog" class="popup-dialog">'+this.options.template+"</div>").appendTo("body").hide());var d=this;this.$container.find(".close").click(function(){d.hide(),a(d).trigger("close")})}else this.$element=a(b);this.calculatePosition()},setContent:function(a){this.content=a,this.calculatePosition()},getContent:function(b){if(!this.$element)return"";if(this.options.contentEl)typeof this.options.contentEl=="string"&&(this.options.contentEl=a(this.options.contentEl).show()),a(this.$element).data("data-popup",this.options.contentEl);else if(this.content){var c=this.content;typeof this.content=="function"&&(c=this.content.content.call(this)),a(this.$element).data("data-popup",c)}else{if(!this.options.url)return"<span></span>";var d=a(this.$element).data("data-popup");if(!d){var e=this;a.ajax({url:this.options.url,success:function(b){a(e.$element).data("data-popup",b),e.calculatePosition()},error:function(){a(e.$element).data("data-popup","error"),e.calculatePosition()}});return"<span>Loading...</span>"}}return a(this.$element).data("data-popup")},calculatePosition:function(){var b,c,d,e,f,g,h;b=this.getContent(),this.options.title?this.$container.find(".title")[a.type(this.options.title)=="object"?"append":"html"](this.options.title).show():this.$container.find(".title").hide(),this.$container.find(".content").empty().html(b);var i=this.$container.find(".arrow");c=typeof this.options.placement=="function"?this.options.placement.call(this,this.$container,this.$element[0]):this.options.placement,d=/in/.test(c),b=a(b),g=b.width()?b.width():this.options.defaultWidth,h=b.height()?b.height():this.options.defaultHeight,this.$container.css({width:g+"px",height:h+"px"}),f=this.$element.offset(),f.height=this.$element[0].offsetHeight,f.width=this.$element[0].offsetWidth,this.updatePosition(c,f,g,h)},updatePosition:function(a,b,c,d){var e=/in/.test(a),f={width:c,height:d};switch(e?a.split(" ")[1]:a){case"bottom":f.top=b.top+b.height,f.left=b.left+b.width/2-c/2;break;case"top":f.top=b.top-d,f.left=b.left+b.width/2-c/2;break;case"left":f.top=b.top+b.height/2-d/2,f.left=b.left-c;break;case"right":f.top=b.top+b.height/2-d/2,f.left=b.left+b.width}this.$container.addClass(a).css(f).addClass("in");var g=this.$container.find(".inner");!this.$container.find(".title").is(":visible"),g.css({width:c,height:d})},setOptions:function(b){a.type(b)==="object"&&(b.url&&this.options.url!==b.url&&a(this).data("data-content",null),b.element&&this.init(b.element),this.options=a.extend(this.options,b))},show:function(a){this.calculatePosition(),this.$element.addClass("active"),this.$container.show()},hide:function(){this.$element.removeClass("active"),this.$container.hide()},toggle:function(){this.$container.is(":visible")?this.hide():this.show()},setTitle:function(a){this.options.title=a,this.update()}},a.fn.popupDialog=function(c,d){return this.each(function(){var e=a(this),f=e.data("popupdialog"),g=typeof c=="object"&&c;f||e.data("popupdialog",f=new b(this,g)),typeof c=="string"&&f[c](d);return e.data("popupdialog")})},a.popupDialog=b,a.fn.popupDialog.Constructor=b,a.fn.popupDialog.defaults={placement:"bottom",defaultWidth:"150",defaultHeight:"150",trigger:"manual",template:'<div class="arrow"></div><div class="inner"><div class="icon icon-remove close"/><h3 class="title"></h3><div class="content"><p></p></div></div>'}}(jQuery),function(){$.fn.scrollbar=function(a){a=$.extend({scrollHeight:150},a||{});return this.each(function(){var a=$(this),b=a.children(0).css({position:"relative"});if(!a.data("scrollbar")){var c=a.find(".scrollbar");c.length===0&&(c=$('<div class="scrollbar"></div>').prependTo(a),s=$("<div></div>").appendTo(c),c.css({padding:0,margin:0,backgroundColor:"rgba(118, 118, 118, 1)",cssFloat:"right",width:"6px"}),s.css({height:"25px",position:"relative",border:"1px solid rgba(118, 118, 118, 1)",borderRadius:"2px",backgroundColor:"red",cursor:"pointer"}),s.draggable({containment:"parent",axis:"y",start:function(){},drag:function(a,b){d(b.position.top)},stop:function(a,b){d(b.position.top)}}),s.bind("mousewheel",function(){d()}));function d(d){c.css({height:a.height()+"px"}),b.css({top:d*-1})}d(),this.recalculate=d,a.data("scrollbar",this)}else a.data("scrollbar").recarculate();return this})}}(jQuery),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target"),e,f,g;d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));if(!b.closest("li").hasClass("active")){e=c.find(".active a").last()[0],g=a.Event("show",{relatedTarget:e}),b.trigger(g);if(g.isDefaultPrevented())return;f=a(d),this.activate(b.closest("li"),c),this.activate(f,f.parent(),function(){b.trigger({type:"shown",relatedTarget:e})});var h=b.attr("data-url");h&&(b.attr("data-loaded")||(f.addClass("loading"),a.ajax({url:h,success:function(a){b.attr("data-loaded",!0),f.html(a),f.removeClass("loading")}})))}},activate:function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");f?e.one(a.support.transition.end,g):g(),e.removeClass("in")}},a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),typeof c=="string"&&e[c]()})},a.fn.tab.Constructor=b,a(function(){a("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})})}(window.jQuery),function(){function a(a,b){var b=$.extend({title:""},b||{}),a=$(a),c=a.find(".tip"),d=b.title?b.title:a.attr("title");c.length===0&&(c=$('<div class=".tip">'+d+"</div>").css({position:"absolute"}).appendTo($(a))),c.hide(),$(a).bind({mouseenter:function(a){c.show()},mouseleave:function(a){c.hide()},mousemove:function(a){var b=a.pageX+20,d=a.pageY+20,e=c.width(),f=c.height(),g=$(window).width()-(b+e),h=$(window).height()-(d+f);g<20&&(b=a.pageX-e-20),h<20&&(d=a.pageY-f-20),c.css({top:d,left:b})}})}$.fn.tooltip=function(b,c){return this.each(function(){var d=$(this),e=d.data("tooltip"),f=typeof b=="object"&&b;e||d.data("tooltip",e=new a(this,f)),typeof b=="string"&&e[b](c);return d.data("tooltip")})}}(jQuery),function(a){var b=function(a,b){};b.prototype={defaults:{allowMulti:!0}},a.fn.uploader=function(c){return this.each(function(){var d=a(this),e=d.data("uploader");e||d.data("uploader",e=new b(this,c)),typeof option=="string"&&e[option]()})}}(jQuery),function(a){function b(b,c){var d=this;this.options=a.extend(a.fn.wizard.defaults,c||{}),this.$el=a(b),this.$el.addClass("ui-wizard tabbable tabs-left"),this.$nav=this.$el.find(">ul").addClass("nav nav-tabs"),this.$content=this.$el.find(">.tab-content"),this.$nav.children().removeClass("active"),this.gotoTab(this.options.activetab),this.$nav.children().click(function(b){b.preventDefault(),d.gotoTab(a(this).attr("data-step")||0)})}b.prototype={gotoTab:function(b){typeof this.$nav.children()[b]=="undefined"&&(b=0);var c=a(this.$nav.children()[b]);c.parent().children().removeClass("active"),c.addClass("active");var d=c.attr("data-step")||0,e=a(this.$content.children()[d]);e.data("w-content")||(e.addClass("loading"),e.load(c.attr("data-url"),function(a){e.data("w-content",!0),e.removeClass("loading")})),this.$content.children().hide(),e.show()}},a.fn.wizard=function(c,d){return this.each(function(){var e=a(this),f=e.data("wizard"),g=typeof c=="object"&&c;f||e.data("wizard",f=new b(this,g)),typeof c=="string"&&f[c](d);return e.data("wizard")})},a.fn.wizard.defaults={activetab:0}}(jQuery)