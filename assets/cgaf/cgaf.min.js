/**
**//*!
 * jQuery Form Plugin
 * version: 3.03 (08-MAR-2012)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses:
 *    http://malsup.github.com/mit-license.txt
 *    http://malsup.github.com/gpl-license-v2.txt
 *//*global ActiveXObject alert */(function(a){function e(){if(!!a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}function d(b){var c=b.target,d=a(c);if(!d.is(":submit,input:image")){var e=d.closest(":submit");if(e.length===0)return;c=e[0]}var f=this;f.clk=c;if(c.type=="image")if(b.offsetX!==undefined)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if(typeof a.fn.offset=="function"){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function c(b){var c=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(this).ajaxSubmit(c))}"use strict";var b={};b.fileapi=a("<input type='file'/>").get(0).files!==undefined,b.formdata=window.FormData!==undefined,a.fn.ajaxSubmit=function(c){function w(b){function E(b){if(!o.aborted&&!D){try{B=w(n)}catch(c){e("cannot access response document: ",c),b=v}if(b===u&&o){o.abort("timeout");return}if(b==v&&o){o.abort("server abort");return}if(!B||B.location.href==j.iframeSrc)if(!r)return;n.detachEvent?n.detachEvent("onload",E):n.removeEventListener("load",E,!1);var d="success",f;try{if(r)throw"timeout";var g=j.dataType=="xml"||B.XMLDocument||a.isXMLDoc(B);e("isXml="+g);if(!g&&window.opera&&(B.body===null||!B.body.innerHTML)&&--C){e("requeing onLoad callback, DOM not available"),setTimeout(E,250);return}var h=B.body?B.body:B.documentElement;o.responseText=h?h.innerHTML:null,o.responseXML=B.XMLDocument?B.XMLDocument:B,g&&(j.dataType="xml"),o.getResponseHeader=function(a){var b={"content-type":j.dataType};return b[a]},h&&(o.status=Number(h.getAttribute("status"))||o.status,o.statusText=h.getAttribute("statusText")||o.statusText);var i=(j.dataType||"").toLowerCase(),l=/(json|script|text)/.test(i);if(l||j.textarea){var p=B.getElementsByTagName("textarea")[0];if(p)o.responseText=p.value,o.status=Number(p.getAttribute("status"))||o.status,o.statusText=p.getAttribute("statusText")||o.statusText;else if(l){var q=B.getElementsByTagName("pre")[0],t=B.getElementsByTagName("body")[0];q?o.responseText=q.textContent?q.textContent:q.innerText:t&&(o.responseText=t.textContent?t.textContent:t.innerText)}}else i=="xml"&&!o.responseXML&&o.responseText&&(o.responseXML=F(o.responseText));try{A=H(o,i,j)}catch(b){d="parsererror",o.error=f=b||d}}catch(b){e("error caught: ",b),d="error",o.error=f=b||d}o.aborted&&(e("upload aborted"),d=null),o.status&&(d=o.status>=200&&o.status<300||o.status===304?"success":"error"),d==="success"?(j.success&&j.success.call(j.context,A,"success",o),k&&a.event.trigger("ajaxSuccess",[o,j])):d&&(f===undefined&&(f=o.statusText),j.error&&j.error.call(j.context,o,d,f),k&&a.event.trigger("ajaxError",[o,j,f])),k&&a.event.trigger("ajaxComplete",[o,j]),k&&!--a.active&&a.event.trigger("ajaxStop"),j.complete&&j.complete.call(j.context,o,d),D=!0,j.timeout&&clearTimeout(s),setTimeout(function(){j.iframeTarget||m.remove(),o.responseXML=null},100)}}function z(){function g(){try{var a=w(n).readyState;e("state = "+a),a&&a.toLowerCase()=="uninitialized"&&setTimeout(g,50)}catch(b){e("Server abort: ",b," (",b.name,")"),E(v),s&&clearTimeout(s),s=undefined}}var b=h.attr("target"),c=h.attr("action");f.setAttribute("target",l),d||f.setAttribute("method","POST"),c!=j.url&&f.setAttribute("action",j.url),!j.skipEncodingOverride&&(!d||/post/i.test(d))&&h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),j.timeout&&(s=setTimeout(function(){r=!0,E(u)},j.timeout));var i=[];try{if(j.extraData)for(var k in j.extraData)j.extraData.hasOwnProperty(k)&&i.push(a('<input type="hidden" name="'+k+'">').attr("value",j.extraData[k]).appendTo(f)[0]);j.iframeTarget||(m.appendTo("body"),n.attachEvent?n.attachEvent("onload",E):n.addEventListener("load",E,!1)),setTimeout(g,15),f.submit()}finally{f.setAttribute("action",c),b?f.setAttribute("target",b):h.removeAttr("target"),a(i).remove()}}function w(a){var b=a.contentWindow?a.contentWindow.document:a.contentDocument?a.contentDocument:a.document;return b}var f=h[0],g,i,j,k,l,m,n,o,p,q,r,s,t=!!a.fn.prop;if(b)if(t)for(i=0;i<b.length;i++)g=a(f[b[i].name]),g.prop("disabled",!1);else for(i=0;i<b.length;i++)g=a(f[b[i].name]),g.removeAttr("disabled");if(a(":input[name=submit],:input[id=submit]",f).length)alert('Error: Form elements must not have name or id of "submit".');else{j=a.extend(!0,{},a.ajaxSettings,c),j.context=j.context||j,l="jqFormIO"+(new Date).getTime(),j.iframeTarget?(m=a(j.iframeTarget),q=m.attr("name"),q?l=q:m.attr("name",l)):(m=a('<iframe name="'+l+'" src="'+j.iframeSrc+'" />'),m.css({position:"absolute",top:"-1000px",left:"-1000px"})),n=m[0],o={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var c=b==="timeout"?"timeout":"aborted";e("aborting upload... "+c),this.aborted=1,m.attr("src",j.iframeSrc),o.error=c,j.error&&j.error.call(j.context,o,c,b),k&&a.event.trigger("ajaxError",[o,j,c]),j.complete&&j.complete.call(j.context,o,c)}},k=j.global,k&&0===a.active++&&a.event.trigger("ajaxStart"),k&&a.event.trigger("ajaxSend",[o,j]);if(j.beforeSend&&j.beforeSend.call(j.context,o,j)===!1){j.global&&a.active--;return}if(o.aborted)return;p=f.clk,p&&(q=p.name,q&&!p.disabled&&(j.extraData=j.extraData||{},j.extraData[q]=p.value,p.type=="image"&&(j.extraData[q+".x"]=f.clk_x,j.extraData[q+".y"]=f.clk_y)));var u=1,v=2,x=a("meta[name=csrf-token]").attr("content"),y=a("meta[name=csrf-param]").attr("content");y&&x&&(j.extraData=j.extraData||{},j.extraData[y]=x),j.forceSync?z():setTimeout(z,10);var A,B,C=50,D,F=a.parseXML||function(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&b.documentElement.nodeName!="parsererror"?b:null},G=a.parseJSON||function(a){return window.eval("("+a+")")},H=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f=c==="xml"||!c&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;f&&g.documentElement.nodeName==="parsererror"&&a.error&&a.error("parsererror"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),typeof g=="string"&&(c==="json"||!c&&e.indexOf("json")>=0?g=G(g):(c==="script"||!c&&e.indexOf("javascript")>=0)&&a.globalEval(g));return g}}}function v(b){var d=new FormData;for(var e=0;e<b.length;e++)d.append(b[e].name,b[e].value);if(c.extraData)for(var f in c.extraData)c.extraData.hasOwnProperty(f)&&d.append(f,c.extraData[f]);c.data=null;var g=a.extend(!0,{},a.ajaxSettings,c,{contentType:!1,processData:!1,cache:!1,type:"POST"});c.uploadProgress&&(g.xhr=function(){var a=jQuery.ajaxSettings.xhr();a.upload&&(a.upload.onprogress=function(a){var b=0;a.lengthComputable&&(b=parseInt(a.position/a.total*100,10)),c.uploadProgress(a,a.position,a.total,b)});return a}),g.data=null;var h=g.beforeSend;g.beforeSend=function(a,b){b.data=d,h&&h.call(b,a,c)},a.ajax(g)}if(!this.length){e("ajaxSubmit: skipping submit process - no element selected");return this}var d,f,g,h=this;typeof c=="function"&&(c={success:c}),d=this.attr("method"),f=this.attr("action"),g=typeof f=="string"?a.trim(f):"",g=g||window.location.href||"",g&&(g=(g.match(/^([^#]+)/)||[])[1]),c=a.extend(!0,{url:g,success:a.ajaxSettings.success,type:d||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c);var i={};this.trigger("form-pre-serialize",[this,c,i]);if(i.veto){e("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(c.beforeSerialize&&c.beforeSerialize(this,c)===!1){e("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var j=c.traditional;j===undefined&&(j=a.ajaxSettings.traditional);var k,l=this.formToArray(c.semantic);c.data&&(c.extraData=c.data,k=a.param(c.data,j));if(c.beforeSubmit&&c.beforeSubmit(l,this,c)===!1){e("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[l,this,c,i]);if(i.veto){e("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var m=a.param(l,j);k&&(m=m?m+"&"+k:k),c.type.toUpperCase()=="GET"?(c.url+=(c.url.indexOf("?")>=0?"&":"?")+m,c.data=null):c.data=m;var n=[];c.resetForm&&n.push(function(){h.resetForm()}),c.clearForm&&n.push(function(){h.clearForm(c.includeHidden)});if(!c.dataType&&c.target){var o=c.success||function(){};n.push(function(b){var d=c.replaceTarget?"replaceWith":"html";a(c.target)[d](b).each(o,arguments)})}else c.success&&n.push(c.success);c.success=function(a,b,d){var e=c.context||c;for(var f=0,g=n.length;f<g;f++)n[f].apply(e,[a,b,d||h,h])};var p=a("input:file:enabled[value]",this),q=p.length>0,r="multipart/form-data",s=h.attr("enctype")==r||h.attr("encoding")==r,t=b.fileapi&&b.formdata;e("fileAPI :"+t);var u=(q||s)&&!t;c.iframe!==!1&&(c.iframe||u)?c.closeKeepAlive?a.get(c.closeKeepAlive,function(){w(l)}):w(l):(q||s)&&t?v(l):a.ajax(c),this.trigger("form-submit-notify",[this,c]);return this},a.fn.ajaxForm=function(b){b=b||{},b.delegation=b.delegation&&a.isFunction(a.fn.on);if(!b.delegation&&this.length===0){var f={s:this.selector,c:this.context};if(!a.isReady&&f.s){e("DOM not ready, queuing ajaxForm"),a(function(){a(f.s,f.c).ajaxForm(b)});return this}e("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return this}if(b.delegation){a(document).off("submit.form-plugin",this.selector,c).off("click.form-plugin",this.selector,d).on("submit.form-plugin",this.selector,b,c).on("click.form-plugin",this.selector,b,d);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",b,c).bind("click.form-plugin",b,d)},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(c){var d=[];if(this.length===0)return d;var e=this[0],f=c?e.getElementsByTagName("*"):e.elements;if(!f)return d;var g,h,i,j,k,l,m;for(g=0,l=f.length;g<l;g++){k=f[g],i=k.name;if(!i)continue;if(c&&e.clk&&k.type=="image"){!k.disabled&&e.clk==k&&(d.push({name:i,value:a(k).val(),type:k.type}),d.push({name:i+".x",value:e.clk_x},{name:i+".y",value:e.clk_y}));continue}j=a.fieldValue(k,!0);if(j&&j.constructor==Array)for(h=0,m=j.length;h<m;h++)d.push({name:i,value:j[h]});else if(b.fileapi&&k.type=="file"&&!k.disabled){var n=k.files;for(h=0;h<n.length;h++)d.push({name:i,value:n[h],type:k.type})}else j!==null&&typeof j!="undefined"&&d.push({name:i,value:j,type:k.type})}if(!c&&e.clk){var o=a(e.clk),p=o[0];i=p.name,i&&!p.disabled&&p.type=="image"&&(d.push({name:i,value:o.val()}),d.push({name:i+".x",value:e.clk_x},{name:i+".y",value:e.clk_y}))}return d},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];this.each(function(){var d=this.name;if(!!d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;f<g;f++)c.push({name:d,value:e[f]});else e!==null&&typeof e!="undefined"&&c.push({name:this.name,value:e})}});return a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;d<e;d++){var f=this[d],g=a.fieldValue(f,b);if(g===null||typeof g=="undefined"||g.constructor==Array&&!g.length)continue;g.constructor==Array?a.merge(c,g):c.push(g)}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();c===undefined&&(c=!0);if(c&&(!d||b.disabled||e=="reset"||e=="button"||(e=="checkbox"||e=="radio")&&!b.checked||(e=="submit"||e=="image")&&b.form&&b.form.clk!=b||f=="select"&&b.selectedIndex==-1))return null;if(f=="select"){var g=b.selectedIndex;if(g<0)return null;var h=[],i=b.options,j=e=="select-one",k=j?g+1:i.length;for(var l=j?g:0;l<k;l++){var m=i[l];if(m.selected){var n=m.value;n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value);if(j)return n;h.push(n)}}return h}return a(b).val()},a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})},a.fn.clearFields=a.fn.clearInputs=function(a){var b=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var c=this.type,d=this.tagName.toLowerCase();b.test(c)||d=="textarea"||a&&/hidden/.test(c)?this.value="":c=="checkbox"||c=="radio"?this.checked=!1:d=="select"&&(this.selectedIndex=-1)})},a.fn.resetForm=function(){return this.each(function(){(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){a===undefined&&(a=!0);return this.each(function(){this.disabled=!a})},a.fn.selected=function(b){b===undefined&&(b=!0);return this.each(function(){var c=this.type;if(c=="checkbox"||c=="radio")this.checked=b;else if(this.tagName.toLowerCase()=="option"){var d=a(this).parent("select");b&&d[0]&&d[0].type=="select-one"&&d.find("option").selected(!1),this.selected=b}})},a.fn.ajaxSubmit.debug=!1})(jQuery),function(a){a.extend(a.fn,{validate:function(b){if(!this.length)b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");else{var c=a.data(this[0],"validator");if(c)return c;this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c);if(c.settings.onsubmit){var d=this.find("input, button");d.filter(".cancel").click(function(){c.cancelSubmit=!0}),c.settings.submitHandler&&d.filter(":submit").click(function(){c.submitButton=this}),this.submit(function(b){function d(){var d;if(c.settings.submitHandler){c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove();return!1}return!0}c.settings.debug&&b.preventDefault();if(c.cancelSubmit){c.cancelSubmit=!1;return d()}if(c.form()){if(c.pendingRequest){c.formSubmitted=!0;return!1}return d()}c.focusInvalid();return!1})}return c}},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this[0].form).validate();this.each(function(){b&=c.element(this)});return b},removeAttrs:function(b){var c={},d=this;a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)});return c},rules:function(b,c){var d=this[0];if(b){var e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d);switch(b){case"add":a.extend(g,a.validator.normalizeRule(c)),f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":if(!c){delete f[d.name];return g}var h={};a.each(c.split(/\s/),function(a,b){h[b]=g[b],delete g[b]});return h}}var i=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(d),a.validator.classRules(d),a.validator.attributeRules(d),a.validator.staticRules(d)),d);if(i.required){var j=i.required;delete i.required,i=a.extend({required:j},i)}return i}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+b.value)},filled:function(b){return!!a.trim(""+b.value)},unchecked:function(a){return!a.checked}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){if(arguments.length===1)return function(){var c=a.makeArray(arguments);c.unshift(b);return a.validator.format.apply(this,c)};arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),c)});return b},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a,b){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a,b){!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))&&this.element(a)},onkeyup:function(a,b){(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function(a,b){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){b.type==="radio"?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){b.type==="radio"?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function d(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var b=this.groups={};a.each(this.settings.groups,function(c,d){a.each(d.split(/\s/),function(a,d){b[d]=c})});var c=this.settings.rules;a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",d).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",d),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){b=this.validationTargetFor(this.clean(b)),this.lastElement=b,this.prepareElement(b),this.currentElements=a(b);var c=this.check(b)!==!1;c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors();return c},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var c in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(a){return a.element.name===b.name}).length===1&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in c||!b.objectLength(a(this).rules()))return!1;c[this.name]=!0;return!0})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},check:function(b){b=this.validationTargetFor(this.clean(b));var c=a(b).rules(),d=!1;for(var e in c){var f={method:e,parameters:c[e]};try{var g=a.validator.methods[e].call(this,b.value.replace(/\r/g,""),b,f.parameters);if(g==="dependency-mismatch"){d=!0;continue}d=!1;if(g==="pending"){this.toHide=this.toHide.not(this.errorsFor(b));return}if(!g){this.formatAndAdd(b,f);return!1}}catch(h){this.settings.debug&&window.console&&console.log("exception occured when checking element "+b.id+", check the '"+f.method+"' method",h);throw h}}if(!d){this.objectLength(c)&&this.successList.push(b);return!0}},customMetaMessage:function(b,c){if(!!a.metadata){var d=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return d&&d.messages&&d.messages[c]}},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a];return undefined},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customMetaMessage(b,c),!this.settings.ignoreTitle&&b.title||undefined,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;typeof d=="function"?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper)));return a},defaultShowErrors:function(){var a,b;for(a=0;this.errorList[a];a++){var c=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.attr("generated")&&d.html(c)):(d=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(b),generated:!0}).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),typeof this.settings.success=="string"?d.addClass(this.settings.success):this.settings.success(d)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]);return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){var c=this.currentForm;return a(document.getElementsByName(b)).map(function(a,d){return d.form===c&&d.name===b&&d||null})},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a,b){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){return!a.validator.methods.required.call(this,a.trim(b.value),b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&this.pendingRequest===0&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&this.pendingRequest===0&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])});return c},attributeRules:function(b){var c={},d=a(b);for(var e in a.validator.methods){var f;e==="required"&&typeof a.fn.prop=="function"?f=d.prop(e):f=d.attr(e),f?c[e]=f:d[0].getAttribute("type")===e&&(c[e]=!0)}c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength;return c},metadataRules:function(b){if(!a.metadata)return{};var c=a.data(b.form,"validator").settings.meta;return c?a(b).metadata()[c]:a(b).metadata()},staticRules:function(b){var c={},d=a.data(b.form,"validator");d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{});return c},normalizeRules:function(b,c){a.each(b,function(d,e){if(e===!1)delete b[d];else if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=e.param!==undefined?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength","min","max"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){b[this]&&(b[this]=[Number(b[this][0]),Number(b[this][1])])}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b.messages&&delete b.messages;return b},normalizeRule:function(b){if(typeof b=="string"){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=d!==undefined?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if(c.nodeName.toLowerCase()==="select"){var e=a(c).val();return e&&e.length>0}if(this.checkable(c))return this.getLength(b,c)>0;return a.trim(b).length>0},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e=this.previousValue(c);this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d=typeof d=="string"&&{url:d}||d;if(this.pending[c.name])return"pending";if(e.old===b)return e.valid;e.old=b;var f=this;this.startRequest(c);var g={};g[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){f.settings.messages[c.name].remote=e.originalMessage;var g=d===!0;if(g){var h=f.formSubmitted;f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),f.showErrors()}else{var i={},j=d||f.defaultMessage(c,"remote");i[c.name]=e.message=a.isFunction(j)?j(b):j,f.showErrors(i)}e.valid=g,f.stopRequest(c,g)}},d));return"pending"},minlength:function(b,c,d){return this.optional(c)||this.getLength(a.trim(b),c)>=d},maxlength:function(b,c,d){return this.optional(c)||this.getLength(a.trim(b),c)<=d},rangelength:function(b,c,d){var e=this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits
:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=0;f--){var g=a.charAt(f);d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return c%10===0},accept:function(a,b,c){c=typeof c=="string"?c.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(new RegExp(".("+c+")$","i"))},equalTo:function(b,c,d){var e=a(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()});return b===e.val()}}}),a.format=a.validator.format}(jQuery),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){var e=a.port;a.mode==="abort"&&(b[e]&&b[e].abort(),b[e]=d)});else{var c=a.ajax;a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;if(e==="abort"){b[f]&&b[f].abort();return b[f]=c.apply(this,arguments)}return c.apply(this,arguments)}}}(jQuery),function(a){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&a.each({focus:"focusin",blur:"focusout"},function(b,c){function d(b){b=a.event.fix(b),b.type=c;return a.event.handle.call(this,b)}a.event.special[c]={setup:function(){this.addEventListener(b,d,!0)},teardown:function(){this.removeEventListener(b,d,!0)},handler:function(b){var d=arguments;d[0]=a.event.fix(b),d[0].type=c;return a.event.handle.apply(this,d)}}}),a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);if(e.is(b))return d.apply(e,arguments)})}})}(jQuery),function(a){var b=[],c={groups:"all",hideAllGroupOnExpand:!0,hideHeaderOnExpand:!1,header:null,body:null,expanded:!1,style:"expandable",floatui:!1};a.fn.expandable=function(d){d=d||{};var e=a.extend(c,d);this.each(function(){var c=e;b.push(new a.expandable(this,c))});return this},a.expandable=function(b,d){if(!b)return this;d=a.extend(c,d||{});var e=a(b),f=this;e.attr("id")||e.attr("id","expandable-"+Math.floor(Math.random()*16).toString(16).toUpperCase()),this.options=a.extend({body:"#"+e.attr("id")+"-expander-body"},d),this.options.body||(this.options.body="#"+e.attr("id")+"-expander-body"),this.expanded=this.options.expanded,this.groups=d.groups,this.content=null,d.style&&e.addClass("expandable"),e.addClass("rounded");if(d.header)this.head=e.find(d.header),this.head.find("button .button-expander")&&(tpl='<button class="yt-uix-expander-arrow button-expander" onclick="return false;"></button>',a(tpl).appendTo(this.head));else{var g=e.find(".expandable-header");g.length===0&&(g=a('<div class="expandable-header"><button class="yt-uix-expander-arrow" onclick="return false;"></button></div>').prependTo(e)),d.title=d.title||e.attr("title"),d.title&&(title=a("<div/>").html(d.title).text(),tpl='<div class="expander-content">'+title+"</div>",a(tpl).appendTo(g)),this.head=g}this.button=this.head.find("button");var h=!1,i=undefined;if(e.find(this.options.body).length===0)try{i=a("#"+this.options.body),h=i.length>0}catch(b){try{i=a(this.options.body),h=i.length>0}catch(b){}}else i=e.find(this.options.body),h=i.length>0;h||(i=a('<div id="'+this.options.body+'">'+this.options.content+"</div>").appendTo(e),i.hide()),this.options.style&&i.addClass(this.options.style+"-body ui-widget-content"),this.options.floatui&&i.css({position:"absolute",top:e.offset().top+this.head.height(),left:0,right:0,bottom:0,"z-index":1001}),this.content=i,this.self=e,this.head.bind("dblclick",function(){f.toggle()}),this.button.bind("click",function(){f.toggle()}),this.setup(b),h&&!this.options.contentUrl&&(this.options.expanded?this.expand(!0):this.collapse(!0))};var d=a.expandable;d.fn=d.prototype={expandable:"version 1.0b"},d.fn.extend=d.extend=a.extend,d.fn.extend({setup:function(a){},setExpanded:function(a){a?(this.self.addClass("on"),this.head.addClass("off"),this.button.addClass("on"),this.content.addClass("on")):(this.self.removeClass("on"),this.head.removeClass("off"),this.button.removeClass("on"),this.content.removeClass("on")),this.expanded=a},collapse:function(a){if(!!a||!!this.expanded)this.onAction=!0,this.options.hideHeaderOnExpand&&this.head.find(".expander-content").show(),this.content.slideUp().hide(),this.setExpanded(!1)},loading:function(){var b=this.head.find(".loading-small");b.length==0&&(b=a('<div class="loading-small"></div>').prependTo(this.head));return b},expand:function(c){if(!!c||!this.expanded)this.onAction=!0,this.options.hideAllGroupOnExpand&&a.each(b,function(a,b){b.groups===self.groups&&b.collapse()}),this.options.hideHeaderOnExpand&&this.head.find(".expander-content").hide(),this.content.html()===""?this.options.contentUrl?this.load(this.options.contentUrl):this.content.html(""):(this.content.slideDown().show(),this.setExpanded(!0))},load:function(a){this.loading().show();var b=this;this.content.load(a,function(a,c,d){b.loading().hide(),b.content.slideDown().show(),b.setExpanded(!0)})},toggle:function(){this.expanded?this.collapse():this.expand(),this.self.resize()}})}(jQuery),function(a){"use strict";var b=function(b,c){c=c||a.fn.popupDialog.defaults,b?(this.init("popupDialog",b,c),c.contentEl&&(this.show(),this.hide())):this.options=c;return this};b.prototype=a.extend({},a.fn.popover.Constructor.prototype,{constructor:b,setContent:function(){a.fn.popover.Constructor.prototype.setContent.call(this),this.getTitle()||this.tip().find(".popover-title").hide()},getContent:function(b){var c=this.tip().find(".popover-content").css({paddingLeft:"0px"});if(this.options.contentEl)return this.options.contentEl;var d=c.data("data-content");if(!d){if(this.options.url){c.data("onload",!0);var e=this;a.ajax({url:this.options.url,success:function(b){c.data("data-content",b),a(e.$tip.find(".popover-inner")).width(a(b).width()),e.show(),c.data("data-content",null)},error:function(){c.data("data-content",null),e.show()}})}return"loading..."}return d},show:function(){a.fn.popover.Constructor.prototype.show.call(this);var b=this;this.tip().find(".close").click(function(){b.hide(),a(b).trigger("close")})},setElement:function(a){this.init("popupDialog",a,this.defaults)},setTitle:function(a){this.options.title=a},showEvent:function(a){a.title&&(this.options.title=a.title),this.show();var b=this;a.url&&(this.options.url=a.url),this.show()}}),a.fn.popupDialog=function(c,d){return this.each(function(){var e=a(this),f=e.data("popupdialog"),g=typeof c=="object"&&c;f||e.data("popupdialog",f=new b(this,g)),typeof c=="string"&&f[c](d)})},a.popupDialog=b,a.fn.popupDialog.Constructor=b,a.fn.popupDialog.defaults=a.extend({},a.fn.popover.defaults,{placement:function(){return"bottom"},trigger:"manual",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><div class="icon icon-remove close" style="position:absolute;top:20px;right:20px"/><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(jQuery),function(){$.fn.scrollbar=function(a){a=$.extend({scrollHeight:150},a||{});return this.each(function(){var a=$(this),b=a.children(0).css({position:"relative"});if(!a.data("scrollbar")){var c=a.find(".scrollbar");c.length===0&&(c=$('<div class="scrollbar"></div>').prependTo(a),s=$("<div></div>").appendTo(c),c.css({padding:0,margin:0,backgroundColor:"rgba(118, 118, 118, 1)",cssFloat:"right",width:"6px"}),s.css({height:"25px",position:"relative",border:"1px solid rgba(118, 118, 118, 1)",borderRadius:"2px",backgroundColor:"red",cursor:"pointer"}),s.draggable({containment:"parent",axis:"y",start:function(){},drag:function(a,b){d(b.position.top)},stop:function(a,b){d(b.position.top)}}),s.bind("mousewheel",function(){d()}));function d(d){c.css({height:a.height()+"px"}),b.css({top:d*-1})}d(),this.recalculate=d,a.data("scrollbar",this)}else a.data("scrollbar").recarculate();return this})}}(jQuery),function(){function a(a,b){var b=$.extend({title:""},b||{}),a=$(a),c=a.find(".tip"),d=b.title?b.title:a.attr("title");c.length===0&&(c=$('<div class=".tip">'+d+"</div>").css({position:"absolute"}).appendTo($(a))),c.hide(),$(a).bind({mouseenter:function(a){c.show()},mouseleave:function(a){c.hide()},mousemove:function(a){var b=a.pageX+20,d=a.pageY+20,e=c.width(),f=c.height(),g=$(window).width()-(b+e),h=$(window).height()-(d+f);g<20&&(b=a.pageX-e-20),h<20&&(d=a.pageY-f-20),c.css({top:d,left:b})}})}$.fn.tooltip=function(b){$(this).each(function(){new a(this,b)})}}(jQuery),function($){function checkRepetition(a,b){res="";for(var c=0;c<b.length;c++){repeated=!0;for(var d=0;d<a&&d+c+a<b.length;d++)repeated=repeated&&b.charAt(d+c)==b.charAt(d+c+a);d<a&&(repeated=!1),repeated?(c+=a-1,repeated=!1):res+=b.charAt(c)}return res}$.fn.passwordStrength=function(a){score=0,password=$(this).val();if(password.length<4)return 0;if(password.toLowerCase()==a.toLowerCase())return 0;score+=password.length*4,score+=(checkRepetition(1,password).length-password.length)*1,score+=(checkRepetition(2,password).length-password.length)*1,score+=(checkRepetition(3,password).length-password.length)*1,score+=(checkRepetition(4,password).length-password.length)*1,password.match(/(.*[0-9].*[0-9].*[0-9])/)&&(score+=5),password.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)&&(score+=5),password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(score+=10),password.match(/([a-zA-Z])/)&&password.match(/([0-9])/)&&(score+=15),password.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&password.match(/([0-9])/)&&(score+=15),password.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&password.match(/([a-zA-Z])/)&&(score+=15);if(password.match(/^\w+$/)||password.match(/^\d+$/))score-=10;return score},$.fn.gform=function(config){var config=this.config=$.extend({ajaxmode:!0,onprepare:null,data:{__t:Math.random(),__data:"json"}},config||{}),me=this,form=$(this),eMsg=$(this).find("#error-message");eMsg.length>0&&eMsg.bind("click",function(){$(this).slideUp()}),$.isFunction(config.onprepare)&&config.onprepare.apply(form),form.find('[data-input="date-range"]').each(function(){}),form.find('[data-input="date"]').each(function(){var a=$.extend({changeYear:!0,dateFormat:me.config.dateFormat||(cgaf.getConfig("locale")==="id"?"dd/mm/yy":"mm/dd/yy"),regional:cgaf.getConfig("locale"),showOn:"button",defaultDate:null,buttonImage:"/assets/images/calendar_down.png"},me.config.dateconfig||{});$(this).attr("minyear")!==undefined&&(config.minDate=new Date(parseInt($(this).attr("minyear")),1,1)),$(this).datepicker(a)});var jax=form.attr("useajax")===undefined?config.ajaxmode:form.attr("useajax"),ajaxm=config.ajaxmode||typeof jax=="undefined"||jax==!0,validconfig=$.extend({debug:!0,submitHandler:function(frm,e){if(!ajaxm){frm.submit();return!1}e.preventDefault();var ajaxconfig=$.extend({dataType:"json",success:function(a,b,c){if(typeof a=="undefined"||a==null){$.showErrorMessage("Error  while processing request",$(form));return!1}if(!a._result)for(k in a){var d=$(form).find("#"+k);d.length>0&&d.val(a[k])}else a._redirect?location.href=a._redirect:a.content&&$.fancybox({content:a.content});a.message&&$.alert(a.message);return!1},error:function(XMLHttpRequest,textStatus,errorThrown){if(textStatus==="parsererror"){try{var json=eval("("+XMLHttpRequest.responseText+")")}catch(e){$.showErrorMessage("Invalid JSON Data <br/>"+XMLHttpRequest.responseText);return!1}return this.success(json)}return!1}},config);form.ajaxSubmit(ajaxconfig);return!1}},config||{});$(this).validate(validconfig);return!1}}(jQuery),function(a){function d(){var a=[];return{Event:function(a,b,c){var d=!1;this.EventName=a,this.Source=b,this.args=c,this.stopPropagation=function(){d=!0},this.propagationStoped=function(){return d}},bind:function(b,c){a.push({name:b,callback:c})},trigger:function(b,c){for(var d in a){var e=a[d];e.name===b&&e.callback(c)}},unbind:function(b,c){for(var d in a){var e=a[d];try{if(e.name===b&&e.callback==c){a.splice(d,1);break}}catch(d){console.log(d)}}}}}function c(){var b=[],c=[];this._started=!1;return{onFinish:function(a){b.push(a),this._started=!1},add:function(a){c.push(a)},next:function(){c.length===0?a(b).each(function(){this.call()}):(this._started=!0,callback=c.shift(),callback.call(this))},start:function(){this.next()}}}function b(){if(!!a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.windpostError&&window.opera.postError(b)}}window.log=b,a.openOverlay=function(b){var c=a("#cgaf-modal"),b=a.extend(b,b||{title:"test",backdrop:!0,show:!1});c.length==0&&(c=a('<div id="cgaf-modal" class="modal fade in"/>').appendTo("body"),a('<div class="modal-header"><a class="icon-remove close" data-dismiss="modal"></a><h3></h3></div><div class="modal-body"></div> <div class="modal-footer"></div>').appendTo(c));var d=c.find(".modal-body").empty(),e=new a.fn.modal.Constructor(c,b);b.title?c.find(".modal-header h3").html(b.title):c.find(".modal-header h3").hide(),b.url?(d.addClass("loading"),d.load(b.url,function(){d.removeClass("loading")})):b.contents&&d.html(b.contents),e.show()},a.showErrorMessage=function(b){a.openOverlay({title:"Error",contents:b})},a.fn.openOverlay=a.openOverlay,a.filterProperties=function(a,b){var c={};for(var d in a){var e=b[d];typeof e!="undefined"&&e!==null&&(c[d]=e)}return c};var e=function(){function l(){if(window.cgaf)return window.cgaf;return new l.fn.init}var b=[],e=new c,f={},g=!1,h={"jquery.mousewheel":""},i={},j=new d,k={};l.fn=l.prototype={init:function(){var b=this,c=a("#loading");c.length===0&&(c=a('<div id="loading" class="loading"><span>loading...</span></div>').appendTo("body").hide()),c.bind("ajaxSend",function(){a(this).show()}).bind("ajaxComplete",function(){b.defaultUIHandler(),a(this).hide()}),this.Events={CGAF_READY:"cgaf-ready",STATUS_CHANGED:"status-changed"}},getModuleInfo:function(a){typeof a=="object"&&(a=a._m);for(var b in k){var c=k[b];if(isNaN(a)){if(c.mod_dir.toLowerCase()==a.toLowerCase())return c}else if(b.toString().toLowerCase()==a.toString().toLowerCase())return c}},getJSAsync:function(a,b){var c=document.createElement("script");c.type="text/javascript";var d=cgaf.url(a,b);c.src=d.toString(),document.body.appendChild(c)},getJS:function(b,c,d){function h(){cgaf.log(arguments),e++}function g(a,b){e++==f&&typeof c!="undefined"&&c()}var e=1,f=typeof b!="string"?b.length:1;if(typeof b=="string")try{a.getScript(b,g)}catch(i){h(i)}else if(typeof b=="object")for(var j in b){var k=b[j];if(typeof k!="string")continue;try{a.getScript(k,g)}catch(i){h(i)}}else cgaf.log(typeof b)},ui:{},rescheduleQueue:function(){if(!g){if(b.length==0)return;g=!0;var a=b.shift(),c=a.data.callback||function(){},d=this;a.data.callback=function(){try{c.apply(this,arguments)}catch(a){}g=!1,d.rescheduleQueue()},a.callback.call(this,a.data)}},isJQPluginLoaded:function(a){return h.hasOwnProperty(a)},loadStyleSheet:function(b){Object.keys(i).length==0&&a("head > link").each(function(b,c){var d=a(c).attr("href");i[d]=!0});i.hasOwnProperty(b)||(i[b]=!0,a("head").append(a('<link rel="stylesheet" type="text/css" />').attr("href",b)))},loadJQPlugin:function(b,c){if(typeof b=="object"){var d=this;e.onFinish(c),a.each(b,function(a,b){e.add(function(){d.loadJQPlugin(b,function(){e.next()})})}),e.start()}else{if(this.isJQPluginLoaded(b)){this.trigger("onpluginloaded",b),a.isFunction(c)&&c.call(this);return}version=this.getConfig("jq.version","latest");var f=this.getConfig("jqurl",this.getConfig("asseturl",""))+"js/jQuery/plugins/"+b+".js";h[b]=f,this.require(f,c)}},require:function(a,b){this.getJS(a,function(){typeof b!="undefined"&&b.call(this,arguments)})},getJSON:function(b,c,d,e){var f=this;c=a.extend({__data:"json"},c||{});return jQuery.get(b,c,function(a){var b;try{b=(new Function("return "+a))()}catch(c){cgaf.log(c.toString()+":"+a),f.showError("Invalid JSON Data<br/>"+a),e&&e.call(this,c,a);return!1}d&&d.call(this,b)},"text")},getJSONApp:function(a,b){var c=cgaf.getConfig("appurl");return jQuery.get(c,a,function(a){typeof b!="undefined"&&b.call(this,(new Function("return "+a))())},"text")},ErrorType:{Notice:"error-type-notice",Warning:"error-type-warning",Error:"error-type-error"},defaultUIHandler:function(){a("#sysmessage").attr("handled")||a("#sysmessage").bind("click",function(){a(this).hide()}).attr("handled",!0),a("a[rel=__overlay]").each(function(){a(this).attr("__overlay")||(a(this).attr("__overlay",1),a(this).click(function(b){b.preventDefault(),a.openOverlay(a(this).attr("href"))}))}),a("a[rel=__confirm]").each(function(){a(this).attr("__confirm")||(a(this).attr("__confirm",1),a(this).click(function(b){b.preventDefault();var c=a(this).attr("ctitle");c||(c=a(this).attr("title"));var d=a(this);cgaf.confirm(c,function(){var b=a.url(d.attr("href"));b.param("__confirm",1),a.openOverlay(b.toString())})}))})},setReady:function(){this.defaultUIHandler(),this.trigger(this.Events.CGAF_READY)},trigger:function(){j.trigger.apply(this,arguments)},bind:function(){j.bind.apply(this,arguments)},Windows:function(){return{open:function(b){return a.openOverlay(b)}}},Plugins:function(){return{select:function(){}}},setStatus:function(a){cgaf.trigger(cgaf.Events.STATUS_CHANGED,a)},setConfig:function(b,c){if(typeof c=="undefined"){var d=this;a.each(b,function(a,b){d.setConfig(a,b)})}else f[b]=c},confirm:function(b,c){var d=a("#confirm-dialog");d.length===0&&(d=a('<div id="confirm-dialog"></div>').appendTo("body")),d.html(b),d.dialog({modal:!0,buttons:{Confirm:function(){c&&c.call(this),a(this).dialog("close")},Cancel:function(){a(this).dialog("close")}}}),d.dialog("open")},dateFromISO:function(a,b){a=new Date(a);return a.format(b)},showError:function(b){a.showErrorMessage(b)},getConfig:function(a,b){return typeof f[a]=="undefined"?b:f[a]},log:function(a,b){window.log(arguments)},url:function(b,c){var d=new a.url(b);d.setParam(c);return d},Queue:function(a,c,d){b.push({id:a,data:d,callback:c}),this.rescheduleQueue()},toJSON:function(b){if(typeof b=="string")try{return(new Function("return "+b))()}catch(c){return null}cgaf.log(a(this));return b},Socket:function(){}},l.fn.init.prototype=l.fn;return l}();window.cgaf=new e}(jQuery)