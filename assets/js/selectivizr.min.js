/*
selectivizr v1.0.3b - (c) Keith Clark, freely distributable under the terms 
of the MIT license.

selectivizr.com
*//* 
  
Notes about this source
-----------------------

 * The #DEBUG_START and #DEBUG_END comments are used to mark blocks of code
   that will be removed prior to building a final release version (using a
   pre-compression script)
  
  
References:
-----------
 
 * CSS Syntax          : http://www.w3.org/TR/2003/WD-css3-syntax-20030813/#style
 * Selectors           : http://www.w3.org/TR/css3-selectors/#selectors
 * IE Compatability    : http://msdn.microsoft.com/en-us/library/cc351024(VS.85).aspx
 * W3C Selector Tests  : http://www.w3.org/Style/CSS/Test/CSS3/Selectors/current/html/tests/
 
*/(function(a){function $(a,d){var e=!1,f=!0,g=function(c){if(c.type!="readystatechange"||b.readyState=="complete")(c.type=="load"?a:b).detachEvent("on"+c.type,g,!1),!e&&(e=!0)&&d.call(a,c.type||c)},h=function(){try{c.doScroll("left")}catch(a){setTimeout(h,50);return}g("poll")};if(b.readyState=="complete")d.call(a,C);else{if(b.createEventObject&&c.doScroll){try{f=!a.frameElement}catch(i){}f&&h()}R(b,"readystatechange",g),R(a,"load",g)}}function X(){I(),h.length>0&&setInterval(function(){for(var a=0,b=h.length;a<b;a++){var c=h[a];c.disabled!==c.$disabled&&(c.disabled?(c.disabled=!1,c.$disabled=!0,c.disabled=!0):c.$disabled=c.disabled)}},250)}function W(){var a,c;for(var d=0;d<b.styleSheets.length;d++)c=b.styleSheets[d],c.href!=C&&(a=U(c.href),a&&(c.cssText=c.rawCssText=F(V(a))))}function V(a){if(a)return T(a).replace(m,C).replace(n,function(b,c,d,e,f,g){var h=V(U(d||f,a));return g?"@media "+g+" {"+h+"}":h}).replace(o,function(b,c,d,e){d=d||C;return c?b:" url("+d+U(e,a,!0)+d+") "});return C}function U(a,b,c){function e(a){return a.substring(0,a.indexOf("/",8))}function d(a){return a.substring(0,a.indexOf("//"))}b||(b=Z),a.substring(0,2)=="//"&&(a=d(b)+a);if(/^https?:\/\//i.test(a))return!c&&e(b)!=e(a)?null:a;if(a.charAt(0)=="/")return e(b)+a;var f=b.split(/[?#]/)[0];a.charAt(0)!="?"&&f.charAt(f.length-1)!="/"&&(f=f.substring(0,f.lastIndexOf("/")+1));return f+a}function T(a){d.open("GET",a,!1),d.send();return d.status==200?d.responseText:C}function S(){if(a.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(b){return null}}function R(a,b,c){a.attachEvent("on"+b,c)}function Q(a,b,c){var d=RegExp("(^|\\s)"+b+"(\\s|$)"),e=d.test(a);return c?e?a:a+D+b:e?M(a.replace(d,E)):a}function P(a,b,c){var d=a.className,e=Q(d,b,c);e!=d&&(a.className=e,a.parentNode.className+=C)}function O(a){return N(a.replace(y,E).replace(z,E))}function N(a){return M(a).replace(A,D)}function M(a){return a.replace(B,E)}function L(b){a.console&&a.console.log(b)}function K(a){return l+"-"+(e==6&&k?j++:a.replace(u,function(a){return a.charCodeAt(0)}))}function J(a,b){return(new RegExp("(^|\\s)"+b.className+"(\\s|$)")).test(a.className)}function I(){var a,b,c,d;for(var e=0;e<i.length;e++){b=i[e].selector,c=i[e].patches,d=b.replace(t,C);if(d==C||d.charAt(d.length-1)==D)d+="*";try{a=g(d)}catch(f){L("Selector '"+b+"' threw exception '"+f+"'")}if(a)for(var h=0,j=a.length;h<j;h++){var k=a[h],l=k.className;for(var m=0,n=c.length;m<n;m++){var o=c[m];J(k,o)||o.applyClass&&(o.applyClass===!0||o.applyClass(k)===!0)&&(l=Q(l,o.className,!0))}k.className=l}}}function H(b){var d=!0,f=K(b.slice(1)),g=b.substring(0,5)==":not(",i,j;g&&(b=b.slice(5,-1));var k=b.indexOf("(");k>-1&&(b=b.substring(0,k));if(b.charAt(0)==":")switch(b.slice(1)){case"root":d=function(a){return g?a!=c:a==c};break;case"target":if(e==8){d=function(b){var c=function(){var a=location.hash,c=a.slice(1);return g?a==C||b.id!=c:a!=C&&b.id==c};R(a,"hashchange",function(){P(b,f,c())});return c()};break}return!1;case"checked":d=function(a){w.test(a.type)&&R(a,"propertychange",function(){event.propertyName=="checked"&&P(a,f,a.checked!==g)});return a.checked!==g};break;case"disabled":g=!g;case"enabled":d=function(a){if(v.test(a.tagName)){R(a,"propertychange",function(){event.propertyName=="$disabled"&&P(a,f,a.$disabled===g)}),h.push(a),a.$disabled=a.disabled;return a.disabled===g}return b==":enabled"?g:!g};break;case"focus":i="focus",j="blur";case"hover":i||(i="mouseenter",j="mouseleave"),d=function(a){R(a,g?j:i,function(){P(a,f,!0)}),R(a,g?i:j,function(){P(a,f,!1)});return g};break;default:if(!p.test(b))return!1}return{className:f,applyClass:d}}function G(a){return!x||x.test(a)?{className:K(a),applyClass:!0}:null}function F(a){return a.replace(q,E).replace(r,function(a,b,c){var d=c.split(",");for(var e=0,f=d.length;e<f;e++){var g=O(d[e])+D,h=[];d[e]=g.replace(s,function(a,b,c,d,e){if(b){h.length>0&&(i.push({selector:g.substring(0,e),patches:h}),h=[]);return b}var f=c?H(c):G(d);if(f){h.push(f);return"."+f.className}return a})}return b+d.join(",")})}return;var b=document,c=b.documentElement,d=S(),e=/MSIE (\d+)/.exec(navigator.userAgent)[1];var f={NW:"*.Dom.select",MooTools:"$$",DOMAssistant:"*.$",Prototype:"$$",YAHOO:"*.util.Selector.query",Sizzle:"*",jQuery:"*",dojo:"*.query"},g,h=[],i=[],j=0,k=!0,l="slvzr",m=/(\/\*[^*]*\*+([^\/][^*]*\*+)*\/)\s*?/g,n=/@import\s*(?:(?:(?:url\(\s*(['"]?)(.*)\1)\s*\))|(?:(['"])(.*)\3))\s*([^;]*);/g,o=/(behavior\s*?:\s*)?\burl\(\s*(["']?)(?!data:)([^"')]+)\2\s*\)/g,p=/^:(empty|(first|last|only|nth(-last)?)-(child|of-type))$/,q=/:(:first-(?:line|letter))/g,r=/((?:^|(?:\s*})+)(?:\s*@media[^{]+{)?)\s*([^\{]*?[\[:][^{]+)/g,s=/([ +~>])|(:[a-z-]+(?:\(.*?\)+)?)|(\[.*?\])/g,t=/(:not\()?:(hover|enabled|disabled|focus|checked|target|active|visited|first-line|first-letter)\)?/g,u=/[^\w-]/g,v=/^(INPUT|SELECT|TEXTAREA|BUTTON)$/,w=/^(checkbox|radio)$/,x=e>6?/[\$\^*]=(['"])\1/:null,y=/([(\[+~])\s+/g,z=/\s+([)\]+~])/g,A=/\s+/g,B=/^\s*((?:[\S\s]*\S)?)\s*$/,C="",D=" ",E="$1",Y=b.getElementsByTagName("BASE"),Z=Y.length>0?Y[0].href:b.location.href})(this)