/*

 FullCalendar v1.5.3
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Mon Feb 6 22:40:40 2012 -0800

*/
(function(m,oa){function wb(a){m.extend(true,Ya,a)}function Yb(a,b,e){function d(k){if(D){q();E();ta();S(k)}else h()}function h(){A=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");D=m("<div class='fc-content' style='position:relative'/>").prependTo(a);B=new Zb(X,b);(P=B.render())&&a.prepend(P);x(b.defaultView);m(window).resize(ha);t()||f()}function f(){setTimeout(function(){!n.start&&t()&&S()},0)}function l(){m(window).unbind("resize",ha);B.destroy();
D.remove();a.removeClass("fc fc-rtl ui-widget")}function j(){return i.offsetWidth!==0}function t(){return m("body")[0].offsetWidth!==0}function x(k){if(!n||k!=n.name){F++;ja();var C=n,$;if(C){(C.beforeHide||xb)();Za(D,D.height());C.element.hide()}else Za(D,1);D.css("overflow","hidden");if(n=Y[k])n.element.show();else n=Y[k]=new Ja[k]($=s=m("<div class='fc-view fc-view-"+k+"' style='position:absolute'/>").appendTo(D),X);C&&B.deactivateButton(C.name);this.trigger&&this.trigger("viewChanged",k,C);B.activateButton(k);
S();D.css("overflow","");C&&Za(D,1);$||(n.afterShow||xb)();F--}}function S(k){if(j()){F++;ja();o===oa&&q();var C=false;if(!n.start||k||r<n.start||r>=n.end){n.render(r,k||0);aa(true);C=true}else if(n.sizeDirty){n.clearEvents();aa();C=true}else if(n.eventsDirty){n.clearEvents();C=true}n.sizeDirty=false;n.eventsDirty=false;ra(C);W=a.outerWidth();B.updateTitle(n.title);k=new Date;k>=n.start&&k<n.end?B.disableButton("today"):B.enableButton("today");F--;n.trigger("viewDisplay",i)}}function V(){E();if(j()){q();
aa();ja();n.clearEvents();n.renderEvents(J);n.sizeDirty=false}}function E(){m.each(Y,function(k,C){C.sizeDirty=true})}function q(){o=b.contentHeight?b.contentHeight:b.height?b.height-(P?P.height():0)-Sa(D):Math.round(D.width()/Math.max(b.aspectRatio,0.5))}function aa(k){F++;n.setHeight(o,k);if(s){s.css("position","relative");s=null}n.setWidth(D.width(),k);F--}function ha(){if(!F)if(n.start){var k=++u;setTimeout(function(){if(k==u&&!F&&j())if(W!=(W=a.outerWidth())){F++;V();n.trigger("windowResize",
i);F--}},200)}else f()}function ra(k){if(!b.lazyFetching||ya(n.visStart,n.visEnd))ua();else k&&ba()}function ua(){K(n.visStart,n.visEnd)}function na(k){J=k;ba()}function Z(k){ba(k)}function ba(k){ta();if(j()){n.clearEvents();n.renderEvents(J,k);n.eventsDirty=false}}function ta(){m.each(Y,function(k,C){C.eventsDirty=true})}function qa(k,C,$){n.select(k,C,$===oa?true:$)}function ja(){n&&n.unselect()}function T(){S(-1)}function fa(){S(1)}function la(){gb(r,-1);S()}function pa(){gb(r,1);S()}function G(){r=
new Date;S()}function p(k,C,$){if(k instanceof Date)r=N(k);else yb(r,k,C,$);S()}function L(k,C,$){k!==oa&&gb(r,k);C!==oa&&hb(r,C);$!==oa&&ea(r,$);S()}function c(){return N(r)}function y(){return n}function H(k,C){if(C===oa)return b[k];if(k=="height"||k=="contentHeight"||k=="aspectRatio"){b[k]=C;V()}}function R(k,C){if(b[k])return b[k].apply(C||i,Array.prototype.slice.call(arguments,2))}var X=this;X.options=b;X.render=d;X.destroy=l;X.refetchEvents=ua;X.reportEvents=na;X.reportEventChange=Z;X.rerenderEvents=
ba;X.changeView=x;X.select=qa;X.unselect=ja;X.prev=T;X.next=fa;X.prevYear=la;X.nextYear=pa;X.today=G;X.gotoDate=p;X.incrementDate=L;X.formatDate=function(k,C){return Oa(k,C,b)};X.formatDates=function(k,C,$){return ib(k,C,$,b)};X.getDate=c;X.getView=y;X.option=H;X.trigger=R;$b.call(X,b,e);var ya=X.isFetchNeeded,K=X.fetchEvents,i=a[0],B,P,D,A,n,Y={},W,o,s,u=0,F=0,r=new Date,J=[],M;yb(r,b.year,b.month,b.date);b.droppable&&m(document).bind("dragstart",function(k,C){var $=k.target,ka=m($);if(!ka.parents(".fc").length){var ia=
b.dropAccept;if(m.isFunction(ia)?ia.call($,ka):ka.is(ia)){M=$;n.dragStart(M,k,C)}}}).bind("dragstop",function(k,C){if(M){n.dragStop(M,k,C);M=null}})}function Zb(a,b){function e(){E=b.theme?"ui":"fc";if(b.header)return V=m("<table class='fc-header' style='width:100%'/>").append(m("<tr/>").append(h("left")).append(h("center")).append(h("right")))}function d(){V.remove()}function h(q){var aa=m('<td class="'+q+'"></td>'),ha=b.header[q];ha&&m.each(ha.split(" "),function(){var ra,ua=m('<div class="btn-group"  data-toggle="'+
(q==="right"?"buttons-radio":"")+'"></div>').appendTo(aa);m.each(this.split(","),function(na,Z){na=["btn","btn-primary"];if(Z=="title"){ua.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ra=null}else{var ba,ta;if(a[Z])ba=a[Z];else if(Ja[Z]){ba=function(){ja.removeClass(E+"-state-hover");a.changeView(Z)};Z===b.defaultView&&na.push("active")}else if(b.customButtons[Z]){var qa=b.customButtons[Z];ba=function(){qa.onClick&&qa.onClick.call(a)};if(qa.title)ta=qa.title}if(ba){b.theme&&jb(b.buttonIcons,
Z);ta=ta||jb(b.buttonText,Z);var ja=m('<button class="'+na.join(" ")+" fc-button fc-button-"+Z+'"><span>'+ta+"</span></button>");if(ja){ja.click(function(){ja.hasClass(E+"-state-disabled")||ba()}).appendTo(ua);ra=ja}}}});ua.button()});return aa}function f(q){V.find("h2").html(q)}function l(q){V.find("span.fc-button-"+q).addClass(E+"-state-active")}function j(q){V.find("span.fc-button-"+q).removeClass(E+"-state-active")}function t(q){V.find("span.fc-button-"+q).addClass(E+"-state-disabled")}function x(q){V.find("span.fc-button-"+
q).removeClass(E+"-state-disabled")}var S=this;S.render=e;S.destroy=d;S.updateTitle=f;S.activateButton=l;S.deactivateButton=j;S.disableButton=t;S.enableButton=x;var V=m([]),E}function $b(a,b){function e(c,y){return!fa||c<fa||y>la}function d(c,y){fa=c;la=y;L=[];c=++pa;G=y=T.length;for(var H=0;H<y;H++)h(T[H],c)}function h(c,y){f(c,function(H){if(y==pa){if(H){for(var R=0;R<H.length;R++){H[R].source=c;ha(H[R])}L=L.concat(H)}G--;G||qa(L)}})}function f(c,y){var H,R=Aa.sourceFetchers,X;for(H=0;H<R.length;H++){X=
R[H](c,fa,la,y);if(X===true)return;else if(typeof X=="object"){f(X,y);return}}if(H=c.events)if(m.isFunction(H)){q();H(N(fa),N(la),function(B){y(B);aa()})}else m.isArray(H)?y(H):y();else if(c.url){var ya=c.success,K=c.error,i=c.complete;H=m.extend({},c.data||{});R=Ta(c.startParam,a.startParam);X=Ta(c.endParam,a.endParam);if(R)H[R]=Math.round(+fa/1E3);if(X)H[X]=Math.round(+la/1E3);q();m.ajax(m.extend({},ac,c,{data:H,success:function(B){B=B||[];var P=$a(ya,this,arguments);if(m.isArray(P))B=P;y(B)},error:function(){$a(K,
this,arguments);y()},complete:function(){$a(i,this,arguments);aa()}}))}else y()}function l(c){if(c=j(c)){G++;h(c,pa)}}function j(c){if(m.isFunction(c)||m.isArray(c))c={events:c};else if(typeof c=="string")c={url:c};if(typeof c=="object"){ra(c);T.push(c);return c}}function t(c){T=m.grep(T,function(y){return!ua(y,c)});L=m.grep(L,function(y){return!ua(y.source,c)});qa(L)}function x(c){var y,H=L.length,R,X=ta().defaultEventEnd,ya=c.start-c._start,K=c.end?c.end-(c._end||X(c)):0;for(y=0;y<H;y++){R=L[y];
if(R._id==c._id&&R!=c){R.start=new Date(+R.start+ya);R.end=c.end?R.end?new Date(+R.end+K):new Date(+X(R)+K):null;R.title=c.title;R.url=c.url;R.allDay=c.allDay;R.className=c.className;R.editable=c.editable;R.color=c.color;R.backgroudColor=c.backgroudColor;R.borderColor=c.borderColor;R.textColor=c.textColor;ha(R)}}ha(c);qa(L)}function S(c,y){ha(c);if(!c.source){if(y){ja.events.push(c);c.source=ja}L.push(c)}qa(L)}function V(c){if(c){if(!m.isFunction(c)){var y=c+"";c=function(R){return R._id==y}}L=m.grep(L,
c,true);for(H=0;H<T.length;H++)if(m.isArray(T[H].events))T[H].events=m.grep(T[H].events,c,true)}else{L=[];for(var H=0;H<T.length;H++)if(m.isArray(T[H].events))T[H].events=[]}qa(L)}function E(c){if(m.isFunction(c))return m.grep(L,c);else if(c){c+="";return m.grep(L,function(y){return y._id==c})}return L}function q(){p++||ba("loading",null,true)}function aa(){--p||ba("loading",null,false)}function ha(c){var y=c.source||{},H=Ta(y.ignoreTimezone,a.ignoreTimezone);c._id=c._id||(c.id===oa?"_fc"+bc++:c.id+
"");if(c.date){if(!c.start)c.start=c.date;delete c.date}c._start=N(c.start=kb(c.start,H));c.end=kb(c.end,H);if(c.end&&c.end<=c.start)c.end=null;c._end=c.end?N(c.end):null;if(c.allDay===oa)c.allDay=Ta(y.allDayDefault,a.allDayDefault);if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[]}function ra(c){if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[];for(var y=Aa.sourceNormalizers,H=0;H<y.length;H++)y[H](c)}
function ua(c,y){return c&&y&&na(c)==na(y)}function na(c){return(typeof c=="object"?c.events||c.url:"")||c}var Z=this;Z.isFetchNeeded=e;Z.fetchEvents=d;Z.addEventSource=l;Z.removeEventSource=t;Z.updateEvent=x;Z.renderEvent=S;Z.removeEvents=V;Z.clientEvents=E;Z.normalizeEvent=ha;var ba=Z.trigger,ta=Z.getView,qa=Z.reportEvents,ja={events:[]},T=[ja],fa,la,pa=0,G=0,p=0,L=[];for(Z=0;Z<b.length;Z++)j(b[Z])}function gb(a,b,e){a.setFullYear(a.getFullYear()+b);e||Ka(a);return a}function hb(a,b,e){if(+a){b=
a.getMonth()+b;var d=N(a);d.setDate(1);d.setMonth(b);a.setMonth(b);for(e||Ka(a);a.getMonth()!=d.getMonth();)a.setDate(a.getDate()+(a<d?1:-1))}return a}function ea(a,b,e){if(+a){b=a.getDate()+b;var d=N(a);d.setHours(9);d.setDate(b);a.setDate(b);e||Ka(a);lb(a,d)}return a}function lb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*cc)}function xa(a,b){a.setMinutes(a.getMinutes()+b);return a}function Ka(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function N(a,
b){if(b)return Ka(new Date(+a));return new Date(+a)}function zb(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function Fa(a,b,e){for(b=b||1;!a.getDay()||e&&a.getDay()==1||!e&&a.getDay()==6;)ea(a,b);return a}function Ca(a,b){return Math.round((N(a,true)-N(b,true))/Ab)}function yb(a,b,e,d){if(b!==oa&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(e!==oa&&e!=a.getMonth()){a.setDate(1);a.setMonth(e)}d!==oa&&a.setDate(d)}function kb(a,b){if(typeof a=="object")return a;
if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*1E3);if(b===oa)b=true;return Bb(a,b)||(a?new Date(a):null)}return null}function Bb(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var e=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){e.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){e.setDate(a[5]);
b.setDate(a[5])}lb(e,b);a[7]&&e.setHours(a[7]);a[8]&&e.setMinutes(a[8]);a[10]&&e.setSeconds(a[10]);a[12]&&e.setMilliseconds(Number("0."+a[12])*1E3);lb(e,b)}else{e.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);e.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;e=new Date(+e+b*60*1E3)}}return e}function mb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=
parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],10):0)}}function Oa(a,b,e){return ib(a,null,b,e)}function ib(a,b,e,d){d=d||Ya;var h=a,f=b,l,j=e.length,t,x,S,V="";for(l=0;l<j;l++){t=e.charAt(l);if(t=="'")for(x=l+1;x<j;x++){if(e.charAt(x)=="'"){if(h){V+=x==l+1?"'":e.substring(l+1,x);l=x}break}}else if(t=="(")for(x=l+1;x<j;x++){if(e.charAt(x)==")"){l=Oa(h,e.substring(l+1,x),d);if(parseInt(l.replace(/\D/,""),10))V+=l;l=x;break}}else if(t=="[")for(x=
l+1;x<j;x++){if(e.charAt(x)=="]"){t=e.substring(l+1,x);l=Oa(h,t,d);if(l!=Oa(f,t,d))V+=l;l=x;break}}else if(t=="{"){h=b;f=a}else if(t=="}"){h=a;f=b}else{for(x=j;x>l;x--)if(S=dc[e.substring(l,x)]){if(h)V+=S(h,d);l=x-1;break}if(x==l)if(h)V+=t}}return V}function Ua(a){return a.end?ec(a.end,a.allDay):ea(N(a.start),1)}function ec(a,b){a=N(a);return b||a.getHours()||a.getMinutes()?ea(a,1):Ka(a)}function fc(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Cb(a,b){return a.end>
b.start&&a.start<b.end}function nb(a,b,e,d){var h=[],f,l=a.length,j,t,x,S,V;for(f=0;f<l;f++){j=a[f];t=j.start;x=b[f];if(x>e&&t<d){if(t<e){t=N(e);S=false}else{t=t;S=true}if(x>d){x=N(d);V=false}else{x=x;V=true}h.push({event:j,start:t,end:x,isStart:S,isEnd:V,msLength:x-t})}}return h.sort(fc)}function ob(a){var b=[],e,d=a.length,h,f,l,j;for(e=0;e<d;e++){h=a[e];for(f=0;;){l=false;if(b[f])for(j=0;j<b[f].length;j++)if(Cb(b[f][j],h)){l=true;break}if(l)f++;else break}if(b[f])b[f].push(h);else b[f]=[h]}return b}
function Db(a,b,e){a.unbind("mouseover").mouseover(function(d){for(var h=d.target,f;h!=this;){f=h;h=h.parentNode}if((h=f._fci)!==oa){f._fci=oa;f=b[h];e(f.event,f.element,f);m(d.target).trigger(d)}d.stopPropagation()})}function Va(a,b,e){for(var d=0,h;d<a.length;d++){h=m(a[d]);h.width(Math.max(0,b-pb(h,e)))}}function Eb(a,b,e){for(var d=0,h;d<a.length;d++){h=m(a[d]);h.height(Math.max(0,b-Sa(h,e)))}}function pb(a,b){return gc(a)+hc(a)+(b?ic(a):0)}function gc(a){return(parseFloat(m.curCSS(a[0],"paddingLeft",
true))||0)+(parseFloat(m.curCSS(a[0],"paddingRight",true))||0)}function ic(a){return(parseFloat(m.curCSS(a[0],"marginLeft",true))||0)+(parseFloat(m.curCSS(a[0],"marginRight",true))||0)}function hc(a){return(parseFloat(m.curCSS(a[0],"borderLeftWidth",true))||0)+(parseFloat(m.curCSS(a[0],"borderRightWidth",true))||0)}function Sa(a,b){return jc(a)+kc(a)+(b?Fb(a):0)}function jc(a){return(parseFloat(m.curCSS(a[0],"paddingTop",true))||0)+(parseFloat(m.curCSS(a[0],"paddingBottom",true))||0)}function Fb(a){return(parseFloat(m.curCSS(a[0],
"marginTop",true))||0)+(parseFloat(m.curCSS(a[0],"marginBottom",true))||0)}function kc(a){return(parseFloat(m.curCSS(a[0],"borderTopWidth",true))||0)+(parseFloat(m.curCSS(a[0],"borderBottomWidth",true))||0)}function Za(a,b){b=typeof b=="number"?b+"px":b;a.each(function(e,d){d.style.cssText+=";min-height:"+b+";_height:"+b})}function xb(){}function Gb(a,b){return a-b}function Hb(a){return Math.max.apply(Math,a)}function Pa(a){return(a<10?"0":"")+a}function jb(a,b){if(a[b]!==oa)return a[b];b=b.split(/(?=[A-Z])/);
for(var e=b.length-1,d;e>=0;e--){d=a[b[e].toLowerCase()];if(d!==oa)return d}return a[""]}function Qa(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Ib(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function qb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function ab(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}
function rb(a,b){a.each(function(e,d){d.className=d.className.replace(/^fc-\w*/,"fc-"+lc[b.getDay()])})}function Jb(a,b){var e=a.source||{},d=a.color,h=e.color,f=b("eventColor"),l=a.backgroundColor||d||e.backgroundColor||h||b("eventBackgroundColor")||f;d=a.borderColor||d||e.borderColor||h||b("eventBorderColor")||f;a=a.textColor||e.textColor||b("eventTextColor");b=[];l&&b.push("background-color:"+l);d&&b.push("border-color:"+d);a&&b.push("color:"+a);return b.join(";")}function $a(a,b,e){if(m.isFunction(a))a=
[a];if(a){var d,h;for(d=0;d<a.length;d++)h=a[d].apply(b,e)||h;return h}}function Ta(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==oa)return arguments[a]}function mc(a,b){function e(j,t){if(t){hb(j,t);j.setDate(1)}j=N(j,true);j.setDate(1);t=hb(N(j),1);var x=N(j),S=N(t),V=h("firstDay"),E=h("weekends")?0:1;if(E){Fa(x);Fa(S,-1,true)}ea(x,-((x.getDay()-Math.max(V,E)+7)%7));ea(S,(7-S.getDay()+Math.max(V,E))%7);V=Math.round((S-x)/(Ab*7));if(h("weekMode")=="fixed"){ea(S,(6-V)*7);V=6}d.title=l(j,
h("titleFormat"));d.start=j;d.end=t;d.visStart=x;d.visEnd=S;f(6,V,E?5:7,true)}var d=this;d.render=e;sb.call(d,a,b,"month");var h=d.opt,f=d.renderBasic,l=b.formatDate}function nc(a,b){function e(j,t){t&&ea(j,t*7);j=ea(N(j),-((j.getDay()-h("firstDay")+7)%7));t=ea(N(j),7);var x=N(j),S=N(t),V=h("weekends");if(!V){Fa(x);Fa(S,-1,true)}d.title=l(x,ea(N(S),-1),h("titleFormat"));d.start=j;d.end=t;d.visStart=x;d.visEnd=S;f(1,1,V?7:5,false)}var d=this;d.render=e;sb.call(d,a,b,"basicWeek");var h=d.opt,f=d.renderBasic,
l=b.formatDates}function oc(a,b){function e(j,t){if(t){ea(j,t);h("weekends")||Fa(j,t<0?-1:1)}d.title=l(j,h("titleFormat"));d.start=d.visStart=N(j,true);d.end=d.visEnd=ea(N(d.start),1);f(1,1,1,false)}var d=this;d.render=e;sb.call(d,a,b,"basicDay");var h=d.opt,f=d.renderBasic,l=b.formatDate}function sb(a,b,e){function d(v,I,Q,U){u=I;F=Q;h();(I=!B)?f(v,U):y();l(I)}function h(){if(k=L("isRTL")){C=-1;$=F-1}else{C=1;$=0}ka=L("firstDay");ia=L("weekends")?0:1;ma=L("theme")?"ui":"fc";ca=L("columnFormat")}
function f(v,I){var Q,U=ma+"-widget-header",ga=ma+"-widget-content",da;Q="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(da=0;da<F;da++)Q+="<th class='fc- "+U+"'/>";Q+="</tr></thead><tbody>";for(da=0;da<v;da++){Q+="<tr class='fc-week"+da+"'>";for(U=0;U<F;U++)Q+="<td class='fc- "+ga+" fc-day"+(da*F+U)+"'><div>"+(I?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";Q+="</tr>"}Q+="</tbody></table>";
v=m(Q).appendTo(a);K=v.find("thead");i=K.find("th");B=v.find("tbody");P=B.find("tr");D=B.find("td");A=D.filter(":first-child");n=P.eq(0).find("div.fc-day-content div");ab(K.add(K.find("tr")));ab(P);P.eq(0).addClass("fc-first");x(D);Y=m("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function l(v){var I=v||u==1,Q=p.start.getMonth(),U=Ka(new Date),ga,da,va;I&&i.each(function(wa,Ga){ga=m(Ga);da=fa(wa);ga.html(ya(da,ca));rb(ga,da)});D.each(function(wa,Ga){ga=m(Ga);da=fa(wa);da.getMonth()==
Q?ga.removeClass("fc-other-month"):ga.addClass("fc-other-month");+da==+U?ga.addClass(ma+"-state-highlight fc-today"):ga.removeClass(ma+"-state-highlight fc-today");ga.find("div.fc-day-number").text(da.getDate());I&&rb(ga,da)});P.each(function(wa,Ga){va=m(Ga);if(wa<u){va.show();wa==u-1?va.addClass("fc-last"):va.removeClass("fc-last")}else va.hide()})}function j(v){o=v;v=o-K.height();var I,Q,U;if(L("weekMode")=="variable")I=Q=Math.floor(v/(u==1?2:6));else{I=Math.floor(v/u);Q=v-I*(u-1)}A.each(function(ga,
da){if(ga<u){U=m(da);Za(U.find("> div"),(ga==u-1?Q:I)-Sa(U))}})}function t(v){W=v;M.clear();s=Math.floor(W/F);Va(i.slice(0,-1),s)}function x(v){v.click(S).mousedown(X)}function S(v){if(!L("selectable")){var I=parseInt(this.className.match(/fc\-day(\d+)/)[1]);I=fa(I);c("dayClick",this,I,true,v)}}function V(v,I,Q){Q&&r.build();Q=N(p.visStart);for(var U=ea(N(Q),F),ga=0;ga<u;ga++){var da=new Date(Math.max(Q,v)),va=new Date(Math.min(U,I));if(da<va){var wa;if(k){wa=Ca(va,Q)*C+$+1;da=Ca(da,Q)*C+$+1}else{wa=
Ca(da,Q);da=Ca(va,Q)}x(E(ga,wa,ga,da-1))}ea(Q,7);ea(U,7)}}function E(v,I,Q,U){v=r.rect(v,I,Q,U,a);return H(v,a)}function q(v){return N(v)}function aa(v,I){V(v,ea(N(I),1),true)}function ha(){R()}function ra(v,I,Q){var U=qa(v);c("dayClick",D[U.row*F+U.col],v,I,Q)}function ua(v,I){J.start(function(Q){R();Q&&E(Q.row,Q.col,Q.row,Q.col)},I)}function na(v,I,Q){var U=J.stop();R();if(U){U=ja(U);c("drop",v,U,true,I,Q)}}function Z(v){return N(v.start)}function ba(v){return M.left(v)}function ta(v){return M.right(v)}
function qa(v){return{row:Math.floor(Ca(v,p.visStart)/7),col:la(v.getDay())}}function ja(v){return T(v.row,v.col)}function T(v,I){return ea(N(p.visStart),v*7+I*C+$)}function fa(v){return T(Math.floor(v/F),v%F)}function la(v){return(v-Math.max(ka,ia)+F)%F*C+$}function pa(v){return P.eq(v)}function G(){return{left:0,right:W}}var p=this;p.renderBasic=d;p.setHeight=j;p.setWidth=t;p.renderDayOverlay=V;p.defaultSelectionEnd=q;p.renderSelection=aa;p.clearSelection=ha;p.reportDayClick=ra;p.dragStart=ua;p.dragStop=
na;p.defaultEventEnd=Z;p.getHoverListener=function(){return J};p.colContentLeft=ba;p.colContentRight=ta;p.dayOfWeekCol=la;p.dateCell=qa;p.cellDate=ja;p.cellIsAllDay=function(){return true};p.allDayRow=pa;p.allDayBounds=G;p.getRowCnt=function(){return u};p.getColCnt=function(){return F};p.getColWidth=function(){return s};p.getDaySegmentContainer=function(){return Y};Kb.call(p,a,b,e);Lb.call(p);Mb.call(p);pc.call(p);var L=p.opt,c=p.trigger,y=p.clearEvents,H=p.renderOverlay,R=p.clearOverlays,X=p.daySelectionMousedown,
ya=b.formatDate,K,i,B,P,D,A,n,Y,W,o,s,u,F,r,J,M,k,C,$,ka,ia,ma,ca;qb(a.addClass("fc-grid"));r=new Nb(function(v,I){var Q,U,ga;i.each(function(da,va){Q=m(va);U=Q.offset().left;if(da)ga[1]=U;ga=[U];I[da]=ga});ga[1]=U+Q.outerWidth();P.each(function(da,va){if(da<u){Q=m(va);U=Q.offset().top;if(da)ga[1]=U;ga=[U];v[da]=ga}});ga[1]=U+Q.outerHeight()});J=new Ob(r);M=new Pb(function(v){return n.eq(v)})}function pc(){function a(T,fa){S(T);qa(e(T),fa)}function b(){V();ra().empty()}function e(T){var fa=ba(),la=
ta(),pa=N(f.visStart);la=ea(N(pa),la);var G=m.map(T,Ua),p,L,c,y,H,R,X=[];for(p=0;p<fa;p++){L=ob(nb(T,G,pa,la));for(c=0;c<L.length;c++){y=L[c];for(H=0;H<y.length;H++){R=y[H];R.row=p;R.level=c;X.push(R)}}ea(pa,7);ea(la,7)}return X}function d(T,fa,la){t(T)&&h(T,fa);la.isEnd&&x(T)&&ja(T,fa,la);E(T,fa)}function h(T,fa){var la=ua(),pa;fa.draggable({zIndex:9,delay:50,opacity:l("dragOpacity"),revertDuration:l("dragRevertDuration"),start:function(G,p){j("eventDragStart",fa,T,G,p);aa(T,fa);la.start(function(L,
c,y,H){fa.draggable("option","revert",!L||!y&&!H);Z();if(L){pa=y*7+H*(l("isRTL")?-1:1);na(ea(N(T.start),pa),ea(Ua(T),pa))}else pa=0},G,"drag")},stop:function(G,p){la.stop();Z();j("eventDragStop",fa,T,G,p);if(pa)ha(this,T,pa,0,T.allDay,G,p);else{fa.css("filter","");q(T,fa)}}})}var f=this;f.renderEvents=a;f.compileDaySegs=e;f.clearEvents=b;f.bindDaySeg=d;Qb.call(f);var l=f.opt,j=f.trigger,t=f.isEventDraggable,x=f.isEventResizable,S=f.reportEvents,V=f.reportEventClear,E=f.eventElementHandlers,q=f.showEvents,
aa=f.hideEvents,ha=f.eventDrop,ra=f.getDaySegmentContainer,ua=f.getHoverListener,na=f.renderDayOverlay,Z=f.clearOverlays,ba=f.getRowCnt,ta=f.getColCnt,qa=f.renderDaySegs,ja=f.resizableDayEvent}function qc(a,b){function e(j,t){t&&ea(j,t*7);j=ea(N(j),-((j.getDay()-h("firstDay")+7)%7));t=ea(N(j),7);var x=N(j),S=N(t),V=h("weekends");if(!V){Fa(x);Fa(S,-1,true)}d.title=l(x,ea(N(S),-1),h("titleFormat"));d.start=j;d.end=t;d.visStart=x;d.visEnd=S;f(V?7:5)}var d=this;d.render=e;Rb.call(d,a,b,"agendaWeek");
var h=d.opt,f=d.renderAgenda,l=b.formatDates}function rc(a,b){function e(j,t){if(t){ea(j,t);h("weekends")||Fa(j,t<0?-1:1)}t=N(j,true);var x=ea(N(t),1);d.title=l(j,h("titleFormat"));d.start=d.visStart=t;d.end=d.visEnd=x;f(1)}var d=this;d.render=e;Rb.call(d,a,b,"agendaDay");var h=d.opt,f=d.renderAgenda,l=b.formatDate}function Rb(a,b,e){function d(g){Ba=g;h();u?P():f();l()}function h(){Wa=i("theme")?"ui":"fc";Sb=i("weekends")?0:1;Tb=i("firstDay");if(Ub=i("isRTL")){Ha=-1;Ia=Ba-1}else{Ha=1;Ia=0}La=mb(i("minTime"));
bb=mb(i("maxTime"));Vb=i("columnFormat")}function f(){var g=Wa+"-widget-header",O=Wa+"-widget-content",w,z,sa,za,Da,Ea=i("slotMinutes")%15==0;w="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+g+"'>&nbsp;</th>";for(z=0;z<Ba;z++)w+="<th class='fc- fc-col"+z+" "+g+"'/>";w+="<th class='fc-agenda-gutter "+g+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+g+"'>&nbsp;</th>";for(z=0;z<Ba;z++)w+="<td class='fc- fc-col"+
z+" "+O+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";w+="<td class='fc-agenda-gutter "+O+"'>&nbsp;</td></tr></tbody></table>";u=m(w).appendTo(a);F=u.find("thead");r=F.find("th").slice(1,-1);J=u.find("tbody");M=J.find("td").slice(0,-1);k=M.find("div.fc-day-content div");C=M.eq(0);$=C.find("> div");ab(F.add(F.find("tr")));ab(J.add(J.find("tr")));da=F.find("th:first");va=u.find(".fc-agenda-gutter");ka=m("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);
if(i("allDaySlot")){ia=m("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ka);w="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+g+" fc-agenda-axis'>"+i("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+g+" fc-agenda-gutter'>&nbsp;</th></tr></table>";ma=m(w).appendTo(ka);ca=ma.find("tr");E(ca.find("td"));da=da.add(ma.find("th:first"));va=va.add(ma.find("th.fc-agenda-gutter"));ka.append("<div class='fc-agenda-divider "+
g+"'><div class='fc-agenda-divider-inner'/></div>")}else ia=m([]);v=m("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ka);I=m("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(v);Q=m("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(I);w="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";sa=zb();za=xa(N(sa),bb);xa(sa,La);for(z=tb=0;sa<za;z++){Da=sa.getMinutes();w+="<tr class='fc-slot"+z+" "+
(!Da?"":"fc-minor")+"'><th class='fc-agenda-axis "+g+"'>"+(!Ea||!Da?s(sa,i("axisFormat")):"&nbsp;")+"</th><td class='"+O+"'><div style='position:relative'>&nbsp;</div></td></tr>";xa(sa,i("slotMinutes"));tb++}w+="</tbody></table>";U=m(w).appendTo(I);ga=U.find("div:first");q(U.find("td"));da=da.add(U.find("th:first"))}function l(){var g,O,w,z,sa=Ka(new Date);for(g=0;g<Ba;g++){z=qa(g);O=r.eq(g);O.html(s(z,Vb));w=M.eq(g);+z==+sa?w.addClass(Wa+"-state-highlight fc-today"):w.removeClass(Wa+"-state-highlight fc-today");
rb(O.add(w),z)}}function j(g,O){if(g===oa)g=Wb;Wb=g;ub={};var w=J.position().top,z=v.position().top;g=Math.min(g-w,U.height()+z+1);$.height(g-Sa(C));ka.css("top",w);v.height(g-z-1);Xa=ga.height()+1;O&&x()}function t(g){Ga=g;cb.clear();Ma=0;Va(da.width("").each(function(O,w){Ma=Math.max(Ma,m(w).outerWidth())}),Ma);g=v[0].clientWidth;if(vb=v.width()-g){Va(va,vb);va.show().prev().removeClass("fc-last")}else va.hide().prev().addClass("fc-last");db=Math.floor((g-Ma)/Ba);Va(r.slice(0,-1),db)}function x(){function g(){v.scrollTop(z)}
var O=zb(),w=N(O);w.setHours(i("firstHour"));var z=fa(O,w)+1;g();setTimeout(g,0)}function S(){Xb=v.scrollTop()}function V(){v.scrollTop(Xb)}function E(g){g.click(aa).mousedown(W)}function q(g){g.click(aa).mousedown(H)}function aa(g){if(!i("selectable")){var O=Math.min(Ba-1,Math.floor((g.pageX-u.offset().left-Ma)/db)),w=qa(O),z=this.parentNode.className.match(/fc-slot(\d+)/);if(z){z=parseInt(z[1])*i("slotMinutes");var sa=Math.floor(z/60);w.setHours(sa);w.setMinutes(z%60+La);B("dayClick",M[O],w,false,
g)}else B("dayClick",M[O],w,true,g)}}function ha(g,O,w){w&&Na.build();var z=N(K.visStart);if(Ub){w=Ca(O,z)*Ha+Ia+1;g=Ca(g,z)*Ha+Ia+1}else{w=Ca(g,z);g=Ca(O,z)}w=Math.max(0,w);g=Math.min(Ba,g);w<g&&E(ra(0,w,0,g-1))}function ra(g,O,w,z){g=Na.rect(g,O,w,z,ka);return D(g,ka)}function ua(g,O){for(var w=N(K.visStart),z=ea(N(w),1),sa=0;sa<Ba;sa++){var za=new Date(Math.max(w,g)),Da=new Date(Math.min(z,O));if(za<Da){var Ea=sa*Ha+Ia;Ea=Na.rect(0,Ea,0,Ea,I);za=fa(w,za);Da=fa(w,Da);Ea.top=za;Ea.height=Da-za;q(D(Ea,
I))}ea(w,1);ea(z,1)}}function na(g){return cb.left(g)}function Z(g){return cb.right(g)}function ba(g){return{row:Math.floor(Ca(g,K.visStart)/7),col:T(g.getDay())}}function ta(g){var O=qa(g.col);g=g.row;i("allDaySlot")&&g--;g>=0&&xa(O,La+g*i("slotMinutes"));return O}function qa(g){return ea(N(K.visStart),g*Ha+Ia)}function ja(g){return i("allDaySlot")&&!g.row}function T(g){return(g-Math.max(Tb,Sb)+Ba)%Ba*Ha+Ia}function fa(g,O){g=N(g,true);if(O<xa(N(g),La))return 0;if(O>=xa(N(g),bb))return U.height();
g=i("slotMinutes");O=O.getHours()*60+O.getMinutes()-La;var w=Math.floor(O/g),z=ub[w];if(z===oa)z=ub[w]=U.find("tr:eq("+w+") td div")[0].offsetTop;return Math.max(0,Math.round(z-1+Xa*(O%g/g)))}function la(){return{left:Ma,right:Ga-vb}}function pa(){return ca}function G(g){var O=N(g.start);if(g.allDay)return O;return xa(O,i("defaultEventMinutes"))}function p(g,O){if(O)return N(g);return xa(N(g),i("slotMinutes"))}function L(g,O,w){if(w)i("allDaySlot")&&ha(g,ea(N(O),1),true);else c(g,O)}function c(g,
O){var w=i("selectHelper");Na.build();if(w){var z=Ca(g,K.visStart)*Ha+Ia;if(z>=0&&z<Ba){z=Na.rect(0,z,0,z,I);var sa=fa(g,g),za=fa(g,O);if(za>sa){z.top=sa;z.height=za-sa;z.left+=2;z.width-=5;if(m.isFunction(w)){if(g=w(g,O)){z.position="absolute";z.zIndex=8;wa=m(g).css(z).appendTo(I)}}else{z.isStart=true;z.isEnd=true;wa=m(o({title:"",start:g,end:O,className:["fc-select-helper"],editable:false},z));wa.css("opacity",i("dragOpacity"))}if(wa){q(wa);I.append(wa);Va(wa,z.width,true);Eb(wa,z.height,true)}}}}else ua(g,
O)}function y(){A();if(wa){wa.remove();wa=null}}function H(g){if(g.which==1&&i("selectable")){Y(g);var O;Ra.start(function(w,z){y();if(w&&w.col==z.col&&!ja(w)){z=ta(z);w=ta(w);O=[z,xa(N(z),i("slotMinutes")),w,xa(N(w),i("slotMinutes"))].sort(Gb);c(O[0],O[3])}else O=null},g);m(document).one("mouseup",function(w){Ra.stop();if(O){+O[0]==+O[1]&&R(O[0],false,w);n(O[0],O[3],false,w)}})}}function R(g,O,w){B("dayClick",M[T(g.getDay())],g,O,w)}function X(g,O){Ra.start(function(w){A();if(w)if(ja(w))ra(w.row,
w.col,w.row,w.col);else{w=ta(w);var z=xa(N(w),i("defaultEventMinutes"));ua(w,z)}},O)}function ya(g,O,w){var z=Ra.stop();A();z&&B("drop",g,ta(z),ja(z),O,w)}var K=this;K.renderAgenda=d;K.setWidth=t;K.setHeight=j;K.beforeHide=S;K.afterShow=V;K.defaultEventEnd=G;K.timePosition=fa;K.dayOfWeekCol=T;K.dateCell=ba;K.cellDate=ta;K.cellIsAllDay=ja;K.allDayRow=pa;K.allDayBounds=la;K.getHoverListener=function(){return Ra};K.colContentLeft=na;K.colContentRight=Z;K.getDaySegmentContainer=function(){return ia};
K.getSlotSegmentContainer=function(){return Q};K.getMinMinute=function(){return La};K.getMaxMinute=function(){return bb};K.getBodyContent=function(){return I};K.getRowCnt=function(){return 1};K.getColCnt=function(){return Ba};K.getColWidth=function(){return db};K.getSlotHeight=function(){return Xa};K.defaultSelectionEnd=p;K.renderDayOverlay=ha;K.renderSelection=L;K.clearSelection=y;K.reportDayClick=R;K.dragStart=X;K.dragStop=ya;Kb.call(K,a,b,e);Lb.call(K);Mb.call(K);sc.call(K);var i=K.opt,B=K.trigger,
P=K.clearEvents,D=K.renderOverlay,A=K.clearOverlays,n=K.reportSelection,Y=K.unselect,W=K.daySelectionMousedown,o=K.slotSegHtml,s=b.formatDate,u,F,r,J,M,k,C,$,ka,ia,ma,ca,v,I,Q,U,ga,da,va,wa,Ga,Wb,Ma,db,vb,Xa,Xb,Ba,tb,Na,Ra,cb,ub={},Wa,Tb,Sb,Ub,Ha,Ia,La,bb,Vb;qb(a.addClass("fc-agenda"));Na=new Nb(function(g,O){function w(eb){return Math.max(Ea,Math.min(tc,eb))}var z,sa,za;r.each(function(eb,uc){z=m(uc);sa=z.offset().left;if(eb)za[1]=sa;za=[sa];O[eb]=za});za[1]=sa+z.outerWidth();if(i("allDaySlot")){z=
ca;sa=z.offset().top;g[0]=[sa,sa+z.outerHeight()]}for(var Da=I.offset().top,Ea=v.offset().top,tc=Ea+v.outerHeight(),fb=0;fb<tb;fb++)g.push([w(Da+Xa*fb),w(Da+Xa*(fb+1))])});Ra=new Ob(Na);cb=new Pb(function(g){return k.eq(g)})}function sc(){function a(o,s){na(o);var u,F=o.length,r=[],J=[];for(u=0;u<F;u++)o[u].allDay?r.push(o[u]):J.push(o[u]);if(q("allDaySlot")){L(e(r),s);ta()}f(d(J),s)}function b(){Z();qa().empty();ja().empty()}function e(o){o=ob(nb(o,m.map(o,Ua),E.visStart,E.visEnd));var s,u=o.length,
F,r,J,M=[];for(s=0;s<u;s++){F=o[s];for(r=0;r<F.length;r++){J=F[r];J.row=0;J.level=s;M.push(J)}}return M}function d(o){var s=y(),u=la(),F=fa(),r=xa(N(E.visStart),u),J=m.map(o,h),M,k,C,$,ka,ia,ma=[];for(M=0;M<s;M++){k=ob(nb(o,J,r,xa(N(r),F-u)));vc(k);for(C=0;C<k.length;C++){$=k[C];for(ka=0;ka<$.length;ka++){ia=$[ka];ia.col=M;ia.level=C;ma.push(ia)}}ea(r,1,true)}return ma}function h(o){return o.end?N(o.end):xa(N(o.start),q("defaultEventMinutes"))}function f(o,s){var u,F=o.length,r,J,M,k,C,$,ka,ia,ma,
ca="",v,I,Q={},U={},ga=ja(),da;u=y();if(v=q("isRTL")){I=-1;da=u-1}else{I=1;da=0}for(u=0;u<F;u++){r=o[u];J=r.event;M=pa(r.start,r.start);k=pa(r.start,r.end);C=r.col;$=r.level;ka=r.forward||0;ia=G(C*I+da);ma=p(C*I+da)-ia;ma=Math.min(ma-6,ma*0.95);C=$?ma/($+ka+1):ka?(ma/(ka+1)-6)*2:ma;$=ia+ma/($+ka+1)*$*I+(v?ma-C:0);r.top=M;r.left=$;r.outerWidth=C;r.outerHeight=k-M;ca+=l(J,r)}ga[0].innerHTML=ca;v=ga.children();for(u=0;u<F;u++){r=o[u];J=r.event;ca=m(v[u]);I=aa("eventRender",J,J,ca);if(I===false)ca.remove();
else{if(I&&I!==true){ca.remove();ca=m(I).css({position:"absolute",top:r.top,left:r.left}).appendTo(ga)}r.element=ca;if(J._id===s)t(J,ca,r);else ca[0]._fci=u;ya(J,ca)}}Db(ga,o,t);for(u=0;u<F;u++){r=o[u];if(ca=r.element){J=Q[s=r.key=Ib(ca[0])];r.vsides=J===oa?(Q[s]=Sa(ca,true)):J;J=U[s];r.hsides=J===oa?(U[s]=pb(ca,true)):J;s=ca.find("div.fc-event-content");if(s.length)r.contentTop=s[0].offsetTop}}for(u=0;u<F;u++){r=o[u];if(ca=r.element){ca[0].style.width=Math.max(0,r.outerWidth-r.hsides)+"px";Q=Math.max(0,
r.outerHeight-r.vsides);ca[0].style.height=Q+"px";J=r.event;if(r.contentTop!==oa&&Q-r.contentTop<10){ca.find("div.fc-event-time").text(Y(J.start,q("timeFormat"))+" - "+J.title);ca.find("div.fc-event-title").remove()}aa("eventAfterRender",J,J,ca)}}}function l(o,s){var u="<",F=o.url,r=Jb(o,q),J=r?" style='"+r+"'":"",M=["fc-event","fc-event-skin","fc-event-vert"];ha(o)&&M.push("fc-event-draggable");s.isStart&&M.push("fc-corner-top");s.isEnd&&M.push("fc-corner-bottom");M=M.concat(o.className);if(o.source)M=
M.concat(o.source.className||[]);u+=F?"a href='"+Qa(o.url)+"'":"div";u+=" class='"+M.join(" ")+"' style='position:absolute;z-index:8;top:"+s.top+"px;left:"+s.left+"px;"+r+"'><div class='fc-event-inner fc-event-skin'"+J+"><div class='fc-event-head fc-event-skin'"+J+"><div class='fc-event-time'>"+Qa(W(o.start,o.end,q("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Qa(o.title)+"</div></div><div class='fc-event-bg'></div></div>";if(s.isEnd&&ra(o))u+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";
u+="</"+(F?"a":"div")+">";return u}function j(o,s,u){ha(o)&&x(o,s,u.isStart);u.isEnd&&ra(o)&&c(o,s,u);ba(o,s)}function t(o,s,u){var F=s.find("div.fc-event-time");ha(o)&&S(o,s,F);u.isEnd&&ra(o)&&V(o,s,F);ba(o,s)}function x(o,s,u){function F(){if(!M){s.width(r).height("").draggable("option","grid",null);M=true}}var r,J,M=true,k,C=q("isRTL")?-1:1,$=T(),ka=H(),ia=R(),ma=la();s.draggable({zIndex:9,opacity:q("dragOpacity","month"),revertDuration:q("dragRevertDuration"),start:function(ca,v){aa("eventDragStart",
s,o,ca,v);i(o,s);r=s.width();$.start(function(I,Q,U,ga){A();if(I){J=false;k=ga*C;if(I.row)if(u){if(M){s.width(ka-10);Eb(s,ia*Math.round((o.end?(o.end-o.start)/wc:q("defaultEventMinutes"))/q("slotMinutes")));s.draggable("option","grid",[ka,1]);M=false}}else J=true;else{D(ea(N(o.start),k),ea(Ua(o),k));F()}J=J||M&&!k}else{F();J=true}s.draggable("option","revert",J)},ca,"drag")},stop:function(ca,v){$.stop();A();aa("eventDragStop",s,o,ca,v);if(J){F();s.css("filter","");K(o,s)}else{var I=0;M||(I=Math.round((s.offset().top-
X().offset().top)/ia)*q("slotMinutes")+ma-(o.start.getHours()*60+o.start.getMinutes()));B(this,o,k,I,M,ca,v)}}})}function S(o,s,u){function F(I){var Q=xa(N(o.start),I),U;if(o.end)U=xa(N(o.end),I);u.text(W(Q,U,q("timeFormat")))}function r(){if(M){u.css("display","");s.draggable("option","grid",[ca,v]);M=false}}var J,M=false,k,C,$,ka=q("isRTL")?-1:1,ia=T(),ma=y(),ca=H(),v=R();s.draggable({zIndex:9,scroll:false,grid:[ca,v],axis:ma==1?"y":false,opacity:q("dragOpacity"),revertDuration:q("dragRevertDuration"),
start:function(I,Q){aa("eventDragStart",s,o,I,Q);i(o,s);J=s.position();C=$=0;ia.start(function(U,ga,da,va){s.draggable("option","revert",!U);A();if(U){k=va*ka;if(q("allDaySlot")&&!U.row){if(!M){M=true;u.hide();s.draggable("option","grid",null)}D(ea(N(o.start),k),ea(Ua(o),k))}else r()}},I,"drag")},drag:function(I,Q){C=Math.round((Q.position.top-J.top)/v)*q("slotMinutes");if(C!=$){M||F(C);$=C}},stop:function(I,Q){var U=ia.stop();A();aa("eventDragStop",s,o,I,Q);if(U&&(k||C||M))B(this,o,k,M?0:C,M,I,Q);
else{r();s.css("filter","");s.css(J);F(0);K(o,s)}}})}function V(o,s,u){var F,r,J=R();s.resizable({handles:{s:"div.ui-resizable-s"},grid:J,start:function(M,k){F=r=0;i(o,s);s.css("z-index",9);aa("eventResizeStart",this,o,M,k)},resize:function(M,k){F=Math.round((Math.max(J,s.height())-k.originalSize.height)/J);if(F!=r){u.text(W(o.start,!F&&!o.end?null:xa(ua(o),q("slotMinutes")*F),q("timeFormat")));r=F}},stop:function(M,k){aa("eventResizeStop",this,o,M,k);if(F)P(this,o,0,q("slotMinutes")*F,M,k);else{s.css("z-index",
8);K(o,s)}}})}var E=this;E.renderEvents=a;E.compileDaySegs=e;E.clearEvents=b;E.slotSegHtml=l;E.bindDaySeg=j;Qb.call(E);var q=E.opt,aa=E.trigger,ha=E.isEventDraggable,ra=E.isEventResizable,ua=E.eventEnd,na=E.reportEvents,Z=E.reportEventClear,ba=E.eventElementHandlers,ta=E.setHeight,qa=E.getDaySegmentContainer,ja=E.getSlotSegmentContainer,T=E.getHoverListener,fa=E.getMaxMinute,la=E.getMinMinute,pa=E.timePosition,G=E.colContentLeft,p=E.colContentRight,L=E.renderDaySegs,c=E.resizableDayEvent,y=E.getColCnt,
H=E.getColWidth,R=E.getSlotHeight,X=E.getBodyContent,ya=E.reportEventElement,K=E.showEvents,i=E.hideEvents,B=E.eventDrop,P=E.eventResize,D=E.renderDayOverlay,A=E.clearOverlays,n=E.calendar,Y=n.formatDate,W=n.formatDates}function vc(a){var b,e,d,h,f,l;for(b=a.length-1;b>0;b--){h=a[b];for(e=0;e<h.length;e++){f=h[e];for(d=0;d<a[b-1].length;d++){l=a[b-1][d];if(Cb(f,l))l.forward=Math.max(l.forward||0,(f.forward||0)+1)}}}}function Kb(a,b,e){function d(G,p){G=pa[G];if(typeof G=="object")return jb(G,p||e);
return G}function h(G,p){return b.trigger.apply(b,[G,p||ba].concat(Array.prototype.slice.call(arguments,2),[ba]))}function f(G){return j(G)&&!d("disableDragging")}function l(G){return j(G)&&!d("disableResizing")}function j(G){return Ta(G.editable,(G.source||{}).editable,d("editable"))}function t(G){T={};var p,L=G.length,c;for(p=0;p<L;p++){c=G[p];if(T[c._id])T[c._id].push(c);else T[c._id]=[c]}}function x(G){return G.end?N(G.end):ta(G)}function S(G,p){fa.push(p);if(la[G._id])la[G._id].push(p);else la[G._id]=
[p]}function V(){fa=[];la={}}function E(G,p){p.click(function(L){if(!p.hasClass("ui-draggable-dragging")&&!p.hasClass("ui-resizable-resizing"))return h("eventClick",this,G,L)}).hover(function(L){h("eventMouseover",this,G,L)},function(L){h("eventMouseout",this,G,L)})}function q(G,p){ha(G,p,"show")}function aa(G,p){ha(G,p,"hide")}function ha(G,p,L){G=la[G._id];var c,y=G.length;for(c=0;c<y;c++)if(!p||G[c][0]!=p[0])G[c][L]()}function ra(G,p,L,c,y,H,R){var X=p.allDay,ya=p._id;na(T[ya],L,c,y);h("eventDrop",
G,p,L,c,y,function(){na(T[ya],-L,-c,X);ja(ya)},H,R);ja(ya)}function ua(G,p,L,c,y,H){var R=p._id;Z(T[R],L,c);h("eventResize",G,p,L,c,function(){Z(T[R],-L,-c);ja(R)},y,H);ja(R)}function na(G,p,L,c){L=L||0;for(var y,H=G.length,R=0;R<H;R++){y=G[R];if(c!==oa)y.allDay=c;xa(ea(y.start,p,true),L);if(y.end)y.end=xa(ea(y.end,p,true),L);qa(y,pa)}}function Z(G,p,L){L=L||0;for(var c,y=G.length,H=0;H<y;H++){c=G[H];c.end=xa(ea(x(c),p,true),L);qa(c,pa)}}var ba=this;ba.element=a;ba.calendar=b;ba.name=e;ba.opt=d;ba.trigger=
h;ba.isEventDraggable=f;ba.isEventResizable=l;ba.reportEvents=t;ba.eventEnd=x;ba.reportEventElement=S;ba.reportEventClear=V;ba.eventElementHandlers=E;ba.showEvents=q;ba.hideEvents=aa;ba.eventDrop=ra;ba.eventResize=ua;var ta=ba.defaultEventEnd,qa=b.normalizeEvent,ja=b.reportEventChange,T={},fa=[],la={},pa=b.options}function Qb(){function a(i,B){var P=y(),D=ja(),A=T(),n=0,Y,W,o=i.length,s,u;P[0].innerHTML=e(i);d(i,P.children());h(i);f(i,P,B);l(i);j(i);t(i);B=x();for(P=0;P<D;P++){Y=[];for(W=0;W<A;W++)Y[W]=
0;for(;n<o&&(s=i[n]).row==P;){W=Hb(Y.slice(s.startCol,s.endCol));s.top=W;W+=s.outerHeight;for(u=s.startCol;u<s.endCol;u++)Y[u]=W;n++}B[P].height(Hb(Y))}V(i,S(B))}function b(i,B,P){var D=m("<div/>"),A=y(),n=i.length,Y;D[0].innerHTML=e(i);D=D.children();A.append(D);d(i,D);l(i);j(i);t(i);V(i,S(x()));D=[];for(A=0;A<n;A++)if(Y=i[A].element){i[A].row===B&&Y.css("top",P);D.push(Y[0])}return m(D)}function e(i){var B=aa("isRTL"),P,D=i.length,A,n,Y,W;P=la();var o=P.left,s=P.right,u,F,r,J,M,k="";for(P=0;P<D;P++){A=
i[P];n=A.event;W=["fc-event","fc-event-skin","fc-event-hori"];ra(n)&&W.push("fc-event-draggable");if(B){A.isStart&&W.push("fc-corner-right");A.isEnd&&W.push("fc-corner-left");u=p(A.end.getDay()-1);F=p(A.start.getDay());r=A.isEnd?pa(u):o;J=A.isStart?G(F):s}else{A.isStart&&W.push("fc-corner-left");A.isEnd&&W.push("fc-corner-right");u=p(A.start.getDay());F=p(A.end.getDay()-1);r=A.isStart?pa(u):o;J=A.isEnd?G(F):s}W=W.concat(n.className);if(n.source)W=W.concat(n.source.className||[]);Y=n.url;M=Jb(n,aa);
k+=Y?"<a href='"+Qa(Y)+"'":"<div";k+=" class='"+W.join(" ")+"' style='position:absolute;z-index:8;left:"+r+"px;"+M+"'><div class='fc-event-inner fc-event-skin'"+(M?" style='"+M+"'":"")+">";if(!n.allDay&&A.isStart)k+="<span class='fc-event-time'>"+Qa(R(n.start,n.end,aa("timeFormat")))+"</span>";k+="<span class='fc-event-title'>"+Qa(n.title)+"</span></div>";if(A.isEnd&&ua(n))k+="<div class='ui-resizable-handle ui-resizable-"+(B?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";k+="</"+(Y?"a":"div")+">";A.left=
r;A.outerWidth=J-r;A.startCol=u;A.endCol=F+1}return k}function d(i,B){var P,D=i.length,A,n,Y;for(P=0;P<D;P++){A=i[P];n=A.event;Y=m(B[P]);n=ha("eventRender",n,n,Y);if(n===false)Y.remove();else{if(n&&n!==true){n=m(n).css({position:"absolute",left:A.left});Y.replaceWith(n);Y=n}A.element=Y}}}function h(i){var B,P=i.length,D,A;for(B=0;B<P;B++){D=i[B];(A=D.element)&&Z(D.event,A)}}function f(i,B,P){var D,A=i.length,n,Y,W;for(D=0;D<A;D++){n=i[D];if(Y=n.element){W=n.event;if(W._id===P)H(W,Y,n);else Y[0]._fci=
D}}Db(B,i,H)}function l(i){var B,P=i.length,D,A,n,Y,W={};for(B=0;B<P;B++){D=i[B];if(A=D.element){n=D.key=Ib(A[0]);Y=W[n];if(Y===oa)Y=W[n]=pb(A,true);D.hsides=Y}}}function j(i){var B,P=i.length,D,A;for(B=0;B<P;B++){D=i[B];if(A=D.element)A[0].style.width=Math.max(0,D.outerWidth-D.hsides)+"px"}}function t(i){var B,P=i.length,D,A,n,Y,W={};for(B=0;B<P;B++){D=i[B];if(A=D.element){n=D.key;Y=W[n];if(Y===oa)Y=W[n]=Fb(A);D.outerHeight=A[0].offsetHeight+Y}}}function x(){var i,B=ja(),P=[];for(i=0;i<B;i++)P[i]=
fa(i).find("td:first div.fc-day-content > div");return P}function S(i){var B,P=i.length,D=[];for(B=0;B<P;B++)D[B]=i[B][0].offsetTop;return D}function V(i,B){var P,D=i.length,A,n;for(P=0;P<D;P++){A=i[P];if(n=A.element){n[0].style.top=B[A.row]+(A.top||0)+"px";A=A.event;ha("eventAfterRender",A,A,n)}}}function E(i,B,P){var D=aa("isRTL"),A=D?"w":"e",n=B.find("div.ui-resizable-"+A),Y=false;qb(B);B.mousedown(function(W){W.preventDefault()}).click(function(W){if(Y){W.preventDefault();W.stopImmediatePropagation()}});
n.mousedown(function(W){function o(ia){ha("eventResizeStop",this,i,ia);m("body").css("cursor","");s.stop();ya();k&&qa(this,i,k,0,ia);setTimeout(function(){Y=false},0)}if(W.which==1){Y=true;var s=q.getHoverListener(),u=ja(),F=T(),r=D?-1:1,J=D?F-1:0,M=B.css("top"),k,C,$=m.extend({},i),ka=L(i.start);K();m("body").css("cursor",A+"-resize").one("mouseup",o);ha("eventResizeStart",this,i,W);s.start(function(ia,ma){if(ia){var ca=Math.max(ka.row,ia.row);ia=ia.col;if(u==1)ca=0;if(ca==ka.row)ia=D?Math.min(ka.col,
ia):Math.max(ka.col,ia);k=ca*7+ia*r+J-(ma.row*7+ma.col*r+J);ma=ea(na(i),k,true);if(k){$.end=ma;ca=C;C=b(c([$]),P.row,M);C.find("*").css("cursor",A+"-resize");ca&&ca.remove();ta(i)}else if(C){ba(i);C.remove();C=null}ya();X(i.start,ea(N(ma),1))}},W)}})}var q=this;q.renderDaySegs=a;q.resizableDayEvent=E;var aa=q.opt,ha=q.trigger,ra=q.isEventDraggable,ua=q.isEventResizable,na=q.eventEnd,Z=q.reportEventElement,ba=q.showEvents,ta=q.hideEvents,qa=q.eventResize,ja=q.getRowCnt,T=q.getColCnt,fa=q.allDayRow,
la=q.allDayBounds,pa=q.colContentLeft,G=q.colContentRight,p=q.dayOfWeekCol,L=q.dateCell,c=q.compileDaySegs,y=q.getDaySegmentContainer,H=q.bindDaySeg,R=q.calendar.formatDates,X=q.renderDayOverlay,ya=q.clearOverlays,K=q.clearSelection}function Mb(){function a(){return E}function b(q,aa,ha){e();aa||(aa=t(q,ha));x(q,aa,ha);d(q,aa,ha)}function e(q){if(V){V=false;E={};S();j("unselect",null,q)}}function d(q,aa,ha,ra){V=true;E={start:q,endDate:aa,allDay:ha,ev:ra};j("select",null,q,aa,ha,ra)}function h(q){var aa=
f.cellDate,ha=f.cellIsAllDay,ra=f.getHoverListener(),ua=f.reportDayClick;if(q.which==1&&l("selectable")){e(q);var na;ra.start(function(Z,ba){S();if(Z&&ha(Z)){na=[aa(ba),aa(Z)].sort(Gb);x(na[0],na[1],true)}else na=null},q);m(document).one("mouseup",function(Z){ra.stop();if(na){+na[0]==+na[1]&&ua(na[0],true,Z);d(na[0],na[1],true,Z)}})}}var f=this;f.select=b;f.unselect=e;f.reportSelection=d;f.daySelectionMousedown=h;f.getSelected=a;var l=f.opt,j=f.trigger,t=f.defaultSelectionEnd,x=f.renderSelection,
S=f.clearSelection,V=false,E={};l("selectable")&&l("unselectAuto")&&m(document).mousedown(function(q){var aa=l("unselectCancel");if(aa)if(m(q.target).parents(aa).length)return;e(q)})}function Lb(){function a(f,l){var j=h.shift();j||(j=m("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));j[0].parentNode!=l[0]&&j.appendTo(l);d.push(j.css(f).show());return j}function b(){for(var f;f=d.shift();)h.push(f.hide().unbind())}var e=this;e.renderOverlay=a;e.clearOverlays=b;var d=[],h=[]}
function Nb(a){var b=this,e,d;b.build=function(){e=[];d=[];a(e,d)};b.cell=function(h,f){var l=e.length,j=d.length,t,x=-1,S=-1;for(t=0;t<l;t++)if(f>=e[t][0]&&f<e[t][1]){x=t;break}for(t=0;t<j;t++)if(h>=d[t][0]&&h<d[t][1]){S=t;break}return x>=0&&S>=0?{row:x,col:S}:null};b.rect=function(h,f,l,j,t){t=t.offset();return{top:e[h][0]-t.top,left:d[f][0]-t.left,width:d[j][1]-d[f][0],height:e[l][1]-e[h][0]}}}function Ob(a){function b(j){xc(j);j=a.cell(j.pageX,j.pageY);if(!j!=!l||j&&(j.row!=l.row||j.col!=l.col)){if(j){f||
(f=j);h(j,f,j.row-f.row,j.col-f.col)}else h(j,f);l=j}}var e=this,d,h,f,l;e.start=function(j,t,x){h=j;f=l=null;a.build();b(t);d=x||"mousemove";m(document).bind(d,b)};e.stop=function(){m(document).unbind(d,b);return l}}function xc(a){if(a.pageX===oa){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Pb(a){function b(l){return d[l]=d[l]||a(l)}var e=this,d={},h={},f={};e.left=function(l){return h[l]=h[l]===oa?b(l).position().left:h[l]};e.right=function(l){return f[l]=f[l]===oa?e.left(l)+
b(l).width():f[l]};e.clear=function(){d={};h={};f={}}}var Ya={EventConfig:{aedurl:null},customButtons:{},defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,
monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",
week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},yc={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Aa=m.fullCalendar={version:"1.5.3"},Ja=Aa.views={};m.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,
1),e;this.each(function(){var h=m.data(this,"fullCalendar");if(h&&m.isFunction(h[a])){h=h[a].apply(h,b);if(e===oa)e=h;a=="destroy"&&m.removeData(this,"fullCalendar")}});if(e!==oa)return e;return this}var d=a.eventSources||[];delete a.eventSources;if(a.events){d.push(a.events);delete a.events}a=m.extend(true,{},Ya,a.isRTL||a.isRTL===oa&&Ya.isRTL?yc:{},a);this.each(function(h,f){h=m(f);f=new Yb(h,a,d);h.data("fullCalendar",f);f.render()});return this};Aa.sourceNormalizers=[];Aa.sourceFetchers=[];var ac=
{dataType:"json",cache:false},bc=1;Aa.addDays=ea;Aa.cloneDate=N;Aa.parseDate=kb;Aa.parseISO8601=Bb;Aa.parseTime=mb;Aa.formatDate=Oa;Aa.formatDates=ib;var lc=["sun","mon","tue","wed","thu","fri","sat"],Ab=864E5,cc=36E5,wc=6E4,dc={s:function(a){return a.getSeconds()},ss:function(a){return Pa(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Pa(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Pa(a.getHours()%12||12)},H:function(a){return a.getHours()},
HH:function(a){return Pa(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Pa(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Pa(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},
t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Oa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};Aa.applyAll=$a;Ja.month=mc;Ja.basicWeek=nc;Ja.basicDay=oc;wb({weekMode:"fixed"});Ja.agendaWeek=qc;Ja.agendaDay=rc;wb({allDaySlot:true,allDayText:"all-day",firstHour:6,
slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24})})(jQuery);
