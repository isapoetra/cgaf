/*

 FullCalendar v1.5.3
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Mon Mar 26 20:29:25 2012 +0700

*/
(function(m,oa){function wb(a){m.extend(true,Ya,a)}function Yb(a,b,e){function d(k){if(E){t();y();ta();S(k)}else f()}function f(){B=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");E=m("<div class='fc-content' style='position:relative'/>").prependTo(a);C=new Zb(X,b);(P=C.render())&&a.prepend(P);x(b.defaultView);m(window).resize(ma);s()||g()}function g(){setTimeout(function(){!n.start&&s()&&S()},0)}function l(){m(window).unbind("resize",ma);C.destroy();
E.remove();a.removeClass("fc fc-rtl ui-widget")}function j(){return i.offsetWidth!==0}function s(){return m("body")[0].offsetWidth!==0}function x(k){if(!n||k!=n.name){F++;ia();var D=n,Z;if(D){(D.beforeHide||xb)();Za(E,E.height());D.element.hide()}else Za(E,1);E.css("overflow","hidden");if(n=Y[k])n.element.show();else n=Y[k]=new Ja[k](Z=r=m("<div class='fc-view fc-view-"+k+"' style='position:absolute'/>").appendTo(E),X);D&&C.deactivateButton(D.name);this.trigger&&this.trigger("viewChanged",k,D);C.activateButton(k);
S();E.css("overflow","");D&&Za(E,1);Z||(n.afterShow||xb)();F--}}function S(k){if(j()){F++;ia();o===oa&&t();var D=false;if(!n.start||k||q<n.start||q>=n.end){n.render(q,k||0);ga(true);D=true}else if(n.sizeDirty){n.clearEvents();ga();D=true}else if(n.eventsDirty){n.clearEvents();D=true}n.sizeDirty=false;n.eventsDirty=false;na(D);W=a.outerWidth();C.updateTitle(n.title);k=new Date;k>=n.start&&k<n.end?C.disableButton("today"):C.enableButton("today");F--;n.trigger("viewDisplay",i)}}function Q(){y();if(j()){t();
ga();ia();n.clearEvents();n.renderEvents(J);n.sizeDirty=false}}function y(){m.each(Y,function(k,D){D.sizeDirty=true})}function t(){o=b.contentHeight?b.contentHeight:b.height?b.height-(P?P.height():0)-Sa(E):Math.round(E.width()/Math.max(b.aspectRatio,0.5))}function ga(k){F++;n.setHeight(o,k);if(r){r.css("position","relative");r=null}n.setWidth(E.width(),k);F--}function ma(){if(!F)if(n.start){var k=++u;setTimeout(function(){if(k==u&&!F&&j())if(W!=(W=a.outerWidth())){F++;Q();n.trigger("windowResize",
i);F--}},200)}else g()}function na(k){if(!b.lazyFetching||ya(n.visStart,n.visEnd))qa();else k&&ca()}function qa(){K(n.visStart,n.visEnd)}function ua(k){J=k;ca()}function da(k){ca(k)}function ca(k){ta();if(j()){n.clearEvents();n.renderEvents(J,k);n.eventsDirty=false}}function ta(){m.each(Y,function(k,D){D.eventsDirty=true})}function ra(k,D,Z){n.select(k,D,Z===oa?true:Z)}function ia(){n&&n.unselect()}function U(){S(-1)}function ea(){S(1)}function ka(){gb(q,-1);S()}function pa(){gb(q,1);S()}function G(){q=
new Date;S()}function p(k,D,Z){if(k instanceof Date)q=N(k);else yb(q,k,D,Z);S()}function L(k,D,Z){k!==oa&&gb(q,k);D!==oa&&hb(q,D);Z!==oa&&ba(q,Z);S()}function c(){return N(q)}function z(){return n}function H(k,D){if(D===oa)return b[k];if(k=="height"||k=="contentHeight"||k=="aspectRatio"){b[k]=D;Q()}}function T(k,D){if(b[k])return b[k].apply(D||i,Array.prototype.slice.call(arguments,2))}var X=this;X.options=b;X.render=d;X.destroy=l;X.refetchEvents=qa;X.reportEvents=ua;X.reportEventChange=da;X.rerenderEvents=
ca;X.changeView=x;X.select=ra;X.unselect=ia;X.prev=U;X.next=ea;X.prevYear=ka;X.nextYear=pa;X.today=G;X.gotoDate=p;X.incrementDate=L;X.formatDate=function(k,D){return Oa(k,D,b)};X.formatDates=function(k,D,Z){return ib(k,D,Z,b)};X.getDate=c;X.getView=z;X.option=H;X.trigger=T;$b.call(X,b,e);var ya=X.isFetchNeeded,K=X.fetchEvents,i=a[0],C,P,E,B,n,Y={},W,o,r,u=0,F=0,q=new Date,J=[],M;yb(q,b.year,b.month,b.date);b.droppable&&m(document).bind("dragstart",function(k,D){var Z=k.target,ja=m(Z);if(!ja.parents(".fc").length){var ha=
b.dropAccept;if(m.isFunction(ha)?ha.call(Z,ja):ja.is(ha)){M=Z;n.dragStart(M,k,D)}}}).bind("dragstop",function(k,D){if(M){n.dragStop(M,k,D);M=null}})}function Zb(a,b){function e(){y=b.theme?"ui":"fc";if(b.header)return Q=m("<table class='fc-header' style='width:100%'/>").append(m("<tr/>").append(f("left")).append(f("center")).append(f("right")))}function d(){Q.remove()}function f(t){var ga=m('<td class="'+t+'"></td>'),ma=b.header[t];ma&&m.each(ma.split(" "),function(){var na,qa=m('<div class="btn-group"  data-toggle="'+
(t==="right"?"buttons-radio":"")+'"></div>').appendTo(ga);m.each(this.split(","),function(ua,da){ua=["btn","btn-primary"];if(da=="title"){qa.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");na=null}else{var ca,ta;if(a[da])ca=a[da];else if(Ja[da]){ca=function(){ia.removeClass(y+"-state-hover");a.changeView(da)};da===b.defaultView&&ua.push("active")}else if(b.customButtons[da]){var ra=b.customButtons[da];ca=function(){ra.onClick&&ra.onClick.call(a)};if(ra.title)ta=ra.title}if(ca){b.theme&&
jb(b.buttonIcons,da);ta=ta||jb(b.buttonText,da);var ia=m('<button class="'+ua.join(" ")+" fc-button fc-button-"+da+'"><span>'+ta+"</span></button>");if(ia){ia.click(function(){ia.hasClass(y+"-state-disabled")||ca()}).appendTo(qa);na=ia}}}});qa.button()});return ga}function g(t){Q.find("h2").html(t)}function l(t){Q.find(".fc-button-"+t).addClass("active")}function j(t){Q.find(".fc-button-"+t).removeClass("active")}function s(t){Q.find(".fc-button-"+t).addClass("disabled")}function x(t){Q.find(".fc-button-"+
t).removeClass("disabled")}var S=this;S.render=e;S.destroy=d;S.updateTitle=g;S.activateButton=l;S.deactivateButton=j;S.disableButton=s;S.enableButton=x;var Q=m([]),y}function $b(a,b){function e(c,z){return!ea||c<ea||z>ka}function d(c,z){ea=c;ka=z;L=[];c=++pa;G=z=U.length;for(var H=0;H<z;H++)f(U[H],c)}function f(c,z){g(c,function(H){if(z==pa){if(H){for(var T=0;T<H.length;T++){H[T].source=c;ma(H[T])}L=L.concat(H)}G--;G||ra(L)}})}function g(c,z){var H,T=Aa.sourceFetchers,X;for(H=0;H<T.length;H++){X=
T[H](c,ea,ka,z);if(X===true)return;else if(typeof X=="object"){g(X,z);return}}if(H=c.events)if(m.isFunction(H)){t();H(N(ea),N(ka),function(C){z(C);ga()})}else m.isArray(H)?z(H):z();else if(c.url){var ya=c.success,K=c.error,i=c.complete;H=m.extend({},c.data||{});T=Ta(c.startParam,a.startParam);X=Ta(c.endParam,a.endParam);if(T)H[T]=Math.round(+ea/1E3);if(X)H[X]=Math.round(+ka/1E3);t();m.ajax(m.extend({},ac,c,{data:H,success:function(C){C=C||[];var P=$a(ya,this,arguments);if(m.isArray(P))C=P;z(C)},error:function(){$a(K,
this,arguments);z()},complete:function(){$a(i,this,arguments);ga()}}))}else z()}function l(c){if(c=j(c)){G++;f(c,pa)}}function j(c){if(m.isFunction(c)||m.isArray(c))c={events:c};else if(typeof c=="string")c={url:c};if(typeof c=="object"){na(c);U.push(c);return c}}function s(c){U=m.grep(U,function(z){return!qa(z,c)});L=m.grep(L,function(z){return!qa(z.source,c)});ra(L)}function x(c){var z,H=L.length,T,X=ta().defaultEventEnd,ya=c.start-c._start,K=c.end?c.end-(c._end||X(c)):0;for(z=0;z<H;z++){T=L[z];
if(T._id==c._id&&T!=c){T.start=new Date(+T.start+ya);T.end=c.end?T.end?new Date(+T.end+K):new Date(+X(T)+K):null;T.title=c.title;T.url=c.url;T.allDay=c.allDay;T.className=c.className;T.editable=c.editable;T.color=c.color;T.backgroudColor=c.backgroudColor;T.borderColor=c.borderColor;T.textColor=c.textColor;ma(T)}}ma(c);ra(L)}function S(c,z){ma(c);if(!c.source){if(z){ia.events.push(c);c.source=ia}L.push(c)}ra(L)}function Q(c){if(c){if(!m.isFunction(c)){var z=c+"";c=function(T){return T._id==z}}L=m.grep(L,
c,true);for(H=0;H<U.length;H++)if(m.isArray(U[H].events))U[H].events=m.grep(U[H].events,c,true)}else{L=[];for(var H=0;H<U.length;H++)if(m.isArray(U[H].events))U[H].events=[]}ra(L)}function y(c){if(m.isFunction(c))return m.grep(L,c);else if(c){c+="";return m.grep(L,function(z){return z._id==c})}return L}function t(){p++||ca("loading",null,true)}function ga(){--p||ca("loading",null,false)}function ma(c){var z=c.source||{},H=Ta(z.ignoreTimezone,a.ignoreTimezone);c._id=c._id||(c.id===oa?"_fc"+bc++:c.id+
"");if(c.date){if(!c.start)c.start=c.date;delete c.date}c._start=N(c.start=kb(c.start,H));c.end=kb(c.end,H);if(c.end&&c.end<=c.start)c.end=null;c._end=c.end?N(c.end):null;if(c.allDay===oa)c.allDay=Ta(z.allDayDefault,a.allDayDefault);if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[]}function na(c){if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[];for(var z=Aa.sourceNormalizers,H=0;H<z.length;H++)z[H](c)}
function qa(c,z){return c&&z&&ua(c)==ua(z)}function ua(c){return(typeof c=="object"?c.events||c.url:"")||c}var da=this;da.isFetchNeeded=e;da.fetchEvents=d;da.addEventSource=l;da.removeEventSource=s;da.updateEvent=x;da.renderEvent=S;da.removeEvents=Q;da.clientEvents=y;da.normalizeEvent=ma;var ca=da.trigger,ta=da.getView,ra=da.reportEvents,ia={events:[]},U=[ia],ea,ka,pa=0,G=0,p=0,L=[];for(da=0;da<b.length;da++)j(b[da])}function gb(a,b,e){a.setFullYear(a.getFullYear()+b);e||Ka(a);return a}function hb(a,
b,e){if(+a){b=a.getMonth()+b;var d=N(a);d.setDate(1);d.setMonth(b);a.setMonth(b);for(e||Ka(a);a.getMonth()!=d.getMonth();)a.setDate(a.getDate()+(a<d?1:-1))}return a}function ba(a,b,e){if(+a){b=a.getDate()+b;var d=N(a);d.setHours(9);d.setDate(b);a.setDate(b);e||Ka(a);lb(a,d)}return a}function lb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*cc)}function xa(a,b){a.setMinutes(a.getMinutes()+b);return a}function Ka(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);
return a}function N(a,b){if(b)return Ka(new Date(+a));return new Date(+a)}function zb(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function Fa(a,b,e){for(b=b||1;!a.getDay()||e&&a.getDay()==1||!e&&a.getDay()==6;)ba(a,b);return a}function Ca(a,b){return Math.round((N(a,true)-N(b,true))/Ab)}function yb(a,b,e,d){if(b!==oa&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(e!==oa&&e!=a.getMonth()){a.setDate(1);a.setMonth(e)}d!==oa&&a.setDate(d)}function kb(a,b){if(typeof a==
"object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*1E3);if(b===oa)b=true;return Bb(a,b)||(a?new Date(a):null)}return null}function Bb(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var e=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){e.setMonth(a[3]-1);b.setMonth(a[3]-
1)}if(a[5]){e.setDate(a[5]);b.setDate(a[5])}lb(e,b);a[7]&&e.setHours(a[7]);a[8]&&e.setMinutes(a[8]);a[10]&&e.setSeconds(a[10]);a[12]&&e.setMilliseconds(Number("0."+a[12])*1E3);lb(e,b)}else{e.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);e.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;e=new Date(+e+b*60*1E3)}}return e}function mb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*
60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],10):0)}}function Oa(a,b,e){return ib(a,null,b,e)}function ib(a,b,e,d){d=d||Ya;var f=a,g=b,l,j=e.length,s,x,S,Q="";for(l=0;l<j;l++){s=e.charAt(l);if(s=="'")for(x=l+1;x<j;x++){if(e.charAt(x)=="'"){if(f){Q+=x==l+1?"'":e.substring(l+1,x);l=x}break}}else if(s=="(")for(x=l+1;x<j;x++){if(e.charAt(x)==")"){l=Oa(f,e.substring(l+1,x),
d);if(parseInt(l.replace(/\D/,""),10))Q+=l;l=x;break}}else if(s=="[")for(x=l+1;x<j;x++){if(e.charAt(x)=="]"){s=e.substring(l+1,x);l=Oa(f,s,d);if(l!=Oa(g,s,d))Q+=l;l=x;break}}else if(s=="{"){f=b;g=a}else if(s=="}"){f=a;g=b}else{for(x=j;x>l;x--)if(S=dc[e.substring(l,x)]){if(f)Q+=S(f,d);l=x-1;break}if(x==l)if(f)Q+=s}}return Q}function Ua(a){return a.end?ec(a.end,a.allDay):ba(N(a.start),1)}function ec(a,b){a=N(a);return b||a.getHours()||a.getMinutes()?ba(a,1):Ka(a)}function fc(a,b){return(b.msLength-
a.msLength)*100+(a.event.start-b.event.start)}function Cb(a,b){return a.end>b.start&&a.start<b.end}function nb(a,b,e,d){var f=[],g,l=a.length,j,s,x,S,Q;for(g=0;g<l;g++){j=a[g];s=j.start;x=b[g];if(x>e&&s<d){if(s<e){s=N(e);S=false}else{s=s;S=true}if(x>d){x=N(d);Q=false}else{x=x;Q=true}f.push({event:j,start:s,end:x,isStart:S,isEnd:Q,msLength:x-s})}}return f.sort(fc)}function ob(a){var b=[],e,d=a.length,f,g,l,j;for(e=0;e<d;e++){f=a[e];for(g=0;;){l=false;if(b[g])for(j=0;j<b[g].length;j++)if(Cb(b[g][j],
f)){l=true;break}if(l)g++;else break}if(b[g])b[g].push(f);else b[g]=[f]}return b}function Db(a,b,e){a.unbind("mouseover").mouseover(function(d){for(var f=d.target,g;f!=this;){g=f;f=f.parentNode}if((f=g._fci)!==oa){g._fci=oa;g=b[f];e(g.event,g.element,g);m(d.target).trigger(d)}d.stopPropagation()})}function Va(a,b,e){for(var d=0,f;d<a.length;d++){f=m(a[d]);f.width(Math.max(0,b-pb(f,e)))}}function Eb(a,b,e){for(var d=0,f;d<a.length;d++){f=m(a[d]);f.height(Math.max(0,b-Sa(f,e)))}}function pb(a,b){return gc(a)+
hc(a)+(b?ic(a):0)}function gc(a){return(parseFloat(m.curCSS(a[0],"paddingLeft",true))||0)+(parseFloat(m.curCSS(a[0],"paddingRight",true))||0)}function ic(a){return(parseFloat(m.curCSS(a[0],"marginLeft",true))||0)+(parseFloat(m.curCSS(a[0],"marginRight",true))||0)}function hc(a){return(parseFloat(m.curCSS(a[0],"borderLeftWidth",true))||0)+(parseFloat(m.curCSS(a[0],"borderRightWidth",true))||0)}function Sa(a,b){return jc(a)+kc(a)+(b?Fb(a):0)}function jc(a){return(parseFloat(m.curCSS(a[0],"paddingTop",
true))||0)+(parseFloat(m.curCSS(a[0],"paddingBottom",true))||0)}function Fb(a){return(parseFloat(m.curCSS(a[0],"marginTop",true))||0)+(parseFloat(m.curCSS(a[0],"marginBottom",true))||0)}function kc(a){return(parseFloat(m.curCSS(a[0],"borderTopWidth",true))||0)+(parseFloat(m.curCSS(a[0],"borderBottomWidth",true))||0)}function Za(a,b){b=typeof b=="number"?b+"px":b;a.each(function(e,d){d.style.cssText+=";min-height:"+b+";_height:"+b})}function xb(){}function Gb(a,b){return a-b}function Hb(a){return Math.max.apply(Math,
a)}function Pa(a){return(a<10?"0":"")+a}function jb(a,b){if(a[b]!==oa)return a[b];b=b.split(/(?=[A-Z])/);for(var e=b.length-1,d;e>=0;e--){d=a[b[e].toLowerCase()];if(d!==oa)return d}return a[""]}function Qa(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Ib(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function qb(a){a.attr("unselectable",
"on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function ab(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function rb(a,b){a.each(function(e,d){d.className=d.className.replace(/^fc-\w*/,"fc-"+lc[b.getDay()])})}function Jb(a,b){var e=a.source||{},d=a.color,f=e.color,g=b("eventColor"),l=a.backgroundColor||d||e.backgroundColor||f||b("eventBackgroundColor")||g;d=a.borderColor||
d||e.borderColor||f||b("eventBorderColor")||g;a=a.textColor||e.textColor||b("eventTextColor");b=[];l&&b.push("background-color:"+l);d&&b.push("border-color:"+d);a&&b.push("color:"+a);return b.join(";")}function $a(a,b,e){if(m.isFunction(a))a=[a];if(a){var d,f;for(d=0;d<a.length;d++)f=a[d].apply(b,e)||f;return f}}function Ta(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==oa)return arguments[a]}function mc(a,b){function e(j,s){if(s){hb(j,s);j.setDate(1)}j=N(j,true);j.setDate(1);s=hb(N(j),1);
var x=N(j),S=N(s),Q=f("firstDay"),y=f("weekends")?0:1;if(y){Fa(x);Fa(S,-1,true)}ba(x,-((x.getDay()-Math.max(Q,y)+7)%7));ba(S,(7-S.getDay()+Math.max(Q,y))%7);Q=Math.round((S-x)/(Ab*7));if(f("weekMode")=="fixed"){ba(S,(6-Q)*7);Q=6}d.title=l(j,f("titleFormat"));d.start=j;d.end=s;d.visStart=x;d.visEnd=S;g(6,Q,y?5:7,true)}var d=this;d.render=e;sb.call(d,a,b,"month");var f=d.opt,g=d.renderBasic,l=b.formatDate}function nc(a,b){function e(j,s){s&&ba(j,s*7);j=ba(N(j),-((j.getDay()-f("firstDay")+7)%7));s=ba(N(j),
7);var x=N(j),S=N(s),Q=f("weekends");if(!Q){Fa(x);Fa(S,-1,true)}d.title=l(x,ba(N(S),-1),f("titleFormat"));d.start=j;d.end=s;d.visStart=x;d.visEnd=S;g(1,1,Q?7:5,false)}var d=this;d.render=e;sb.call(d,a,b,"basicWeek");var f=d.opt,g=d.renderBasic,l=b.formatDates}function oc(a,b){function e(j,s){if(s){ba(j,s);f("weekends")||Fa(j,s<0?-1:1)}d.title=l(j,f("titleFormat"));d.start=d.visStart=N(j,true);d.end=d.visEnd=ba(N(d.start),1);g(1,1,1,false)}var d=this;d.render=e;sb.call(d,a,b,"basicDay");var f=d.opt,
g=d.renderBasic,l=b.formatDate}function sb(a,b,e){function d(v,I,R,V){u=I;F=R;f();(I=!C)?g(v,V):z();l(I)}function f(){if(k=L("isRTL")){D=-1;Z=F-1}else{D=1;Z=0}ja=L("firstDay");ha=L("weekends")?0:1;la=L("theme")?"ui":"fc";$=L("columnFormat")}function g(v,I){var R,V=la+"-widget-header",fa=la+"-widget-content",aa;R="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(aa=0;aa<F;aa++)R+="<th class='fc- "+V+"'/>";R+="</tr></thead><tbody>";for(aa=0;aa<v;aa++){R+="<tr class='fc-week"+
aa+"'>";for(V=0;V<F;V++)R+="<td class='fc- "+fa+" fc-day"+(aa*F+V)+"'><div>"+(I?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";R+="</tr>"}R+="</tbody></table>";v=m(R).appendTo(a);K=v.find("thead");i=K.find("th");C=v.find("tbody");P=C.find("tr");E=C.find("td");B=E.filter(":first-child");n=P.eq(0).find("div.fc-day-content div");ab(K.add(K.find("tr")));ab(P);P.eq(0).addClass("fc-first");x(E);Y=m("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}
function l(v){var I=v||u==1,R=p.start.getMonth(),V=Ka(new Date),fa,aa,va;I&&i.each(function(wa,Ga){fa=m(Ga);aa=ea(wa);fa.html(ya(aa,$));rb(fa,aa)});E.each(function(wa,Ga){fa=m(Ga);aa=ea(wa);aa.getMonth()==R?fa.removeClass("fc-other-month"):fa.addClass("fc-other-month");+aa==+V?fa.addClass(la+"-state-highlight fc-today"):fa.removeClass(la+"-state-highlight fc-today");fa.find("div.fc-day-number").text(aa.getDate());I&&rb(fa,aa)});P.each(function(wa,Ga){va=m(Ga);if(wa<u){va.show();wa==u-1?va.addClass("fc-last"):
va.removeClass("fc-last")}else va.hide()})}function j(v){o=v;v=o-K.height();var I,R,V;if(L("weekMode")=="variable")I=R=Math.floor(v/(u==1?2:6));else{I=Math.floor(v/u);R=v-I*(u-1)}B.each(function(fa,aa){if(fa<u){V=m(aa);Za(V.find("> div"),(fa==u-1?R:I)-Sa(V))}})}function s(v){W=v;M.clear();r=Math.floor(W/F);Va(i.slice(0,-1),r)}function x(v){v.click(S).mousedown(X)}function S(v){if(!L("selectable")){var I=parseInt(this.className.match(/fc\-day(\d+)/)[1]);I=ea(I);c("dayClick",this,I,true,v)}}function Q(v,
I,R){R&&q.build();R=N(p.visStart);for(var V=ba(N(R),F),fa=0;fa<u;fa++){var aa=new Date(Math.max(R,v)),va=new Date(Math.min(V,I));if(aa<va){var wa;if(k){wa=Ca(va,R)*D+Z+1;aa=Ca(aa,R)*D+Z+1}else{wa=Ca(aa,R);aa=Ca(va,R)}x(y(fa,wa,fa,aa-1))}ba(R,7);ba(V,7)}}function y(v,I,R,V){v=q.rect(v,I,R,V,a);return H(v,a)}function t(v){return N(v)}function ga(v,I){Q(v,ba(N(I),1),true)}function ma(){T()}function na(v,I,R){var V=ra(v);c("dayClick",E[V.row*F+V.col],v,I,R)}function qa(v,I){J.start(function(R){T();R&&
y(R.row,R.col,R.row,R.col)},I)}function ua(v,I,R){var V=J.stop();T();if(V){V=ia(V);c("drop",v,V,true,I,R)}}function da(v){return N(v.start)}function ca(v){return M.left(v)}function ta(v){return M.right(v)}function ra(v){return{row:Math.floor(Ca(v,p.visStart)/7),col:ka(v.getDay())}}function ia(v){return U(v.row,v.col)}function U(v,I){return ba(N(p.visStart),v*7+I*D+Z)}function ea(v){return U(Math.floor(v/F),v%F)}function ka(v){return(v-Math.max(ja,ha)+F)%F*D+Z}function pa(v){return P.eq(v)}function G(){return{left:0,
right:W}}var p=this;p.renderBasic=d;p.setHeight=j;p.setWidth=s;p.renderDayOverlay=Q;p.defaultSelectionEnd=t;p.renderSelection=ga;p.clearSelection=ma;p.reportDayClick=na;p.dragStart=qa;p.dragStop=ua;p.defaultEventEnd=da;p.getHoverListener=function(){return J};p.colContentLeft=ca;p.colContentRight=ta;p.dayOfWeekCol=ka;p.dateCell=ra;p.cellDate=ia;p.cellIsAllDay=function(){return true};p.allDayRow=pa;p.allDayBounds=G;p.getRowCnt=function(){return u};p.getColCnt=function(){return F};p.getColWidth=function(){return r};
p.getDaySegmentContainer=function(){return Y};Kb.call(p,a,b,e);Lb.call(p);Mb.call(p);pc.call(p);var L=p.opt,c=p.trigger,z=p.clearEvents,H=p.renderOverlay,T=p.clearOverlays,X=p.daySelectionMousedown,ya=b.formatDate,K,i,C,P,E,B,n,Y,W,o,r,u,F,q,J,M,k,D,Z,ja,ha,la,$;qb(a.addClass("fc-grid"));q=new Nb(function(v,I){var R,V,fa;i.each(function(aa,va){R=m(va);V=R.offset().left;if(aa)fa[1]=V;fa=[V];I[aa]=fa});fa[1]=V+R.outerWidth();P.each(function(aa,va){if(aa<u){R=m(va);V=R.offset().top;if(aa)fa[1]=V;fa=
[V];v[aa]=fa}});fa[1]=V+R.outerHeight()});J=new Ob(q);M=new Pb(function(v){return n.eq(v)})}function pc(){function a(U,ea){S(U);ra(e(U),ea)}function b(){Q();na().empty()}function e(U){var ea=ca(),ka=ta(),pa=N(g.visStart);ka=ba(N(pa),ka);var G=m.map(U,Ua),p,L,c,z,H,T,X=[];for(p=0;p<ea;p++){L=ob(nb(U,G,pa,ka));for(c=0;c<L.length;c++){z=L[c];for(H=0;H<z.length;H++){T=z[H];T.row=p;T.level=c;X.push(T)}}ba(pa,7);ba(ka,7)}return X}function d(U,ea,ka){s(U)&&f(U,ea);ka.isEnd&&x(U)&&ia(U,ea,ka);y(U,ea)}function f(U,
ea){var ka=qa(),pa;ea.draggable({zIndex:9,delay:50,opacity:l("dragOpacity"),revertDuration:l("dragRevertDuration"),start:function(G,p){j("eventDragStart",ea,U,G,p);ga(U,ea);ka.start(function(L,c,z,H){ea.draggable("option","revert",!L||!z&&!H);da();if(L){pa=z*7+H*(l("isRTL")?-1:1);ua(ba(N(U.start),pa),ba(Ua(U),pa))}else pa=0},G,"drag")},stop:function(G,p){ka.stop();da();j("eventDragStop",ea,U,G,p);if(pa)ma(this,U,pa,0,U.allDay,G,p);else{ea.css("filter","");t(U,ea)}}})}var g=this;g.renderEvents=a;g.compileDaySegs=
e;g.clearEvents=b;g.bindDaySeg=d;Qb.call(g);var l=g.opt,j=g.trigger,s=g.isEventDraggable,x=g.isEventResizable,S=g.reportEvents,Q=g.reportEventClear,y=g.eventElementHandlers,t=g.showEvents,ga=g.hideEvents,ma=g.eventDrop,na=g.getDaySegmentContainer,qa=g.getHoverListener,ua=g.renderDayOverlay,da=g.clearOverlays,ca=g.getRowCnt,ta=g.getColCnt,ra=g.renderDaySegs,ia=g.resizableDayEvent}function qc(a,b){function e(j,s){s&&ba(j,s*7);j=ba(N(j),-((j.getDay()-f("firstDay")+7)%7));s=ba(N(j),7);var x=N(j),S=N(s),
Q=f("weekends");if(!Q){Fa(x);Fa(S,-1,true)}d.title=l(x,ba(N(S),-1),f("titleFormat"));d.start=j;d.end=s;d.visStart=x;d.visEnd=S;g(Q?7:5)}var d=this;d.render=e;Rb.call(d,a,b,"agendaWeek");var f=d.opt,g=d.renderAgenda,l=b.formatDates}function rc(a,b){function e(j,s){if(s){ba(j,s);f("weekends")||Fa(j,s<0?-1:1)}s=N(j,true);var x=ba(N(s),1);d.title=l(j,f("titleFormat"));d.start=d.visStart=s;d.end=d.visEnd=x;g(1)}var d=this;d.render=e;Rb.call(d,a,b,"agendaDay");var f=d.opt,g=d.renderAgenda,l=b.formatDate}
function Rb(a,b,e){function d(h){Ba=h;f();u?P():g();l()}function f(){Wa=i("theme")?"ui":"fc";Sb=i("weekends")?0:1;Tb=i("firstDay");if(Ub=i("isRTL")){Ha=-1;Ia=Ba-1}else{Ha=1;Ia=0}La=mb(i("minTime"));bb=mb(i("maxTime"));Vb=i("columnFormat")}function g(){var h=Wa+"-widget-header",O=Wa+"-widget-content",w,A,sa,za,Da,Ea=i("slotMinutes")%15==0;w="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>";for(A=0;A<Ba;A++)w+=
"<th class='fc- fc-col"+A+" "+h+"'/>";w+="<th class='fc-agenda-gutter "+h+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>";for(A=0;A<Ba;A++)w+="<td class='fc- fc-col"+A+" "+O+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";w+="<td class='fc-agenda-gutter "+O+"'>&nbsp;</td></tr></tbody></table>";u=m(w).appendTo(a);F=u.find("thead");q=F.find("th").slice(1,-1);J=u.find("tbody");M=J.find("td").slice(0,-1);k=M.find("div.fc-day-content div");
D=M.eq(0);Z=D.find("> div");ab(F.add(F.find("tr")));ab(J.add(J.find("tr")));aa=F.find("th:first");va=u.find(".fc-agenda-gutter");ja=m("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(i("allDaySlot")){ha=m("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ja);w="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+i("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+
h+" fc-agenda-gutter'>&nbsp;</th></tr></table>";la=m(w).appendTo(ja);$=la.find("tr");y($.find("td"));aa=aa.add(la.find("th:first"));va=va.add(la.find("th.fc-agenda-gutter"));ja.append("<div class='fc-agenda-divider "+h+"'><div class='fc-agenda-divider-inner'/></div>")}else ha=m([]);v=m("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ja);I=m("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(v);R=m("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(I);
w="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";sa=zb();za=xa(N(sa),bb);xa(sa,La);for(A=tb=0;sa<za;A++){Da=sa.getMinutes();w+="<tr class='fc-slot"+A+" "+(!Da?"":"fc-minor")+"'><th class='fc-agenda-axis "+h+"'>"+(!Ea||!Da?r(sa,i("axisFormat")):"&nbsp;")+"</th><td class='"+O+"'><div style='position:relative'>&nbsp;</div></td></tr>";xa(sa,i("slotMinutes"));tb++}w+="</tbody></table>";V=m(w).appendTo(I);fa=V.find("div:first");t(V.find("td"));aa=aa.add(V.find("th:first"))}
function l(){var h,O,w,A,sa=Ka(new Date);for(h=0;h<Ba;h++){A=ra(h);O=q.eq(h);O.html(r(A,Vb));w=M.eq(h);+A==+sa?w.addClass(Wa+"-state-highlight fc-today"):w.removeClass(Wa+"-state-highlight fc-today");rb(O.add(w),A)}}function j(h,O){if(h===oa)h=Wb;Wb=h;ub={};var w=J.position().top,A=v.position().top;h=Math.min(h-w,V.height()+A+1);Z.height(h-Sa(D));ja.css("top",w);v.height(h-A-1);Xa=fa.height()+1;O&&x()}function s(h){Ga=h;cb.clear();Ma=0;Va(aa.width("").each(function(O,w){Ma=Math.max(Ma,m(w).outerWidth())}),
Ma);h=v[0].clientWidth;if(vb=v.width()-h){Va(va,vb);va.show().prev().removeClass("fc-last")}else va.hide().prev().addClass("fc-last");db=Math.floor((h-Ma)/Ba);Va(q.slice(0,-1),db)}function x(){function h(){v.scrollTop(A)}var O=zb(),w=N(O);w.setHours(i("firstHour"));var A=ea(O,w)+1;h();setTimeout(h,0)}function S(){Xb=v.scrollTop()}function Q(){v.scrollTop(Xb)}function y(h){h.click(ga).mousedown(W)}function t(h){h.click(ga).mousedown(H)}function ga(h){if(!i("selectable")){var O=Math.min(Ba-1,Math.floor((h.pageX-
u.offset().left-Ma)/db)),w=ra(O),A=this.parentNode.className.match(/fc-slot(\d+)/);if(A){A=parseInt(A[1])*i("slotMinutes");var sa=Math.floor(A/60);w.setHours(sa);w.setMinutes(A%60+La);C("dayClick",M[O],w,false,h)}else C("dayClick",M[O],w,true,h)}}function ma(h,O,w){w&&Na.build();var A=N(K.visStart);if(Ub){w=Ca(O,A)*Ha+Ia+1;h=Ca(h,A)*Ha+Ia+1}else{w=Ca(h,A);h=Ca(O,A)}w=Math.max(0,w);h=Math.min(Ba,h);w<h&&y(na(0,w,0,h-1))}function na(h,O,w,A){h=Na.rect(h,O,w,A,ja);return E(h,ja)}function qa(h,O){for(var w=
N(K.visStart),A=ba(N(w),1),sa=0;sa<Ba;sa++){var za=new Date(Math.max(w,h)),Da=new Date(Math.min(A,O));if(za<Da){var Ea=sa*Ha+Ia;Ea=Na.rect(0,Ea,0,Ea,I);za=ea(w,za);Da=ea(w,Da);Ea.top=za;Ea.height=Da-za;t(E(Ea,I))}ba(w,1);ba(A,1)}}function ua(h){return cb.left(h)}function da(h){return cb.right(h)}function ca(h){return{row:Math.floor(Ca(h,K.visStart)/7),col:U(h.getDay())}}function ta(h){var O=ra(h.col);h=h.row;i("allDaySlot")&&h--;h>=0&&xa(O,La+h*i("slotMinutes"));return O}function ra(h){return ba(N(K.visStart),
h*Ha+Ia)}function ia(h){return i("allDaySlot")&&!h.row}function U(h){return(h-Math.max(Tb,Sb)+Ba)%Ba*Ha+Ia}function ea(h,O){h=N(h,true);if(O<xa(N(h),La))return 0;if(O>=xa(N(h),bb))return V.height();h=i("slotMinutes");O=O.getHours()*60+O.getMinutes()-La;var w=Math.floor(O/h),A=ub[w];if(A===oa)A=ub[w]=V.find("tr:eq("+w+") td div")[0].offsetTop;return Math.max(0,Math.round(A-1+Xa*(O%h/h)))}function ka(){return{left:Ma,right:Ga-vb}}function pa(){return $}function G(h){var O=N(h.start);if(h.allDay)return O;
return xa(O,i("defaultEventMinutes"))}function p(h,O){if(O)return N(h);return xa(N(h),i("slotMinutes"))}function L(h,O,w){if(w)i("allDaySlot")&&ma(h,ba(N(O),1),true);else c(h,O)}function c(h,O){var w=i("selectHelper");Na.build();if(w){var A=Ca(h,K.visStart)*Ha+Ia;if(A>=0&&A<Ba){A=Na.rect(0,A,0,A,I);var sa=ea(h,h),za=ea(h,O);if(za>sa){A.top=sa;A.height=za-sa;A.left+=2;A.width-=5;if(m.isFunction(w)){if(h=w(h,O)){A.position="absolute";A.zIndex=8;wa=m(h).css(A).appendTo(I)}}else{A.isStart=true;A.isEnd=
true;wa=m(o({title:"",start:h,end:O,className:["fc-select-helper"],editable:false},A));wa.css("opacity",i("dragOpacity"))}if(wa){t(wa);I.append(wa);Va(wa,A.width,true);Eb(wa,A.height,true)}}}}else qa(h,O)}function z(){B();if(wa){wa.remove();wa=null}}function H(h){if(h.which==1&&i("selectable")){Y(h);var O;Ra.start(function(w,A){z();if(w&&w.col==A.col&&!ia(w)){A=ta(A);w=ta(w);O=[A,xa(N(A),i("slotMinutes")),w,xa(N(w),i("slotMinutes"))].sort(Gb);c(O[0],O[3])}else O=null},h);m(document).one("mouseup",
function(w){Ra.stop();if(O){+O[0]==+O[1]&&T(O[0],false,w);n(O[0],O[3],false,w)}})}}function T(h,O,w){C("dayClick",M[U(h.getDay())],h,O,w)}function X(h,O){Ra.start(function(w){B();if(w)if(ia(w))na(w.row,w.col,w.row,w.col);else{w=ta(w);var A=xa(N(w),i("defaultEventMinutes"));qa(w,A)}},O)}function ya(h,O,w){var A=Ra.stop();B();A&&C("drop",h,ta(A),ia(A),O,w)}var K=this;K.renderAgenda=d;K.setWidth=s;K.setHeight=j;K.beforeHide=S;K.afterShow=Q;K.defaultEventEnd=G;K.timePosition=ea;K.dayOfWeekCol=U;K.dateCell=
ca;K.cellDate=ta;K.cellIsAllDay=ia;K.allDayRow=pa;K.allDayBounds=ka;K.getHoverListener=function(){return Ra};K.colContentLeft=ua;K.colContentRight=da;K.getDaySegmentContainer=function(){return ha};K.getSlotSegmentContainer=function(){return R};K.getMinMinute=function(){return La};K.getMaxMinute=function(){return bb};K.getBodyContent=function(){return I};K.getRowCnt=function(){return 1};K.getColCnt=function(){return Ba};K.getColWidth=function(){return db};K.getSlotHeight=function(){return Xa};K.defaultSelectionEnd=
p;K.renderDayOverlay=ma;K.renderSelection=L;K.clearSelection=z;K.reportDayClick=T;K.dragStart=X;K.dragStop=ya;Kb.call(K,a,b,e);Lb.call(K);Mb.call(K);sc.call(K);var i=K.opt,C=K.trigger,P=K.clearEvents,E=K.renderOverlay,B=K.clearOverlays,n=K.reportSelection,Y=K.unselect,W=K.daySelectionMousedown,o=K.slotSegHtml,r=b.formatDate,u,F,q,J,M,k,D,Z,ja,ha,la,$,v,I,R,V,fa,aa,va,wa,Ga,Wb,Ma,db,vb,Xa,Xb,Ba,tb,Na,Ra,cb,ub={},Wa,Tb,Sb,Ub,Ha,Ia,La,bb,Vb;qb(a.addClass("fc-agenda"));Na=new Nb(function(h,O){function w(eb){return Math.max(Ea,
Math.min(tc,eb))}var A,sa,za;q.each(function(eb,uc){A=m(uc);sa=A.offset().left;if(eb)za[1]=sa;za=[sa];O[eb]=za});za[1]=sa+A.outerWidth();if(i("allDaySlot")){A=$;sa=A.offset().top;h[0]=[sa,sa+A.outerHeight()]}for(var Da=I.offset().top,Ea=v.offset().top,tc=Ea+v.outerHeight(),fb=0;fb<tb;fb++)h.push([w(Da+Xa*fb),w(Da+Xa*(fb+1))])});Ra=new Ob(Na);cb=new Pb(function(h){return k.eq(h)})}function sc(){function a(o,r){ua(o);var u,F=o.length,q=[],J=[];for(u=0;u<F;u++)o[u].allDay?q.push(o[u]):J.push(o[u]);if(t("allDaySlot")){L(e(q),
r);ta()}g(d(J),r)}function b(){da();ra().empty();ia().empty()}function e(o){o=ob(nb(o,m.map(o,Ua),y.visStart,y.visEnd));var r,u=o.length,F,q,J,M=[];for(r=0;r<u;r++){F=o[r];for(q=0;q<F.length;q++){J=F[q];J.row=0;J.level=r;M.push(J)}}return M}function d(o){var r=z(),u=ka(),F=ea(),q=xa(N(y.visStart),u),J=m.map(o,f),M,k,D,Z,ja,ha,la=[];for(M=0;M<r;M++){k=ob(nb(o,J,q,xa(N(q),F-u)));vc(k);for(D=0;D<k.length;D++){Z=k[D];for(ja=0;ja<Z.length;ja++){ha=Z[ja];ha.col=M;ha.level=D;la.push(ha)}}ba(q,1,true)}return la}
function f(o){return o.end?N(o.end):xa(N(o.start),t("defaultEventMinutes"))}function g(o,r){var u,F=o.length,q,J,M,k,D,Z,ja,ha,la,$="",v,I,R={},V={},fa=ia(),aa;u=z();if(v=t("isRTL")){I=-1;aa=u-1}else{I=1;aa=0}for(u=0;u<F;u++){q=o[u];J=q.event;M=pa(q.start,q.start);k=pa(q.start,q.end);D=q.col;Z=q.level;ja=q.forward||0;ha=G(D*I+aa);la=p(D*I+aa)-ha;la=Math.min(la-6,la*0.95);D=Z?la/(Z+ja+1):ja?(la/(ja+1)-6)*2:la;Z=ha+la/(Z+ja+1)*Z*I+(v?la-D:0);q.top=M;q.left=Z;q.outerWidth=D;q.outerHeight=k-M;$+=l(J,
q)}fa[0].innerHTML=$;v=fa.children();for(u=0;u<F;u++){q=o[u];J=q.event;$=m(v[u]);I=ga("eventRender",J,J,$);if(I===false)$.remove();else{if(I&&I!==true){$.remove();$=m(I).css({position:"absolute",top:q.top,left:q.left}).appendTo(fa)}q.element=$;if(J._id===r)s(J,$,q);else $[0]._fci=u;ya(J,$)}}Db(fa,o,s);for(u=0;u<F;u++){q=o[u];if($=q.element){J=R[r=q.key=Ib($[0])];q.vsides=J===oa?(R[r]=Sa($,true)):J;J=V[r];q.hsides=J===oa?(V[r]=pb($,true)):J;r=$.find("div.fc-event-content");if(r.length)q.contentTop=
r[0].offsetTop}}for(u=0;u<F;u++){q=o[u];if($=q.element){$[0].style.width=Math.max(0,q.outerWidth-q.hsides)+"px";R=Math.max(0,q.outerHeight-q.vsides);$[0].style.height=R+"px";J=q.event;if(q.contentTop!==oa&&R-q.contentTop<10){$.find("div.fc-event-time").text(Y(J.start,t("timeFormat"))+" - "+J.title);$.find("div.fc-event-title").remove()}ga("eventAfterRender",J,J,$)}}}function l(o,r){var u="<",F=o.url,q=Jb(o,t),J=q?" style='"+q+"'":"",M=["fc-event","fc-event-skin","fc-event-vert"];ma(o)&&M.push("fc-event-draggable");
r.isStart&&M.push("fc-corner-top");r.isEnd&&M.push("fc-corner-bottom");M=M.concat(o.className);if(o.source)M=M.concat(o.source.className||[]);u+=F?"a href='"+Qa(o.url)+"'":"div";u+=" class='"+M.join(" ")+"' style='position:absolute;z-index:8;top:"+r.top+"px;left:"+r.left+"px;"+q+"'><div class='fc-event-inner fc-event-skin'"+J+"><div class='fc-event-head fc-event-skin'"+J+"><div class='fc-event-time'>"+Qa(W(o.start,o.end,t("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+
Qa(o.title)+"</div></div><div class='fc-event-bg'></div></div>";if(r.isEnd&&na(o))u+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";u+="</"+(F?"a":"div")+">";return u}function j(o,r,u){ma(o)&&x(o,r,u.isStart);u.isEnd&&na(o)&&c(o,r,u);ca(o,r)}function s(o,r,u){var F=r.find("div.fc-event-time");ma(o)&&S(o,r,F);u.isEnd&&na(o)&&Q(o,r,F);ca(o,r)}function x(o,r,u){function F(){if(!M){r.width(q).height("").draggable("option","grid",null);M=true}}var q,J,M=true,k,D=t("isRTL")?-1:1,Z=U(),ja=H(),
ha=T(),la=ka();r.draggable({zIndex:9,opacity:t("dragOpacity","month"),revertDuration:t("dragRevertDuration"),start:function($,v){ga("eventDragStart",r,o,$,v);i(o,r);q=r.width();Z.start(function(I,R,V,fa){B();if(I){J=false;k=fa*D;if(I.row)if(u){if(M){r.width(ja-10);Eb(r,ha*Math.round((o.end?(o.end-o.start)/wc:t("defaultEventMinutes"))/t("slotMinutes")));r.draggable("option","grid",[ja,1]);M=false}}else J=true;else{E(ba(N(o.start),k),ba(Ua(o),k));F()}J=J||M&&!k}else{F();J=true}r.draggable("option",
"revert",J)},$,"drag")},stop:function($,v){Z.stop();B();ga("eventDragStop",r,o,$,v);if(J){F();r.css("filter","");K(o,r)}else{var I=0;M||(I=Math.round((r.offset().top-X().offset().top)/ha)*t("slotMinutes")+la-(o.start.getHours()*60+o.start.getMinutes()));C(this,o,k,I,M,$,v)}}})}function S(o,r,u){function F(I){var R=xa(N(o.start),I),V;if(o.end)V=xa(N(o.end),I);u.text(W(R,V,t("timeFormat")))}function q(){if(M){u.css("display","");r.draggable("option","grid",[$,v]);M=false}}var J,M=false,k,D,Z,ja=t("isRTL")?
-1:1,ha=U(),la=z(),$=H(),v=T();r.draggable({zIndex:9,scroll:false,grid:[$,v],axis:la==1?"y":false,opacity:t("dragOpacity"),revertDuration:t("dragRevertDuration"),start:function(I,R){ga("eventDragStart",r,o,I,R);i(o,r);J=r.position();D=Z=0;ha.start(function(V,fa,aa,va){r.draggable("option","revert",!V);B();if(V){k=va*ja;if(t("allDaySlot")&&!V.row){if(!M){M=true;u.hide();r.draggable("option","grid",null)}E(ba(N(o.start),k),ba(Ua(o),k))}else q()}},I,"drag")},drag:function(I,R){D=Math.round((R.position.top-
J.top)/v)*t("slotMinutes");if(D!=Z){M||F(D);Z=D}},stop:function(I,R){var V=ha.stop();B();ga("eventDragStop",r,o,I,R);if(V&&(k||D||M))C(this,o,k,M?0:D,M,I,R);else{q();r.css("filter","");r.css(J);F(0);K(o,r)}}})}function Q(o,r,u){var F,q,J=T();r.resizable({handles:{s:"div.ui-resizable-s"},grid:J,start:function(M,k){F=q=0;i(o,r);r.css("z-index",9);ga("eventResizeStart",this,o,M,k)},resize:function(M,k){F=Math.round((Math.max(J,r.height())-k.originalSize.height)/J);if(F!=q){u.text(W(o.start,!F&&!o.end?
null:xa(qa(o),t("slotMinutes")*F),t("timeFormat")));q=F}},stop:function(M,k){ga("eventResizeStop",this,o,M,k);if(F)P(this,o,0,t("slotMinutes")*F,M,k);else{r.css("z-index",8);K(o,r)}}})}var y=this;y.renderEvents=a;y.compileDaySegs=e;y.clearEvents=b;y.slotSegHtml=l;y.bindDaySeg=j;Qb.call(y);var t=y.opt,ga=y.trigger,ma=y.isEventDraggable,na=y.isEventResizable,qa=y.eventEnd,ua=y.reportEvents,da=y.reportEventClear,ca=y.eventElementHandlers,ta=y.setHeight,ra=y.getDaySegmentContainer,ia=y.getSlotSegmentContainer,
U=y.getHoverListener,ea=y.getMaxMinute,ka=y.getMinMinute,pa=y.timePosition,G=y.colContentLeft,p=y.colContentRight,L=y.renderDaySegs,c=y.resizableDayEvent,z=y.getColCnt,H=y.getColWidth,T=y.getSlotHeight,X=y.getBodyContent,ya=y.reportEventElement,K=y.showEvents,i=y.hideEvents,C=y.eventDrop,P=y.eventResize,E=y.renderDayOverlay,B=y.clearOverlays,n=y.calendar,Y=n.formatDate,W=n.formatDates}function vc(a){var b,e,d,f,g,l;for(b=a.length-1;b>0;b--){f=a[b];for(e=0;e<f.length;e++){g=f[e];for(d=0;d<a[b-1].length;d++){l=
a[b-1][d];if(Cb(g,l))l.forward=Math.max(l.forward||0,(g.forward||0)+1)}}}}function Kb(a,b,e){function d(G,p){G=pa[G];if(typeof G=="object")return jb(G,p||e);return G}function f(G,p){return b.trigger.apply(b,[G,p||ca].concat(Array.prototype.slice.call(arguments,2),[ca]))}function g(G){return j(G)&&!d("disableDragging")}function l(G){return j(G)&&!d("disableResizing")}function j(G){return Ta(G.editable,(G.source||{}).editable,d("editable"))}function s(G){U={};var p,L=G.length,c;for(p=0;p<L;p++){c=G[p];
if(U[c._id])U[c._id].push(c);else U[c._id]=[c]}}function x(G){return G.end?N(G.end):ta(G)}function S(G,p){ea.push(p);if(ka[G._id])ka[G._id].push(p);else ka[G._id]=[p]}function Q(){ea=[];ka={}}function y(G,p){p.click(function(L){if(!p.hasClass("ui-draggable-dragging")&&!p.hasClass("ui-resizable-resizing"))return f("eventClick",this,G,L)}).hover(function(L){f("eventMouseover",this,G,L)},function(L){f("eventMouseout",this,G,L)})}function t(G,p){ma(G,p,"show")}function ga(G,p){ma(G,p,"hide")}function ma(G,
p,L){G=ka[G._id];var c,z=G.length;for(c=0;c<z;c++)if(!p||G[c][0]!=p[0])G[c][L]()}function na(G,p,L,c,z,H,T){var X=p.allDay,ya=p._id;ua(U[ya],L,c,z);f("eventDrop",G,p,L,c,z,function(){ua(U[ya],-L,-c,X);ia(ya)},H,T);ia(ya)}function qa(G,p,L,c,z,H){var T=p._id;da(U[T],L,c);f("eventResize",G,p,L,c,function(){da(U[T],-L,-c);ia(T)},z,H);ia(T)}function ua(G,p,L,c){L=L||0;for(var z,H=G.length,T=0;T<H;T++){z=G[T];if(c!==oa)z.allDay=c;xa(ba(z.start,p,true),L);if(z.end)z.end=xa(ba(z.end,p,true),L);ra(z,pa)}}
function da(G,p,L){L=L||0;for(var c,z=G.length,H=0;H<z;H++){c=G[H];c.end=xa(ba(x(c),p,true),L);ra(c,pa)}}var ca=this;ca.element=a;ca.calendar=b;ca.name=e;ca.opt=d;ca.trigger=f;ca.isEventDraggable=g;ca.isEventResizable=l;ca.reportEvents=s;ca.eventEnd=x;ca.reportEventElement=S;ca.reportEventClear=Q;ca.eventElementHandlers=y;ca.showEvents=t;ca.hideEvents=ga;ca.eventDrop=na;ca.eventResize=qa;var ta=ca.defaultEventEnd,ra=b.normalizeEvent,ia=b.reportEventChange,U={},ea=[],ka={},pa=b.options}function Qb(){function a(i,
C){var P=z(),E=ia(),B=U(),n=0,Y,W,o=i.length,r,u;P[0].innerHTML=e(i);d(i,P.children());f(i);g(i,P,C);l(i);j(i);s(i);C=x();for(P=0;P<E;P++){Y=[];for(W=0;W<B;W++)Y[W]=0;for(;n<o&&(r=i[n]).row==P;){W=Hb(Y.slice(r.startCol,r.endCol));r.top=W;W+=r.outerHeight;for(u=r.startCol;u<r.endCol;u++)Y[u]=W;n++}C[P].height(Hb(Y))}Q(i,S(C))}function b(i,C,P){var E=m("<div/>"),B=z(),n=i.length,Y;E[0].innerHTML=e(i);E=E.children();B.append(E);d(i,E);l(i);j(i);s(i);Q(i,S(x()));E=[];for(B=0;B<n;B++)if(Y=i[B].element){i[B].row===
C&&Y.css("top",P);E.push(Y[0])}return m(E)}function e(i){var C=ga("isRTL"),P,E=i.length,B,n,Y,W;P=ka();var o=P.left,r=P.right,u,F,q,J,M,k="";for(P=0;P<E;P++){B=i[P];n=B.event;W=["fc-event","fc-event-skin","fc-event-hori"];na(n)&&W.push("fc-event-draggable");if(C){B.isStart&&W.push("fc-corner-right");B.isEnd&&W.push("fc-corner-left");u=p(B.end.getDay()-1);F=p(B.start.getDay());q=B.isEnd?pa(u):o;J=B.isStart?G(F):r}else{B.isStart&&W.push("fc-corner-left");B.isEnd&&W.push("fc-corner-right");u=p(B.start.getDay());
F=p(B.end.getDay()-1);q=B.isStart?pa(u):o;J=B.isEnd?G(F):r}W=W.concat(n.className);if(n.source)W=W.concat(n.source.className||[]);Y=n.url;M=Jb(n,ga);k+=Y?"<a href='"+Qa(Y)+"'":"<div";k+=" class='"+W.join(" ")+"' style='position:absolute;z-index:8;left:"+q+"px;"+M+"'><div class='fc-event-inner fc-event-skin'"+(M?" style='"+M+"'":"")+">";if(!n.allDay&&B.isStart)k+="<span class='fc-event-time'>"+Qa(T(n.start,n.end,ga("timeFormat")))+"</span>";k+="<span class='fc-event-title'>"+Qa(n.title)+"</span></div>";
if(B.isEnd&&qa(n))k+="<div class='ui-resizable-handle ui-resizable-"+(C?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";k+="</"+(Y?"a":"div")+">";B.left=q;B.outerWidth=J-q;B.startCol=u;B.endCol=F+1}return k}function d(i,C){var P,E=i.length,B,n,Y;for(P=0;P<E;P++){B=i[P];n=B.event;Y=m(C[P]);n=ma("eventRender",n,n,Y);if(n===false)Y.remove();else{if(n&&n!==true){n=m(n).css({position:"absolute",left:B.left});Y.replaceWith(n);Y=n}B.element=Y}}}function f(i){var C,P=i.length,E,B;for(C=0;C<P;C++){E=i[C];(B=E.element)&&
da(E.event,B)}}function g(i,C,P){var E,B=i.length,n,Y,W;for(E=0;E<B;E++){n=i[E];if(Y=n.element){W=n.event;if(W._id===P)H(W,Y,n);else Y[0]._fci=E}}Db(C,i,H)}function l(i){var C,P=i.length,E,B,n,Y,W={};for(C=0;C<P;C++){E=i[C];if(B=E.element){n=E.key=Ib(B[0]);Y=W[n];if(Y===oa)Y=W[n]=pb(B,true);E.hsides=Y}}}function j(i){var C,P=i.length,E,B;for(C=0;C<P;C++){E=i[C];if(B=E.element)B[0].style.width=Math.max(0,E.outerWidth-E.hsides)+"px"}}function s(i){var C,P=i.length,E,B,n,Y,W={};for(C=0;C<P;C++){E=i[C];
if(B=E.element){n=E.key;Y=W[n];if(Y===oa)Y=W[n]=Fb(B);E.outerHeight=B[0].offsetHeight+Y}}}function x(){var i,C=ia(),P=[];for(i=0;i<C;i++)P[i]=ea(i).find("td:first div.fc-day-content > div");return P}function S(i){var C,P=i.length,E=[];for(C=0;C<P;C++)E[C]=i[C][0].offsetTop;return E}function Q(i,C){var P,E=i.length,B,n;for(P=0;P<E;P++){B=i[P];if(n=B.element){n[0].style.top=C[B.row]+(B.top||0)+"px";B=B.event;ma("eventAfterRender",B,B,n)}}}function y(i,C,P){var E=ga("isRTL"),B=E?"w":"e",n=C.find("div.ui-resizable-"+
B),Y=false;qb(C);C.mousedown(function(W){W.preventDefault()}).click(function(W){if(Y){W.preventDefault();W.stopImmediatePropagation()}});n.mousedown(function(W){function o(ha){ma("eventResizeStop",this,i,ha);m("body").css("cursor","");r.stop();ya();k&&ra(this,i,k,0,ha);setTimeout(function(){Y=false},0)}if(W.which==1){Y=true;var r=t.getHoverListener(),u=ia(),F=U(),q=E?-1:1,J=E?F-1:0,M=C.css("top"),k,D,Z=m.extend({},i),ja=L(i.start);K();m("body").css("cursor",B+"-resize").one("mouseup",o);ma("eventResizeStart",
this,i,W);r.start(function(ha,la){if(ha){var $=Math.max(ja.row,ha.row);ha=ha.col;if(u==1)$=0;if($==ja.row)ha=E?Math.min(ja.col,ha):Math.max(ja.col,ha);k=$*7+ha*q+J-(la.row*7+la.col*q+J);la=ba(ua(i),k,true);if(k){Z.end=la;$=D;D=b(c([Z]),P.row,M);D.find("*").css("cursor",B+"-resize");$&&$.remove();ta(i)}else if(D){ca(i);D.remove();D=null}ya();X(i.start,ba(N(la),1))}},W)}})}var t=this;t.renderDaySegs=a;t.resizableDayEvent=y;var ga=t.opt,ma=t.trigger,na=t.isEventDraggable,qa=t.isEventResizable,ua=t.eventEnd,
da=t.reportEventElement,ca=t.showEvents,ta=t.hideEvents,ra=t.eventResize,ia=t.getRowCnt,U=t.getColCnt,ea=t.allDayRow,ka=t.allDayBounds,pa=t.colContentLeft,G=t.colContentRight,p=t.dayOfWeekCol,L=t.dateCell,c=t.compileDaySegs,z=t.getDaySegmentContainer,H=t.bindDaySeg,T=t.calendar.formatDates,X=t.renderDayOverlay,ya=t.clearOverlays,K=t.clearSelection}function Mb(){function a(Q,y,t){b();y||(y=j(Q,t));s(Q,y,t);e(Q,y,t)}function b(Q){if(S){S=false;x();l("unselect",null,Q)}}function e(Q,y,t,ga){S=true;l("select",
null,Q,y,t,ga)}function d(Q){var y=f.cellDate,t=f.cellIsAllDay,ga=f.getHoverListener(),ma=f.reportDayClick;if(Q.which==1&&g("selectable")){b(Q);var na;ga.start(function(qa,ua){x();if(qa&&t(qa)){na=[y(ua),y(qa)].sort(Gb);s(na[0],na[1],true)}else na=null},Q);m(document).one("mouseup",function(qa){ga.stop();if(na){+na[0]==+na[1]&&ma(na[0],true,qa);e(na[0],na[1],true,qa)}})}}var f=this;f.select=a;f.unselect=b;f.reportSelection=e;f.daySelectionMousedown=d;var g=f.opt,l=f.trigger,j=f.defaultSelectionEnd,
s=f.renderSelection,x=f.clearSelection,S=false;g("selectable")&&g("unselectAuto")&&m(document).mousedown(function(Q){var y=g("unselectCancel");if(y)if(m(Q.target).parents(y).length)return;b(Q)})}function Lb(){function a(g,l){var j=f.shift();j||(j=m("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));j[0].parentNode!=l[0]&&j.appendTo(l);d.push(j.css(g).show());return j}function b(){for(var g;g=d.shift();)f.push(g.hide().unbind())}var e=this;e.renderOverlay=a;e.clearOverlays=b;var d=
[],f=[]}function Nb(a){var b=this,e,d;b.build=function(){e=[];d=[];a(e,d)};b.cell=function(f,g){var l=e.length,j=d.length,s,x=-1,S=-1;for(s=0;s<l;s++)if(g>=e[s][0]&&g<e[s][1]){x=s;break}for(s=0;s<j;s++)if(f>=d[s][0]&&f<d[s][1]){S=s;break}return x>=0&&S>=0?{row:x,col:S}:null};b.rect=function(f,g,l,j,s){s=s.offset();return{top:e[f][0]-s.top,left:d[g][0]-s.left,width:d[j][1]-d[g][0],height:e[l][1]-e[f][0]}}}function Ob(a){function b(j){xc(j);j=a.cell(j.pageX,j.pageY);if(!j!=!l||j&&(j.row!=l.row||j.col!=
l.col)){if(j){g||(g=j);f(j,g,j.row-g.row,j.col-g.col)}else f(j,g);l=j}}var e=this,d,f,g,l;e.start=function(j,s,x){f=j;g=l=null;a.build();b(s);d=x||"mousemove";m(document).bind(d,b)};e.stop=function(){m(document).unbind(d,b);return l}}function xc(a){if(a.pageX===oa){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Pb(a){function b(l){return d[l]=d[l]||a(l)}var e=this,d={},f={},g={};e.left=function(l){return f[l]=f[l]===oa?b(l).position().left:f[l]};e.right=function(l){return g[l]=
g[l]===oa?e.left(l)+b(l).width():g[l]};e.clear=function(){d={};f={};g={}}}var Ya={EventConfig:{aedurl:null},customButtons:{},defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},
isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",
today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},yc={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Aa=m.fullCalendar={version:"1.5.3"},Ja=Aa.views={};m.fn.fullCalendar=function(a){if(typeof a==
"string"){var b=Array.prototype.slice.call(arguments,1),e;this.each(function(){var f=m.data(this,"fullCalendar");if(f&&m.isFunction(f[a])){f=f[a].apply(f,b);if(e===oa)e=f;a=="destroy"&&m.removeData(this,"fullCalendar")}});if(e!==oa)return e;return this}var d=a.eventSources||[];delete a.eventSources;if(a.events){d.push(a.events);delete a.events}a=m.extend(true,{},Ya,a.isRTL||a.isRTL===oa&&Ya.isRTL?yc:{},a);this.each(function(f,g){f=m(g);g=new Yb(f,a,d);f.data("fullCalendar",g);g.render()});return this};
Aa.sourceNormalizers=[];Aa.sourceFetchers=[];var ac={dataType:"json",cache:false},bc=1;Aa.addDays=ba;Aa.cloneDate=N;Aa.parseDate=kb;Aa.parseISO8601=Bb;Aa.parseTime=mb;Aa.formatDate=Oa;Aa.formatDates=ib;var lc=["sun","mon","tue","wed","thu","fri","sat"],Ab=864E5,cc=36E5,wc=6E4,dc={s:function(a){return a.getSeconds()},ss:function(a){return Pa(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Pa(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Pa(a.getHours()%
12||12)},H:function(a){return a.getHours()},HH:function(a){return Pa(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Pa(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Pa(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},
yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Oa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};Aa.applyAll=$a;Ja.month=mc;Ja.basicWeek=nc;Ja.basicDay=oc;wb({weekMode:"fixed"});Ja.agendaWeek=qc;Ja.agendaDay=rc;wb({allDaySlot:true,
allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24})})(jQuery);
